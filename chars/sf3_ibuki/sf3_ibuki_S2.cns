;☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆
;首折り(小)
[Statedef 1100]
type = S
movetype = A
physics = N
anim = 1100
velset = 0,0
ctrl = 0
facep2 = 1
sprpriority = 1

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(38) = 0

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(58) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(35) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(56) = 0

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 40 && var(3)
trigger1 = Time = 0
value = SC, AT
time = 2

[State 1100, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State -2, explod]
type = explod
trigger1 = animelem = 4
anim = 6400
pos = 0,0
postype = p1
facing = 1
sprpriority = 2
bindtime = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, explod]
type = explod
trigger1 = animelem = 7
anim = 6445
pos = 0,0
postype = p1
facing = 1
sprpriority = 2
bindtime = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, veladd]
type = velset
trigger1 = animelem = 6
x = 6.0*const(size.xscale)

[State -2, Gravity]
type = veladd
trigger1 = animelemtime(14) >= 0
trigger1 = vel x > 0
x = -1.5*const(size.xscale)

[State -2, veladd]
type = velset
trigger1 = animelemtime(15) = 0
x = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 7
value = 0, 4
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 8
value = 1100, 0

[State -2, PowerAdd]
type = PowerAdd
trigger1 = AnimElemTime(8) = -1
value = 20

[State 1540, HitDef]
type = HitDef
triggerall = fvar(21) = 0
triggerall = P2BodyDist X = [ceil(-20*const(size.xscale)),ceil(20*const(size.xscale))]
triggerall = var(35) != 1100
trigger1 = animelemtime(8) >= 0
trigger1 = animelemtime(14) < 0
attr = C, SA
hitflag = M
guardflag = L
priority = 7, Miss
pausetime = 0,0
guard.pausetime = 4,4
sparkno = -1
guard.sparkno = S8410
sparkxy = -15, ceil(-10*const(size.yscale))
p1facing = 1
p2facing = 1
p1stateno = 1150
;p2stateno = 1560
hitsound = -1
guardsound = S3,0
guard.hittime = 15
guard.slidetime = 15
guard.ctrltime = 15
guard.velocity = -3.0*const(size.xscale)
guard.cornerpush.veloff = 0
numhits = 0
getpower = 0
givepower = 0
ID = 1100

[State -2, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(14) >= 0
movetype = I 

[State -2, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(18) >= 0
statetype = S

[State -2, ctrlset]
type = ctrlset
trigger1 = animelemtime(18) >= 1
value = 1

[State -2, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;首折り(中)
[Statedef 1110]
type = S
movetype = A
physics = N
anim = 1110
velset = 0,0
ctrl = 0
facep2 = 1
sprpriority = 1

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(38) = 0

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(58) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(35) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(56) = 0

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 40 && var(3)
trigger1 = Time = 0
value = SC, AT
time = 2

[State 1100, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State -2, explod]
type = explod
trigger1 = animelem = 4
anim = 6400
pos = 0,0
postype = p1
facing = 1
sprpriority = 2
bindtime = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, explod]
type = explod
trigger1 = animelem = 7
anim = 6445
pos = 0,0
postype = p1
facing = 1
sprpriority = 2
bindtime = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, veladd]
type = velset
trigger1 = animelem = 6
x = 8.0*const(size.xscale)

[State -2, Gravity]
type = veladd
trigger1 = animelemtime(14) >= 0
trigger1 = vel x > 0
x = -2.0*const(size.xscale)

[State -2, veladd]
type = velset
trigger1 = animelemtime(15) = 0
x = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 7
value = 0, 4
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 8
value = 1100, 0

[State -2, PowerAdd]
type = PowerAdd
trigger1 = AnimElemTime(8) = -1
value = 20

[State 1540, HitDef]
type = HitDef
triggerall = fvar(21) = 0
triggerall = P2BodyDist X = [ceil(-20*const(size.xscale)),ceil(20*const(size.xscale))]
triggerall = var(35) != 1110
trigger1 = animelemtime(8) >= 0
trigger1 = animelemtime(14) < 0
attr = C, SA
hitflag = M
guardflag = L
priority = 7, Miss
pausetime = 0,0
guard.pausetime = 4,4
sparkno = -1
guard.sparkno = S8410
sparkxy = -15, ceil(-10*const(size.yscale))
p1facing = 1
p2facing = 1
p1stateno = 1150
;p2stateno = 1560
hitsound = -1
guardsound = S3,0
guard.hittime = 15
guard.slidetime = 15
guard.ctrltime = 15
guard.velocity = -3.0*const(size.xscale)
guard.cornerpush.veloff = 0
numhits = 0
getpower = 0
givepower = 0
ID = 1110

[State -2, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(14) >= 0
movetype = I 

[State -2, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(18) >= 0
statetype = S

[State -2, ctrlset]
type = ctrlset
trigger1 = animelemtime(18) >= 1
value = 1

[State -2, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;首折り(大)
[Statedef 1120]
type = S
movetype = A
physics = N
anim = 1120
velset = 0,0
ctrl = 0
facep2 = 1
sprpriority = 1

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(38) = 0

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(58) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(35) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(56) = 0

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 40 && var(3)
trigger1 = Time = 0
value = SC, AT
time = 2

[State 1100, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State -2, explod]
type = explod
trigger1 = animelem = 4
anim = 6400
pos = 0,0
postype = p1
facing = 1
sprpriority = 2
bindtime = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, explod]
type = explod
trigger1 = animelem = 7
anim = 6445
pos = 0,0
postype = p1
facing = 1
sprpriority = 2
bindtime = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, veladd]
type = velset
trigger1 = animelem = 6
x = 10.0*const(size.xscale)

[State -2, Gravity]
type = veladd
trigger1 = animelemtime(15) >= 0
trigger1 = vel x > 0
x = -2.5*const(size.xscale)

[State -2, veladd]
type = velset
trigger1 = animelemtime(16) = 0
x = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 7
value = 0, 4
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 8
value = 1100, 0

[State -2, PowerAdd]
type = PowerAdd
trigger1 = AnimElemTime(8) = -1
value = 20

[State 1540, HitDef]
type = HitDef
triggerall = fvar(21) = 0
triggerall = P2BodyDist X = [ceil(-20*const(size.xscale)),ceil(20*const(size.xscale))]
triggerall = var(35) != 1120
trigger1 = animelemtime(8) >= 0
trigger1 = animelemtime(15) < 0
attr = C, SA
hitflag = M
guardflag = L
priority = 7, Miss
pausetime = 0,0
guard.pausetime = 4,4
sparkno = -1
guard.sparkno = S8410
sparkxy = -15, ceil(-10*const(size.yscale))
p1facing = 1
p2facing = 1
p1stateno = 1150
;p2stateno = 1560
hitsound = -1
guardsound = S3,0
guard.hittime = 15
guard.slidetime = 15
guard.ctrltime = 15
guard.velocity = -3.0*const(size.xscale)
guard.cornerpush.veloff = 0
numhits = 0
getpower = 0
givepower = 0
ID = 1120

[State -2, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(15) >= 0
movetype = I 

[State -2, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(19) >= 0
statetype = S

[State -2, ctrlset]
type = ctrlset
trigger1 = animelemtime(19) >= 1
value = 1

[State -2, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;首折り(EX)
[Statedef 1130]
type = C
movetype = A
physics = N
anim = 1130
velset = 0,0
ctrl = 0
poweradd = -400
facep2 = 1
sprpriority = 1

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(38) = 0

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(58) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(35) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(56) = 0

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 40 && var(3)
trigger1 = Time = 0
value = SC, AT
time = 2

[State 1050, Palfix]
type = null;PalFX
trigger1 = gametime %2=0
time = 1
add = 120,80,0
sinadd = 64,32,5,3
ignorehitpause = 1

[State 1000, 1]
type = AfterImage
trigger1 = animelemtime(1) = 0
time = 999999999
trans = add
length   = 5
timegap  = 2
framegap = 1
PalBright = 30 , 30 , 0
PalContrast = 255 , 255 , 0
PalAdd = 0 , 0 , 0
PalMul = .6 , .6 , 0
IgnoreHitPause = 1
Persistent = 1

[State 1000, 1]
type = AfterImage
trigger1 = animelemtime(13) = 2
time = 0

[State 810, 2]
type = Explod
trigger1 = time = 0
ID = 7500
anim = 7500
postype = p1
pos = 0,ceil(-40*const(size.yscale))
persistent = 0
velocity = 0, 0
accel = 0, 0
removetime = 11
sprpriority = 3
scale = const(size.xscale),const(size.yscale)

[State 1050, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 2000, 0

[State 1100, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State -2, explod]
type = explod
trigger1 = animelem = 4
anim = 6400
pos = 0,0
postype = p1
facing = 1
sprpriority = 2
bindtime = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, explod]
type = explod
trigger1 = animelem = 7
anim = 6445
pos = 0,0
postype = p1
facing = 1
sprpriority = 2
bindtime = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, veladd]
type = velset
trigger1 = animelem = 5
x = 10.4*const(size.xscale)

[State -2, Gravity]
type = veladd
trigger1 = animelemtime(13) >= 0
trigger1 = vel x > 0
x = -2.6*const(size.xscale)

[State -2, veladd]
type = velset
trigger1 = animelemtime(15) = 0
x = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 7
value = 0, 4
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 8
value = 1100, 0

[State 1540, HitDef]
type = HitDef
triggerall = fvar(21) = 0
triggerall = P2BodyDist X = [ceil(-20*const(size.xscale)),ceil(20*const(size.xscale))]
triggerall = var(35) != 1130
trigger1 = animelemtime(8) >= 0
trigger1 = animelemtime(15) < 0
attr = C, SA
hitflag = M
guardflag = L
priority = 7, Miss
pausetime = 0,0
guard.pausetime = 4,4
sparkno = -1
guard.sparkno = S8410
sparkxy = -15, ceil(-10*const(size.yscale))
p1facing = 1
p2facing = 1
p1stateno = 1170
;p2stateno = 1560
hitsound = -1
guardsound = S3,0
guard.hittime = 15
guard.slidetime = 15
guard.ctrltime = 15
guard.velocity = -3.0*const(size.xscale)
guard.cornerpush.veloff = 0
numhits = 0
getpower = 0
givepower = 0
ID = 1130

[State -2, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(13) >= 0
movetype = I 

[State -2, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(17) >= 0
statetype = S

[State -2, ctrlset]
type = ctrlset
trigger1 = animelemtime(17) >= 1
value = 1

[State -2, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;首折り(投げた側)
[Statedef 1150]
type    = A
movetype= A
physics = N
anim = 1150
velset = 0,0
SprPriority = 2

[State -2, ヒットスパーク]
type = Explod
trigger1 = time = 0
anim = 1151
pos = -ceil(abs(target,pos X-pos X)),0
postype = p1
sprpriority = 10
bindtime = 1
ignorehitpause = 1
ownpal = 1
scale = const(size.xscale), const(size.yscale)

[State -2, ヒットスパーク]
type = Explod
trigger1 = time = 0
anim = 8180
pos = -ceil(abs(target,pos X-pos X))+ceil(25*const(size.xscale)),ceil(-10*const(size.yscale))
postype = p1
sprpriority = 5
bindtime = 1
ignorehitpause = 1
ownpal = 1
scale = const(size.xscale), const(size.yscale)

[State -2, TargetState]
type = TargetState
Trigger1 = time = 0
value = 1160

[State 810, Playerpush]
type = Playerpush
trigger1 = 1
value = 0

[State -2, ScreenBound]
type = ScreenBound
trigger1 = time > 0
trigger1 = animelemtime(13) < 0
value = 0
movecamera = 1,0

[State 1200, 9]
type = Width
trigger1 = time = 0
edge = ceil(30*const(size.xscale)),0

[State 820, 画像表示優先度]
type = SprPriority
trigger1 = AnimElem = 7
value = 0

[State -2, explod]
type = explod
trigger1 = animelem = 8
anim = 1155
pos = 0,0
postype = p1
facing = 1
sprpriority = 2
bindtime = -1
ownpal = 0
scale = const(size.xscale),const(size.yscale)

[State 810, 音を鳴らす]
type = playsnd
trigger1 = time = 0
value = 2,5

[State 810, 音を鳴らす]
type = playsnd
trigger1 = animelem = 13
value = 2,6

[State -2, posset]
type = posset
trigger1 = time = 0
x = target,pos X

[State 810, TargetBind]
type = TargetBind
trigger1 = animelem = 1
trigger2 = animelem = 2
pos = 0,0

[State -2, posset]
type = posset
trigger1 = animelem = 3
y = target,const(size.head.pos.y)

[State -2, posadd]
type = posadd
trigger1 = animelem = 3
x = 15*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = animelem = 3
trigger1 = target,authorname = "GM"
trigger1 = target,name = "Hugo"
x = -5*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = animelem = 5
x = 15*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = animelem = 5
trigger1 = target,authorname = "GM"
trigger1 = target,name = "Hugo"
x = -5*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = animelem = 7
x = -15*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = animelem = 7
trigger1 = target,authorname = "GM"
trigger1 = target,name = "Ibuki"
x = 5*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = animelem = 7
trigger1 = target,authorname = "GM"
trigger1 = target,name = "Alex" || target,name = "Hugo"
x = -5*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = animelem = 9
x = -15*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = animelem = 9
trigger1 = target,authorname = "GM"
trigger1 = target,name = "Ibuki"
x = 5*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = animelem = 9
trigger1 = target,authorname = "GM"
trigger1 = target,name = "Alex" || target,name = "Hugo"
x = -5*const(size.xscale)

[State -2, posset]
type = posadd
trigger1 = animelem = 10
y = 4*const(size.yscale)

[State -2, posset]
type = posadd
trigger1 = animelem = 11
y = -4*const(size.yscale)

[State -2, posset]
type = posadd
trigger1 = animelem = 12
x = 10*const(size.xscale)

[State -2, posset]
type = posadd
trigger1 = animelem = 13
y = 42*const(size.yscale)

[State -2, ヒットスパーク]
type = Explod
trigger1 = animelem = 13
anim = 6410
pos = 0,ceil(-42*const(size.yscale))
postype = p1
sprpriority = 5
bindtime = 1
ignorehitpause = 1
ownpal = 1
scale = const(size.xscale), const(size.yscale)

[State -2, TargetState]
type = TargetState
trigger1 = animelem = 13
value = 1161

[State 811, TargetLifeadd]
type = TargetLifeadd
trigger1 = animelem = 13
value = ceil(-150*fvar(0)*fvar(26)*fvar(29)*(const(data.attack)*0.01))

[State -2, Attack_Up]
type = VarAdd
trigger1 = animelem = 13
fvar(29) = -0.0625

[State -2, VarAdd]
type = VarAdd
trigger1 = animelem = 13
fvar(10) = 1

[State -2, PowerAdd]
type = PowerAdd
trigger1 = animelem = 13
value = 70

[State -2, Poweradd]
type = TargetPoweradd
trigger1 = animelem = 13
value = 30

[State -2, HitAdd]
type = HitAdd
trigger1 = animelem = 13
value = 1

[State 5100, EnvShake]
type = EnvShake
trigger1 = animelem = 13
time = 10
freq = 80
ampl = -3

[State 5050, 3]
type = VelSet
trigger1 = animelem = 13
x = -2.0*const(size.xscale)
y = -8.5*const(size.yscale)

[State 5050, 3]
type = VelAdd
trigger1 = animelemtime(13) >= 0
y = .50*const(size.yscale)

[State 810, 0]
type = turn 
trigger1 = animelem = 20

[State 810, State End]
type = ChangeState
trigger1 = animelemtime(13) > 0
trigger1 = vel Y > 0
trigger1 = pos Y >= 0
value = 52

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;首折り(投げられた側)1
[Statedef 1160]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
SprPriority = 1

[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1160

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Gill"
value = 1160+(facing=-1)*100004

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Ibuki"
value = 101160

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Ryu" || name = "Ken" || name = "Gouki" || name = "Sean"
value = 101161

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Alex"
value = 101162

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Hugo"
value = 101163

[State -2, varadd]
type = varadd
triggerall = animelem = 8
triggerall = authorname = "GM"
trigger1 = name = "Alex" || name = "Hugo" || name = "Gill"
fvar(2) = 4.4
persistent = 0

[State -2, varadd]
type = varadd
triggerall = animelem = 6
triggerall = authorname = "GM"
trigger1 = name = "Ibuki"
fvar(2) = 4.4
persistent = 0

[State -2, varadd]
type = varadd
triggerall = animelem = 9
triggerall = authorname = "GM"
trigger1 = name = "Ryu" || name = "Ken" || name = "Gouki" || name = "Sean"
fvar(2) = 4.4
persistent = 0

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;首折り(投げられた側)2
[Statedef 1161]
type    = A
movetype= H
physics = N
velset = 0,0
SprPriority = 1

[State -3, PlaySnd]
type = PlaySnd
triggerall = time = 2
triggerall = alive
triggerall = authorname = "GM"
trigger1 = name = "Ryu" || name = "Ken" || name = "Gouki" || name = "Sean"
trigger2 = name = "Alex" || name = "Hugo" || name = "Ibuki"
trigger3 = name = "Gill"
value = S5000,1
channel = 2

[State 810, 0]
type = turn 
trigger1 = time = 0

[State 820, posadd]
type = null;posadd
trigger1 = Time = 0
x = const(size.mid.pos.Y)-const(size.head.pos.Y)

[State 5050, 3]
type = VelSet
trigger1 = time = 0
x = 1.5
y = -7.0

[State 811, ChangeAnim2]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050+(SelfAnimExist(5052))*2

[State 811, ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Hugo"
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3]
type = VelAdd
trigger1 = 1
y = .55

[State 5050, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;首折り(投げた側)
[Statedef 1170]
type    = A
movetype= A
physics = N
anim = 1170
velset = 0,0
SprPriority = 2

[State 1000, 1]
type = AfterImage
trigger1 = time = 0
time = 0

[State -2, ヒットスパーク]
type = Explod
trigger1 = time = 0
anim = 1151
pos = -ceil(abs(target,pos X-pos X)),0
postype = p1
sprpriority = 10
bindtime = 1
ignorehitpause = 1
ownpal = 1
scale = const(size.xscale), const(size.yscale)

[State -2, ヒットスパーク]
type = Explod
trigger1 = time = 0
anim = 8180
pos = -ceil(abs(target,pos X-pos X))+ceil(25*const(size.xscale)),ceil(-10*const(size.yscale))
postype = p1
sprpriority = 5
bindtime = 1
ignorehitpause = 1
ownpal = 1
scale = const(size.xscale), const(size.yscale)

[State -2, TargetState]
type = TargetState
Trigger1 = time = 0
value = 1180

[State 810, Playerpush]
type = Playerpush
trigger1 = 1
value = 0

[State -2, ScreenBound]
type = ScreenBound
trigger1 = time > 0
trigger1 = animelemtime(13) < 0
value = 0
movecamera = 1,0

[State 1200, 9]
type = Width
trigger1 = time = 0
edge = ceil(30*const(size.xscale)),0

[State 820, 画像表示優先度]
type = SprPriority
trigger1 = AnimElem = 7
value = 0

[State -2, explod]
type = explod
trigger1 = animelem = 8
anim = 1175
pos = 0,0
postype = p1
facing = 1
sprpriority = 2
bindtime = -1
ownpal = 0
scale = const(size.xscale),const(size.yscale)

[State -2, explod]
type = explod
trigger1 = animelem = 23
anim = 1176
pos = 0,0
postype = p1
facing = 1
sprpriority = 2
bindtime = -1
ownpal = 0
scale = const(size.xscale),const(size.yscale)

[State -2, explod]
type = explod
trigger1 = animelem = 38
anim = 1177
pos = 0,0
postype = p1
facing = 1
sprpriority = 2
bindtime = -1
ownpal = 0
scale = const(size.xscale),const(size.yscale)

[State 810, 音を鳴らす]
type = playsnd
trigger1 = time = 0
value = 2,5

[State 810, 音を鳴らす]
type = playsnd
trigger1 = animelem = 13
trigger2 = animelem = 28
trigger3 = animelem = 43
value = 2,6

[State -2, posset]
type = posset
trigger1 = time = 0
x = target,pos X

[State 810, TargetBind]
type = TargetBind
trigger1 = animelem = 1
trigger2 = animelem = 2
pos = 0,0

[State -2, posset]
type = posset
trigger1 = animelem = 3
y = target,const(size.head.pos.y)

[State -2, posadd]
type = posadd
trigger1 = animelem = 3
x = 15*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = animelem = 3
trigger1 = target,authorname = "GM"
trigger1 = target,name = "Hugo"
x = -5*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = animelem = 5
x = 15*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = animelem = 5
trigger1 = target,authorname = "GM"
trigger1 = target,name = "Hugo"
x = -5*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = animelem = 7
x = -15*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = animelem = 7
trigger1 = target,authorname = "GM"
trigger1 = target,name = "Ibuki"
x = 5*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = animelem = 7
trigger1 = target,authorname = "GM"
trigger1 = target,name = "Alex" || target,name = "Hugo"
x = -5*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = animelem = 9
x = -15*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = animelem = 9
trigger1 = target,authorname = "GM"
trigger1 = target,name = "Ibuki"
x = 5*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = animelem = 9
trigger1 = target,authorname = "GM"
trigger1 = target,name = "Alex" || target,name = "Hugo"
x = -5*const(size.xscale)

[State -2, posset]
type = posadd
trigger1 = animelem = 10
y = 4*const(size.yscale)

[State -2, posset]
type = posadd
trigger1 = animelem = 11
y = -4*const(size.yscale)

[State -2, posset]
type = posadd
trigger1 = animelem = 12
x = 10*const(size.xscale)

[State -2, posset]
type = posadd
trigger1 = animelem = 13
y = 42*const(size.yscale)

[State -2, posset]
type = posadd
trigger1 = animelem = 28
trigger2 = animelem = 43
y = -30*const(size.yscale)

[State -2, ヒットスパーク]
type = Explod
trigger1 = animelem = 13
trigger2 = animelem = 43
anim = 6410
pos = 0,ceil(-42*const(size.yscale))
postype = p1
sprpriority = 5
bindtime = 1
ignorehitpause = 1
ownpal = 1
scale = const(size.xscale), const(size.yscale)

[State -2, ヒットスパーク]
type = Explod
trigger1 = animelem = 28
anim = 6410
pos = 0,ceil(-42*const(size.yscale))
postype = p1
sprpriority = 5
bindtime = 1
facing = -1
ignorehitpause = 1
ownpal = 1
scale = const(size.xscale), const(size.yscale)

[State 810, TargetBind]
type = TargetBind
trigger1 = AnimElem = 23
pos = ceil(6*const(size.xscale)), ceil(-52*const(size.yscale))

[State 810, TargetBind]
type = TargetBind
trigger1 = AnimElem = 24
trigger2 = AnimElem = 25
trigger3 = AnimElem = 26
trigger4 = AnimElem = 27
pos = ceil(6*const(size.xscale)), ceil(-72*const(size.yscale))

[State 810, TargetBind]
type = TargetBind
trigger1 = AnimElem = 38
pos = ceil(-6*const(size.xscale)), ceil(-52*const(size.yscale))

[State 810, TargetBind]
type = TargetBind
trigger1 = AnimElem = 39
trigger2 = AnimElem = 40
trigger3 = AnimElem = 41
trigger4 = AnimElem = 42
pos = ceil(-6*const(size.xscale)), ceil(-72*const(size.yscale))

[State -2, TargetState]
type = TargetState
trigger1 = animelem = 13
value = 1185

[State -2, TargetState]
type = TargetState
trigger1 = animelem = 28
value = 1186

[State -2, TargetState]
type = TargetState
trigger1 = animelem = 43
value = 1187

[State -2, TargetState]
type = TargetState
trigger1 = animelem = 23
trigger2 = animelem = 38
value = 1181

[State 811, TargetLifeadd]
type = TargetLifeadd
trigger1 = animelem = 13
value = ceil(-50*fvar(0)*fvar(26)*fvar(29)*(const(data.attack)*0.01))
kill = 0

[State 811, TargetLifeadd]
type = TargetLifeadd
trigger1 = animelem = 28
value = ceil(-60*fvar(0)*fvar(26)*fvar(29)*(const(data.attack)*0.01))
kill = 0

[State 811, TargetLifeadd]
type = TargetLifeadd
trigger1 = animelem = 43
value = ceil(-90*fvar(0)*fvar(26)*fvar(29)*(const(data.attack)*0.01))

[State -2, Attack_Up]
type = VarAdd
trigger1 = animelem = 13
trigger2 = animelem = 28
trigger3 = animelem = 43
fvar(29) = -0.0625

[State -2, VarAdd]
type = VarAdd
trigger1 = animelem = 43
fvar(10) = 3

[State -2, HitAdd]
type = HitAdd
trigger1 = animelem = 13
trigger2 = animelem = 28
trigger3 = animelem = 43
value = 1

[State 5100, EnvShake]
type = EnvShake
trigger1 = animelem = 13
trigger2 = animelem = 28
trigger3 = animelem = 43
time = 10
freq = 80
ampl = -3

[State 5050, 3]
type = VelSet
trigger1 = animelem = 13
trigger2 = animelem = 28
y = -3.0

[State 5050, 3]
type = VelAdd
trigger1 = animelemtime(13) >= 0
trigger1 = animelemtime(23) < 0
trigger2 = animelemtime(28) >= 0
trigger2 = animelemtime(38) < 0
y = .20

[State 5050, 3]
type = VelSet
trigger1 = animelem = 23
trigger2 = animelem = 38
y = 0

[State 5050, 3]
type = VelSet
trigger1 = animelem = 43
x = -2.0*const(size.xscale)
y = -8.5*const(size.yscale)

[State 5050, 3]
type = VelAdd
trigger1 = animelemtime(43) >= 0
y = .50*const(size.yscale)

[State 810, 0]
type = turn 
trigger1 = animelem = 50

[State 810, State End]
type = ChangeState
trigger1 = animelemtime(43) > 0
trigger1 = vel Y > 0
trigger1 = pos Y >= 0
value = 52

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;首折り(投げられた側)1
[Statedef 1180]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
SprPriority = 1

[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1180

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Gill"
value = 1180+(facing=-1)*100004

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Ibuki"
value = 101180

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Ryu" || name = "Ken" || name = "Gouki" || name = "Sean"
value = 101181

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Alex"
value = 101182

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Hugo"
value = 101183

[State -2, varadd]
type = varadd
triggerall = animelem = 8
triggerall = authorname = "GM"
trigger1 = name = "Alex" || name = "Hugo" || name = "Gill"
fvar(2) = 3
persistent = 0

[State -2, varadd]
type = varadd
triggerall = animelem = 6
triggerall = authorname = "GM"
trigger1 = name = "Ibuki"
fvar(2) = 3
persistent = 0

[State -2, varadd]
type = varadd
triggerall = animelem = 9
triggerall = authorname = "GM"
trigger1 = name = "Ryu" || name = "Ken" || name = "Gouki" || name = "Sean"
fvar(2) = 3
persistent = 0

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;首折り(投げられた側)1
[Statedef 1181]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0
SprPriority = 1

[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1181

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Gill"
value = 1181+(facing=-1)*10000

[State -2, varadd]
type = varadd
triggerall = animelem = 8
triggerall = authorname = "GM"
trigger1 = name = "Ryu" || name = "Ken" || name = "Gouki" || name = "Sean"
trigger2 = name = "Alex" || name = "Hugo" || name = "Ibuki"
trigger3 = name = "Gill"
fvar(2) = 1.4
persistent = 0

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;首折り(投げられた側)2
[Statedef 1185]
type    = A
movetype= H
physics = N
velset = 0,0
SprPriority = 1

[State -3, PlaySnd]
type = PlaySnd
triggerall = time = 2
triggerall = alive
triggerall = authorname = "GM"
trigger1 = name = "Ryu" || name = "Ken" || name = "Gouki" || name = "Sean"
trigger2 = name = "Alex" || name = "Hugo" || name = "Ibuki"
trigger3 = name = "Gill"
value = S5000,1
channel = 2

[State 810, 0]
type = turn 
trigger1 = time = 0

[State 820, posadd]
type = null;posadd
trigger1 = Time = 0
x = const(size.mid.pos.Y)-const(size.head.pos.Y)

[State 5050, 3]
type = VelSet
trigger1 = time = 0
y = -3.0

[State 811, ChangeAnim2]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050+(SelfAnimExist(5052))*2

[State 811, ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Hugo"
value = 5050

[State 811, ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Gill"
value = 5052+(facing=-1)*100000

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3]
type = VelAdd
trigger1 = 1
y = .20

[State 5050, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;首折り(投げられた側)2
[Statedef 1186]
type    = A
movetype= H
physics = N
velset = 0,0
SprPriority = 1

[State -3, PlaySnd]
type = PlaySnd
triggerall = time = 2
triggerall = alive
triggerall = authorname = "GM"
trigger1 = name = "Ryu" || name = "Ken" || name = "Gouki" || name = "Sean"
trigger2 = name = "Alex" || name = "Hugo" || name = "Ibuki"
trigger3 = name = "Gill"
value = S5000,1
channel = 2

[State 810, 0]
type = turn 
trigger1 = time = 0

[State 820, posadd]
type = posadd
trigger1 = Time = 0
;x = const(size.mid.pos.Y)-const(size.head.pos.Y)
y = -const(size.head.pos.Y)

[State 5050, 3]
type = VelSet
trigger1 = time = 0
y = -3.0

[State 811, ChangeAnim2]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050+(SelfAnimExist(5052))*2

[State 811, ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Hugo"
value = 5050

[State 811, ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Gill"
value = 5052+(facing=-1)*100000

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3]
type = VelAdd
trigger1 = 1
y = .20

[State 5050, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;首折り(投げられた側)2
[Statedef 1187]
type    = A
movetype= H
physics = N
velset = 0,0
SprPriority = 1

[State -3, PlaySnd]
type = PlaySnd
triggerall = time = 2
triggerall = alive
triggerall = authorname = "GM"
trigger1 = name = "Ryu" || name = "Ken" || name = "Gouki" || name = "Sean"
trigger2 = name = "Alex" || name = "Hugo" || name = "Ibuki"
trigger3 = name = "Gill"
value = S5000,1
channel = 2

[State 810, 0]
type = turn 
trigger1 = time = 0

[State 820, posadd]
type = posadd
trigger1 = Time = 0
;x = const(size.mid.pos.Y)-const(size.head.pos.Y)
y = -const(size.head.pos.Y)

[State 5050, 3]
type = VelSet
trigger1 = time = 0
x = 1.5
y = -7.0

[State 811, ChangeAnim2]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050+(SelfAnimExist(5052))*2

[State 811, ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Hugo"
value = 5050

[State 811, ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Gill"
value = 5052+(facing=-1)*100000

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3]
type = VelAdd
trigger1 = 1
y = .55

[State 5050, 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆
;飛燕(小)
[Statedef 1400]
type = S
movetype = A
physics = N
anim = 1400
ctrl = 0
velset = 0,0
facep2 = 1
;poweradd = 30
sprpriority = 1

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(38) = 0

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(58) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(35) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(56) = 0

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(10) = 0

[State -2, Attack_Down]
type = VarSet
trigger1 = time = 0
fvar(25) = fvar(0)

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 40 && var(3)
trigger1 = Time = 0
value = SC, AT
time = 2

[State 1100, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State -2, explod]
type = explod
trigger1 = AnimElemTime(3) = 1
anim = 6441
pos = ceil(-25*const(size.xscale)),0
postype = p1
facing = 1
sprpriority = 2
bindtime = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, StateType]
type = StateTypeSet
trigger1 = AnimElemTime(4) = 0
StateType = A

[State -2, veladd]
type = velset
trigger1 = animelemtime(4) = 0
x = 2.5*const(size.xscale)
y = -7.5*const(size.yscale)

[State -2, Gravity]
type = veladd
trigger1 = animelemtime(4) >= 0
y = .50*const(size.yscale)

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 2
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 40, 0

[State -2, PowerAdd]
type = PowerAdd
trigger1 = AnimElemTime(11) = -1
value = 30

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
triggerall = var(35) != 1400
trigger1 = animelemtime(11) >= 0
trigger1 = animelemtime(13) < 0
attr = A, SA
animtype  = hard
air.animtype  = back
damage = ceil(40*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(7*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 40,80
givepower = 40,0
hitflag = MAF
guardflag = H
pausetime = 0,12-(enemynear,statetype=A)*6
guard.pausetime = 0,12-(enemynear,statetype=A)*6
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-35*const(size.yscale)) 
hitsound = S2,4
guardsound = S3,1
ground.type = Low
ground.slidetime = 13
ground.hittime  = 15
guard.hittime = 15
guard.slidetime = 13
guard.ctrltime = 15
air.hittime  = 15
ground.velocity = -5.0*const(size.xscale)
guard.velocity = -5.0*const(size.xscale)
air.velocity = -4.0*const(size.xscale),-8.5*const(size.yscale)
fall = 0
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = .60*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1400 

[State 200, hitspark x]
type = VarSet
trigger1 = 1
var(42) = floor(ifelse(30+(abs(enemynear,Pos X-Pos X)/2)<75,30+(abs(enemynear,Pos X-Pos X)/2),75))

[State 200, sparkno]
type = VarSet
trigger1 = 1
var(43) = -35

[State 200, sparkno]
type = VarSet
trigger1 = 1
var(44) = 8200

[State -2, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1450

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;飛燕(中)
[Statedef 1410]
type = S
movetype = A
physics = N
anim = 1410
ctrl = 0
velset = 0,0
facep2 = 1
;poweradd = 30
sprpriority = 1

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(38) = 0

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(58) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(35) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(56) = 0

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(10) = 1

[State -2, Attack_Down]
type = VarSet
trigger1 = time = 0
fvar(25) = fvar(0)

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 40 && var(3)
trigger1 = Time = 0
value = SC, AT
time = 2

[State 1100, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State -2, explod]
type = explod
trigger1 = AnimElemTime(3) = 1
anim = 6441
pos = ceil(-25*const(size.xscale)),0
postype = p1
facing = 1
sprpriority = 2
bindtime = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, StateType]
type = StateTypeSet
trigger1 = AnimElemTime(4) = 0
StateType = A

[State -2, veladd]
type = velset
trigger1 = animelemtime(4) = 0
x = 4.0*const(size.xscale)
y = -13.5*const(size.yscale)

[State -2, Gravity]
type = veladd
trigger1 = animelemtime(4) >= 0
y = 1.0*const(size.yscale)

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 2
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 40, 0

[State -2, PowerAdd]
type = PowerAdd
trigger1 = AnimElemTime(11) = -1
value = 30

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
triggerall = var(35) != 1410
trigger1 = animelemtime(11) >= 0
trigger1 = animelemtime(13) < 0
attr = A, SA
animtype  = hard
air.animtype  = back
damage = ceil(40*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(7*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 40,80
givepower = 40,0
hitflag = MAF
guardflag = H
pausetime = 0,12-(enemynear,statetype=A)*6
guard.pausetime = 0,12-(enemynear,statetype=A)*6
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-35*const(size.yscale)) 
hitsound = S2,4
guardsound = S3,1
ground.type = Low
ground.slidetime = 13
ground.hittime  = 15
guard.hittime = 15
guard.slidetime = 13
guard.ctrltime = 15
air.hittime  = 15
ground.velocity = -5.0*const(size.xscale)
guard.velocity = -5.0*const(size.xscale)
air.velocity = -4.0*const(size.xscale),-8.5*const(size.yscale)
fall = 0
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = .60*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1410 

[State 200, hitspark x]
type = VarSet
trigger1 = 1
var(42) = floor(ifelse(30+(abs(enemynear,Pos X-Pos X)/2)<75,30+(abs(enemynear,Pos X-Pos X)/2),75))

[State 200, sparkno]
type = VarSet
trigger1 = 1
var(43) = -35

[State 200, sparkno]
type = VarSet
trigger1 = 1
var(44) = 8200

[State -2, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1450

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;飛燕(大)
[Statedef 1420]
type = S
movetype = A
physics = N
anim = 1420
ctrl = 0
velset = 0,0
facep2 = 1
;poweradd = 30
sprpriority = 1

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(38) = 0

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(58) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(35) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(56) = 0

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(10) = 2

[State -2, Attack_Down]
type = VarSet
trigger1 = time = 0
fvar(25) = fvar(0)

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 40 && var(3)
trigger1 = Time = 0
value = SC, AT
time = 2

[State 1100, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State -2, explod]
type = explod
trigger1 = AnimElemTime(3) = 1
anim = 6441
pos = ceil(-25*const(size.xscale)),0
postype = p1
facing = 1
sprpriority = 2
bindtime = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, StateType]
type = StateTypeSet
trigger1 = AnimElemTime(4) = 0
StateType = A

[State -2, veladd]
type = velset
trigger1 = animelemtime(4) = 0
x = 5.5*const(size.xscale)
y = -15.95*const(size.yscale)

[State -2, Gravity]
type = veladd
trigger1 = animelemtime(4) >= 0
y = 1.1*const(size.yscale)

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 2
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 40, 0

[State -2, PowerAdd]
type = PowerAdd
trigger1 = AnimElemTime(11) = -1
value = 30

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
triggerall = var(35) != 1420
trigger1 = animelemtime(11) >= 0
trigger1 = animelemtime(13) < 0
attr = A, SA
animtype  = hard
air.animtype  = back
damage = ceil(40*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(7*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 40,80
givepower = 40,0
hitflag = MAF
guardflag = H
pausetime = 0,12-(enemynear,statetype=A)*6
guard.pausetime = 0,12-(enemynear,statetype=A)*6
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-35*const(size.yscale)) 
hitsound = S2,4
guardsound = S3,1
ground.type = Low
ground.slidetime = 13
ground.hittime  = 15
guard.hittime = 15
guard.slidetime = 13
guard.ctrltime = 15
air.hittime  = 15
ground.velocity = -5.0*const(size.xscale)
guard.velocity = -5.0*const(size.xscale)
air.velocity = -4.0*const(size.xscale),-8.5*const(size.yscale)
fall = 0
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = .60*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1420 

[State 200, hitspark x]
type = VarSet
trigger1 = 1
var(42) = floor(ifelse(30+(abs(enemynear,Pos X-Pos X)/2)<75,30+(abs(enemynear,Pos X-Pos X)/2),75))

[State 200, sparkno]
type = VarSet
trigger1 = 1
var(43) = -35

[State 200, sparkno]
type = VarSet
trigger1 = 1
var(44) = 8200

[State -2, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1450

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;飛燕(EX)
[Statedef 1430]
type = S
movetype = A
physics = N
anim = 1430
ctrl = 0
velset = 0,0
facep2 = 1
poweradd = -400
sprpriority = 1

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(38) = 0

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(58) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(35) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(56) = 0

[State 1000, VarSet]
type = VarSet
trigger1 = Time = 0
var(10) = 3

[State -2, Attack_Down]
type = VarSet
trigger1 = time = 0
fvar(25) = fvar(0)

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 40 && var(3)
trigger1 = Time = 0
value = SC, AT
time = 2

[State 1050, Palfix]
type = PalFX
trigger1 = gametime %2=0
time = 1
add = 120,80,0
sinadd = 64,32,5,3
ignorehitpause = 1

[State 1000, 1]
type = AfterImage
trigger1 = animelemtime(1) = 0
time = 999999999
trans = add
length   = 5
timegap  = 2
framegap = 1
PalBright = 30 , 30 , 0
PalContrast = 255 , 255 , 0
PalAdd = 0 , 0 , 0
PalMul = .6 , .6 , 0
IgnoreHitPause = 1
Persistent = 1

[State 810, 2]
type = Explod
trigger1 = time = 0
ID = 7500
anim = 7500
postype = p1
pos = ceil(-20*const(size.xscale)),ceil(-30*const(size.yscale))
persistent = 0
velocity = 0, 0
accel = 0, 0
removetime = 11
sprpriority = 3
scale = const(size.xscale),const(size.yscale)

[State 1050, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 2
value = 2000, 0

[State 1100, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State -2, explod]
type = explod
trigger1 = AnimElemTime(3) = 1
anim = 6441
pos = ceil(-25*const(size.xscale)),0
postype = p1
facing = 1
sprpriority = 2
bindtime = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, StateType]
type = StateTypeSet
trigger1 = AnimElemTime(4) = 0
StateType = A

[State 1200, VelSet]
type = VelSet
trigger1 = animelemtime(4) >= 0
trigger1 = vel y < 0
x = floor((p2dist X)/15)

[State -2, veladd]
type = velset
trigger1 = animelemtime(4) = 0
y = -21.6*const(size.yscale)

[State -2, Gravity]
type = veladd
trigger1 = animelemtime(4) >= 0
y = 1.6*const(size.yscale)

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 0, 2
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = AnimElem = 4
value = 40, 0

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
triggerall = var(35) != 1430
trigger1 = animelemtime(11) >= 0
attr = A, SA
animtype  = hard
air.animtype  = back
damage = ceil(40*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(7*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 0,0
givepower = 0,0
hitflag = MAF
guardflag = H
pausetime = 0,12-(enemynear,statetype=A)*6
guard.pausetime = 0,12-(enemynear,statetype=A)*6
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-35*const(size.yscale)) 
hitsound = S2,4
guardsound = S3,1
ground.type = Low
ground.slidetime = 13
ground.hittime  = 15
guard.hittime = 15
guard.slidetime = 13
guard.ctrltime = 15
air.hittime  = 15
ground.velocity = -5.0*const(size.xscale)
guard.velocity = -5.0*const(size.xscale)
air.velocity = -4.0*const(size.xscale),-8.5*const(size.yscale)
fall = 0
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = .60*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1420 

[State 200, hitspark x]
type = VarSet
trigger1 = 1
var(42) = floor(ifelse(30+(abs(enemynear,Pos X-Pos X)/2)<75,30+(abs(enemynear,Pos X-Pos X)/2),75))

[State 200, sparkno]
type = VarSet
trigger1 = 1
var(43) = -35

[State 200, sparkno]
type = VarSet
trigger1 = 1
var(44) = 8200

[State -2, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1450

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;飛燕(追い討ち)
[Statedef 1440]
type = A
movetype = A
physics = N
anim = 1440
ctrl = 0
velset = 0,0
sprpriority = 1
movehitpersist = 1

[State -3]
type = AfterImage
trigger1 = time = 0
time = 0

[State -2, posfreeze]
type = posfreeze
trigger1 = animelemtime(1) < 7

[State -2, veladd]
type = velset
trigger1 = animelemtime(1) = 7
y = 1.0*const(size.yscale)

[State -2, veladd]
type = velset
trigger1 = animelemtime(5) = 0
x = (-2.0-var(10)*1.0)*const(size.xscale)
y = -8.5*const(size.yscale)

[State -2, Gravity]
type = veladd
trigger1 = animelemtime(5) >= 0
trigger1 = fvar(15):= .50*const(size.yscale)
y = .50*const(size.yscale)

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
triggerall = var(35) != 1440
trigger1 = animelemtime(4) >= 0
trigger1 = animelemtime(5) < 0
attr = A, SA
animtype  = hard
air.animtype  = back
damage = ceil((75+(var(10)=1)*15+(var(10)=2)*35+(var(10)=3)*75)*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil((7+(var(10)=[2,3])*2)*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 20-(var(10)=3)*20,10-(var(10)=3)*10
givepower = 0,0
hitflag = MAF
guardflag = H
pausetime = 11+(var(10)=2)*4+(var(10)=3)*5,14-(var(10)=1)*2
guard.pausetime = 11+(var(10)=2)*4+(var(10)=3)*5,14-(var(10)=1)*2+(var(10)=3)*1
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-35*const(size.yscale)) 
hitsound = S2,7
guardsound = S3,1
ground.type = Low
ground.slidetime = 13
ground.hittime  = 15
guard.hittime = 15
guard.slidetime = 13
guard.ctrltime = 15
air.hittime  = 15
ground.velocity = -5.0*const(size.xscale)
guard.velocity = -5.0*const(size.xscale)
air.velocity = -4.0*const(size.xscale),-8.5*const(size.yscale)
fall = 0
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = .60*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1440 

[State 200, hitspark x]
type = VarSet
trigger1 = 1
var(42) = floor(ifelse(30+(abs(enemynear,Pos X-Pos X)/2)<75,30+(abs(enemynear,Pos X-Pos X)/2),75))

[State 200, sparkno]
type = VarSet
trigger1 = 1
var(43) = -35

[State 200, sparkno]
type = VarSet
trigger1 = 1
var(44) = 8290

[State -2, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(5) >= 0
movetype = I 

[State -2, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1450

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;飛燕（着地）
[Statedef 1450]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1450

[State -3, 音を鳴らす]
type = PlaySnd
trigger1 = Time = 0
value = 52, 0

[State 1150, 1]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 1150, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State -2, ChangeState]
type = ChangeState
trigger1 = P2dist X < 0
trigger1 = AnimElemTime(5) >= 1
value = 0
ctrl = 1

[State 200, Ctrlset]
type = Ctrlset
trigger1 = AnimElemTime(5) >= 1
value = 1

[State 1150, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆
;旋(小)
[Statedef 1300]
type = S
movetype = A
physics = N
anim = 1300
ctrl = 0
velset = 0,0
juggle = 0
;poweradd = 30
facep2 = 1
sprpriority = 2

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(38) = 0

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(58) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(35) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(56) = 0

[State -2, Attack_Down]
type = VarSet
trigger1 = time = 0
fvar(25) = fvar(0)

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 40 && var(3)
trigger1 = Time = 0
value = SC, AT
time = 2

[State 1100, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State -2, Explod]
type = Explod
trigger1 = anim = 1300 && animelem = 8
trigger2 = anim = 1300 && animelem = 22
anim = 6470
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
scale = const(size.xscale), const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1301 && animelem = 9
anim = 6471
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
scale = const(size.xscale), const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1300 && animelem = 10
trigger2 = anim = 1300 && animelem = 15
trigger3 = anim = 1300 && animelem = 24
trigger4 = anim = 1300 && animelem = 29
trigger5 = anim = 1301 && animelem = 6
trigger6 = anim = 1301 && animelem = 10
anim = 7800
postype = p1
pos = 0,0
facing = -1
sprpriority = 3
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1300 && animelem = 21
anim = 7800
postype = p1
pos = ceil(15*const(size.xscale)),0
facing = -1
sprpriority = 3
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1300 && animelem = 21
anim = 7800
postype = p1
pos = ceil(14*const(size.xscale)),0
facing = -1
sprpriority = 0
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1310 && animelem = 10
trigger2 = anim = 1300 && animelem = 24
trigger3 = anim = 1301 && animelem = 6
trigger4 = anim = 1301 && animelem = 10
anim = 7800
postype = p1
pos = ceil(-3*const(size.xscale)),0
facing = -1
sprpriority = 0
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State 220, ChangeAnim]
type = ChangeAnim
triggerall = anim = 1300
triggerall = animelemtime(18) = 0
trigger1 = command = "holddown"
value = 1301
ignorehitpause = 0

[State -2, posadd]
type = posadd
triggerall = anim = 1300
trigger1 = animelem = 3
x = 2*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1300
trigger1 = animelem = 4
trigger2 = animelem = 18
x = 10*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1300
trigger1 = animelem = 5
trigger2 = animelem = 6
trigger3 = animelem = 19
trigger4 = animelem = 20
x = 4*const(size.xscale)

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = anim = 1300
trigger1 = animelem = 8
trigger2 = animelem = 22
value = 0, 2
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = anim = 1300
trigger1 = animelem = 9
trigger2 = animelem = 23
value = 1, 0

[State -2, PowerAdd]
type = PowerAdd
trigger1 = anim = 1300
trigger1 = AnimElemTime(9) = -1
value = 30

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
trigger1 = anim = 1300
trigger1 = animelem = 9
attr = S, SA
animtype = Medium    
air.animtype  = back
damage = ceil(60*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(3*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 40,80
givepower = 60,0
hitflag = MAF
guardflag = M
pausetime = 2,6-(enemynear,statetype=A)*4
guard.pausetime = 2,6-(enemynear,statetype=A)*4
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-70*const(size.yscale)) 
hitsound = S2,4
guardsound = S3,1
ground.type = Low
ground.slidetime = 11
ground.hittime = Ifelse(p2statetype=C,14,13)
guard.hittime = 12
guard.slidetime = 11
guard.ctrltime = 12
air.hittime  = 13
ground.velocity = -5.5*const(size.xscale)
guard.velocity = -5.5*const(size.xscale)
air.velocity = -5.0*const(size.xscale),-8.5*const(size.yscale)
fall = 0
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = .60*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1300 

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
trigger1 = anim = 1300
trigger1 = animelem = 23
attr = S, SA
animtype = hard    
air.animtype  = back
damage = ceil(50*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(3*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 20,10
givepower = 0,0
hitflag = MAF
guardflag = M
pausetime = 2,4-(enemynear,statetype=A)*2
guard.pausetime = 2,4-(enemynear,statetype=A)*2
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-70*const(size.yscale)) 
hitsound = S2,4
guardsound = S3,1
ground.type = high
ground.slidetime = 13
ground.hittime = Ifelse(p2statetype=C,19,17)
guard.hittime = 15
guard.slidetime = 13
guard.ctrltime = 15
air.hittime  = 17
ground.velocity = -5.5*const(size.xscale)
guard.velocity = -5.5*const(size.xscale)
air.velocity = -5.0*const(size.xscale),-8.5*const(size.yscale)
fall = 0
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = .60*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1301

[State -2, posadd]
type = posadd
triggerall = anim = 1301
trigger1 = animelem = 5
x = 8*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1301
trigger1 = animelem = 6
x = 7*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1301
trigger1 = animelem = 7
trigger2 = animelem = 8
x = 1*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1301
trigger1 = animelem = 10
x = 2*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1301
trigger1 = animelem = 14
x = -3*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1301
trigger1 = animelem = 15
x = -5*const(size.xscale)

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 1301
trigger1 = animelem = 8
value = 0, 2
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 1301
trigger1 = animelem = 9
value = 1, 2

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
triggerall = var(35) != 1302
trigger1 = anim = 1301
trigger1 = animelemtime(9) >= 0
trigger1 = animelemtime(10) < 0
attr = C, SA
animtype = hard    
air.animtype  = hard
damage = ceil(50*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(3*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 20,10
givepower = 0,0
hitflag = MAF
guardflag = L
pausetime = 7,10
guard.pausetime = 7,10
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-10*const(size.yscale)) 
hitsound = S2,5
guardsound = S3,1
ground.type = trip
ground.slidetime = 13
ground.hittime = Ifelse(p2statetype=C,19,17)
guard.hittime = 17
guard.slidetime = 13
guard.ctrltime = 17
air.hittime  = 17
ground.velocity = -5.0*const(size.xscale),-7.0*const(size.yscale)
guard.velocity = -8.0*const(size.xscale)
air.velocity = -5.0*const(size.xscale),-7.0*const(size.yscale)
fall = 1
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = 1.0*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1302

[State 200, hitspark x]
type = VarSet
trigger1 = 1
var(42) = floor(ifelse(30+(abs(enemynear,Pos X-Pos X)/2)<110,30+(abs(enemynear,Pos X-Pos X)/2),110))

[State 200, hitspark y]
type = VarSet
trigger1 = anim = 1300
var(43) = -70

[State 200, hitspark y]
type = VarSet
trigger1 = anim = 1301
var(43) = -10

[State 200, sparkno]
type = VarSet
trigger1 = anim = 1300
var(44) = 8180

[State 200, sparkno]
type = VarSet
trigger1 = anim = 1301
var(44) = 8170

[State -2, ctrlset]
type = ctrlset
trigger1 = anim = 1300
trigger1 = animelemtime(34) >= 1
trigger2 = anim = 1301
trigger2 = animelemtime(21) >= 1
value = 1

[State 920]
type = StateTypeSet
trigger1 = anim = 1300
trigger1 = AnimElemTime(24) >= 0
trigger2 = anim = 1301
trigger2 = AnimElemTime(10) >= 0
movetype = I 

[State -2, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1301
StateType = C

[State -2, ChangeState]
type = ChangeState
trigger1 = anim = 1300
trigger1 = animtime = 0
value = 0
ctrl = 1

[State -2, ChangeState]
type = ChangeState
trigger1 = anim = 1301
trigger1 = animtime = 0
value = 11
ctrl = 1

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;旋(中)
[Statedef 1310]
type = S
movetype = A
physics = N
anim = 1310
velset = 0,0
ctrl = 0
juggle = 0
;poweradd = 30
facep2 = 1
sprpriority = 2

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(38) = 0

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(58) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(35) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(56) = 0

[State -2, Attack_Down]
type = VarSet
trigger1 = time = 0
fvar(25) = fvar(0)

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 40 && var(3)
trigger1 = Time = 0
value = SC, AT
time = 2

[State 1100, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State -2, Explod]
type = Explod
trigger1 = anim = 1310 && animelem = 8
trigger2 = anim = 1310 && animelem = 22
trigger3 = anim = 1311 && animelem = 8
anim = 6470
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
scale = const(size.xscale), const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1312 && animelem = 9
anim = 6471
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
scale = const(size.xscale), const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1310 && animelem = 10
trigger2 = anim = 1310 && animelem = 15
trigger3 = anim = 1310 && animelem = 24
trigger4 = anim = 1310 && animelem = 29
trigger5 = anim = 1311 && animelem = 7
trigger6 = anim = 1312 && animelem = 6
trigger7 = anim = 1312 && animelem = 10
anim = 7800
postype = p1
pos = 0,0
facing = -1
sprpriority = 3
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1310 && animelem = 21
trigger2 = anim = 1310 && animelem = 4
anim = 7800
postype = p1
pos = ceil(15*const(size.xscale)),0
facing = -1
sprpriority = 3
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1310 && animelem = 21
trigger2 = anim = 1310 && animelem = 4
anim = 7800
postype = p1
pos = ceil(14*const(size.xscale)),0
facing = -1
sprpriority = 0
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1310 && animelem = 10
trigger2 = anim = 1310 && animelem = 24
trigger3 = anim = 1311 && animelem = 7
trigger4 = anim = 1312 && animelem = 6
trigger5 = anim = 1312 && animelem = 10
anim = 7800
postype = p1
pos = ceil(-3*const(size.xscale)),0
facing = -1
sprpriority = 0
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1310
trigger1 = animelem = 3
x = 2*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1310
trigger1 = animelem = 4
trigger2 = animelem = 18
x = 10*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1310
trigger1 = animelem = 5
trigger2 = animelem = 6
trigger3 = animelem = 19
trigger4 = animelem = 20
x = 4*const(size.xscale)

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = anim = 1310
trigger1 = animelem = 8
trigger2 = animelem = 22
value = 0, 2
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = anim = 1310
trigger1 = animelem = 9
trigger2 = animelem = 23
value = 1, 1

[State -2, PowerAdd]
type = PowerAdd
trigger1 = anim = 1310
trigger1 = AnimElemTime(9) = -1
value = 30

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
trigger1 = anim = 1310
trigger1 = animelem = 9
attr = S, SA
animtype = Medium    
air.animtype  = back
damage = ceil(60*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(3*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 40,80
givepower = 60,0
hitflag = MAF
guardflag = M
pausetime = 2,8-(enemynear,statetype=A)*6
guard.pausetime = 2,8-(enemynear,statetype=A)*6
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-70*const(size.yscale)) 
hitsound = S2,4
guardsound = S3,1
ground.type = Low
ground.slidetime = 11
ground.hittime = Ifelse(p2statetype=C,14,13)
guard.hittime = 12
guard.slidetime = 11
guard.ctrltime = 12
air.hittime  = 13
ground.velocity = -5.5*const(size.xscale)
guard.velocity = -5.5*const(size.xscale)
air.velocity = -5.0*const(size.xscale),-8.5*const(size.yscale)
fall = 0
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = .60*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1310 

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
trigger1 = anim = 1310
trigger1 = animelem = 23
attr = S, SA
animtype = hard    
air.animtype  = back
damage = ceil(50*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(3*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 20,10
givepower = 0,0
hitflag = MAF
guardflag = M
pausetime = 2,3-(enemynear,statetype=A)*1
guard.pausetime = 2,3-(enemynear,statetype=A)*1
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-70*const(size.yscale)) 
hitsound = S2,4
guardsound = S3,1
ground.type = high
ground.slidetime = 13
ground.hittime = Ifelse(p2statetype=C,19,17)
guard.hittime = 15
guard.slidetime = 13
guard.ctrltime = 15
air.hittime  = 17
ground.velocity = -5.5*const(size.xscale)
guard.velocity = -5.5*const(size.xscale)
air.velocity = -5.0*const(size.xscale),-8.5*const(size.yscale)
fall = 0
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = .60*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1311

[State 220, VarSet]
type = VarSet
trigger1 = time = 0
var(37) = 0

[State 220, VarSet]
type = VarSet
triggerall = var(50) = 0
triggerall = var(37) = 0
triggerall = anim = 1310
triggerall = animelemtime(27) >= 0
triggerall = animelemtime(31) < 2
trigger1 = Command = "a" || Command = "b" || Command = "c"
var(37) = 1+(Command="holddown")
ignorehitpause = 1

[State 220, VarSet]
type = VarSet
triggerall = var(50) = 1
triggerall = roundstate = 2
triggerall = var(37) = 0
triggerall = anim = 1310
triggerall = animelemtime(27) >= 0
triggerall = animelemtime(31) < 2
trigger1 = numtarget
trigger1 = target,statetype != A
var(37) = 1
ignorehitpause = 1

[State 220, ChangeAnim]
type = ChangeAnim
triggerall = anim = 1310
triggerall = animelemtime(31) = 2
trigger1 = var(37)
value = 1310+var(37)
ignorehitpause = 0

[State -2, posadd]
type = posadd
triggerall = anim = 1311
trigger1 = animelem = 1
x = 10*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1311
trigger1 = animelem = 2
trigger2 = animelem = 3
x = 4*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1312
trigger1 = animelem = 5
x = 8*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1312
trigger1 = animelem = 6
x = 7*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1312
trigger1 = animelem = 7
trigger2 = animelem = 8
x = 1*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1312
trigger1 = animelem = 10
x = 2*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1312
trigger1 = animelem = 14
x = -3*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1312
trigger1 = animelem = 15
x = -5*const(size.xscale)

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 1311
trigger1 = animelem = 5
trigger2 = anim = 1312
trigger2 = animelem = 8
value = 0, 2
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 1311
trigger1 = animelem = 6
value = 1, 1

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 1312
trigger1 = animelem = 9
value = 1, 2

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
trigger1 = anim = 1311
trigger1 = animelem = 6
attr = S, SA
animtype = hard    
air.animtype  = back
damage = ceil(50*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(3*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 20,10
givepower = 0,0
hitflag = MAF
guardflag = M
pausetime = 2,6-(enemynear,statetype=A)*4
guard.pausetime = 2,6-(enemynear,statetype=A)*4
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-70*const(size.yscale)) 
hitsound = S2,4
guardsound = S3,1
ground.type = low
ground.slidetime = 13
ground.hittime = Ifelse(p2statetype=C,19,17)
guard.hittime = 15
guard.slidetime = 13
guard.ctrltime = 15
air.hittime  = 17
ground.velocity = -5.5*const(size.xscale)
guard.velocity = -5.5*const(size.xscale)
air.velocity = -5.0*const(size.xscale),-8.5*const(size.yscale)
fall = 0
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = .60*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1312

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
triggerall = var(35) != 1312
trigger1 = anim = 1312
trigger1 = animelemtime(9) >= 0
trigger1 = animelemtime(10) < 0
attr = C, SA
animtype = hard    
air.animtype  = hard
damage = ceil(50*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(3*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 20,10
givepower = 0,0
hitflag = MAF
guardflag = L
pausetime = 7,10
guard.pausetime = 7,10
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-10*const(size.yscale)) 
hitsound = S2,5
guardsound = S3,1
ground.type = trip
ground.slidetime = 13
ground.hittime = Ifelse(p2statetype=C,19,17)
guard.hittime = 17
guard.slidetime = 13
guard.ctrltime = 17
air.hittime  = 17
ground.velocity = -5.0*const(size.xscale),-7.0*const(size.yscale)
guard.velocity = -8.0*const(size.xscale)
air.velocity = -5.0*const(size.xscale),-7.0*const(size.yscale)
fall = 1
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = 1.0*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1313

[State 200, hitspark x]
type = VarSet
trigger1 = 1
var(42) = floor(ifelse(30+(abs(enemynear,Pos X-Pos X)/2)<110,30+(abs(enemynear,Pos X-Pos X)/2),110))

[State 200, hitspark y]
type = VarSet
trigger1 = anim = [1310,1311]
var(43) = -70

[State 200, hitspark y]
type = VarSet
trigger1 = anim = 1312
var(43) = -10

[State 200, sparkno]
type = VarSet
trigger1 = anim = [1310,1311]
var(44) = 8180

[State 200, sparkno]
type = VarSet
trigger1 = anim = 1312
var(44) = 8170

[State -2, ctrlset]
type = ctrlset
trigger1 = anim = 1310
trigger1 = animelemtime(34) >= 1
trigger2 = anim = 1311
trigger2 = animelemtime(17) >= 1
trigger3 = anim = 1312
trigger3 = animelemtime(21) >= 1
value = 1

[State 920]
type = StateTypeSet
trigger1 = anim = 1310
trigger1 = AnimElemTime(37) >= 2
trigger2 = anim = 1311
trigger2 = AnimElemTime(8) >= 0
trigger3 = anim = 1312
trigger3 = AnimElemTime(10) >= 0
movetype = I 

[State -2, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1312
StateType = C

[State -2, ChangeState]
type = ChangeState
trigger1 = anim = [1310,1311]
trigger1 = animtime = 0
value = 0
ctrl = 1

[State -2, ChangeState]
type = ChangeState
trigger1 = anim = 1312
trigger1 = animtime = 0
value = 11
ctrl = 1

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;旋(大)
[Statedef 1320]
type = S
movetype = A
physics = N
anim = 1320
velset = 0,0
ctrl = 0
juggle = 0
;poweradd = 30
facep2 = 1
sprpriority = 2

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(38) = 0

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(58) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(35) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(56) = 0

[State -2, Attack_Down]
type = VarSet
trigger1 = time = 0
fvar(25) = fvar(0)

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 40 && var(3)
trigger1 = Time = 0
value = SC, AT
time = 2

[State 1100, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State -2, Explod]
type = Explod
trigger1 = anim = 1320 && animelem = 8
trigger2 = anim = 1320 && animelem = 22
trigger3 = anim = 1320 && animelem = 37
anim = 6470
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
scale = const(size.xscale), const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1321 && animelem = 9
anim = 6471
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
scale = const(size.xscale), const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1320 && animelem = 10
trigger2 = anim = 1320 && animelem = 15
trigger3 = anim = 1320 && animelem = 24
trigger4 = anim = 1320 && animelem = 29
trigger5 = anim = 1320 && animelem = 39
trigger6 = anim = 1320 && animelem = 44
trigger7 = anim = 1321 && animelem = 6
trigger8 = anim = 1321 && animelem = 10
anim = 7800
postype = p1
pos = 0,0
facing = -1
sprpriority = 3
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1320 && animelem = 21
trigger2 = anim = 1320 && animelem = 36
anim = 7800
postype = p1
pos = ceil(15*const(size.xscale)),0
facing = -1
sprpriority = 3
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1320 && animelem = 21
trigger2 = anim = 1320 && animelem = 36
anim = 7800
postype = p1
pos = ceil(14*const(size.xscale)),0
facing = -1
sprpriority = 0
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1320 && animelem = 10
trigger2 = anim = 1320 && animelem = 24
trigger3 = anim = 1320 && animelem = 39
trigger4 = anim = 1321 && animelem = 6
trigger5 = anim = 1321 && animelem = 10
anim = 7800
postype = p1
pos = ceil(-3*const(size.xscale)),0
facing = -1
sprpriority = 0
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, velset]
type = velset
trigger1 = anim = 1320
trigger1 = animelem = 6
x = 1.0*const(size.xscale)

[State -2, velset]
type = velset
trigger1 = anim = 1320
trigger1 = animelem = 17
x = 0

[State -2, posadd]
type = posadd
triggerall = anim = 1320
trigger1 = animelem = 3
trigger2 = animelem = 18
trigger3 = animelem = 33
x = 4*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1320
trigger1 = animelem = 4
trigger2 = animelem = 19
trigger3 = animelem = 34
x = 20*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1320
trigger1 = animelem = 5
trigger2 = animelem = 20
trigger3 = animelem = 35
x = 8*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1320
trigger1 = animelem = 6
trigger2 = animelem = 21
trigger3 = animelem = 36
x = 16*const(size.xscale)

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = anim = 1320
trigger1 = animelem = 8
trigger2 = animelem = 22
trigger3 = animelem = 37
value = 0, 2
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = anim = 1320
trigger1 = animelem = 9
trigger2 = animelem = 23
value = 1, 2

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 1320
trigger1 = animelem = 38
value = 1, 0

[State -2, PowerAdd]
type = PowerAdd
trigger1 = anim = 1320
trigger1 = AnimElemTime(9) = -1
value = 30

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
trigger1 = anim = 1320
trigger1 = animelem = 9
attr = S, SA
animtype = Medium    
air.animtype  = back
damage = ceil(60*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(3*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 40,80
givepower = 60,0
hitflag = MAF
guardflag = M
pausetime = 2,8-(enemynear,statetype=A)*6
guard.pausetime = 2,8-(enemynear,statetype=A)*6
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-70*const(size.yscale)) 
hitsound = S2,4
guardsound = S3,1
ground.type = Low
ground.slidetime = 11
ground.hittime = Ifelse(p2statetype=C,14,13)
guard.hittime = 12
guard.slidetime = 11
guard.ctrltime = 12
air.hittime  = 13
ground.velocity = -5.5*const(size.xscale)
guard.velocity = -5.5*const(size.xscale)
air.velocity = -5.0*const(size.xscale),-8.5*const(size.yscale)
fall = 0
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = .60*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1320 

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
trigger1 = anim = 1320
trigger1 = animelem = 23
attr = S, SA
animtype = hard    
air.animtype  = back
damage = ceil(50*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(5*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 20,10
givepower = 0,0
hitflag = MAF
guardflag = M
pausetime = 2,6-(enemynear,statetype=A)*4
guard.pausetime = 2,6-(enemynear,statetype=A)*4
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-70*const(size.yscale)) 
hitsound = S2,4
guardsound = S3,1
ground.type = high
ground.slidetime = 11
ground.hittime = Ifelse(p2statetype=C,14,13)
guard.hittime = 12
guard.slidetime = 11
guard.ctrltime = 12
air.hittime  = 13
ground.velocity = -5.5*const(size.xscale)
guard.velocity = -5.5*const(size.xscale)
air.velocity = -5.0*const(size.xscale),-8.5*const(size.yscale)
fall = 0
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = .60*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1321

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
trigger1 = anim = 1320
trigger1 = animelem = 38
attr = S, SA
animtype = hard    
air.animtype  = back
damage = ceil(80*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(5*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 20,10
givepower = 0,0
hitflag = MAF
guardflag = M
pausetime = 2,8-(enemynear,statetype=A)*6
guard.pausetime = 2,8-(enemynear,statetype=A)*6
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-70*const(size.yscale)) 
hitsound = S2,4
guardsound = S3,1
ground.type = low
ground.slidetime = 13
ground.hittime = Ifelse(p2statetype=C,19,17)
guard.hittime = 15
guard.slidetime = 13
guard.ctrltime = 15
air.hittime  = 17
ground.velocity = -5.5*const(size.xscale)
guard.velocity = -5.5*const(size.xscale)
air.velocity = -5.0*const(size.xscale),-8.5*const(size.yscale)
fall = 0
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = .60*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1322

[State 220, ChangeAnim]
type = ChangeAnim
triggerall = anim = 1320
triggerall = animelemtime(32) = 0
trigger1 = command = "holddown"
value = 1321
ignorehitpause = 0

[State -2, posadd]
type = posadd
triggerall = anim = 1321
trigger1 = animelem = 5
x = 18*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1321
trigger1 = animelem = 6
x = 12*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1321
trigger1 = animelem = 7
x = 4*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1321
trigger1 = animelem = 14
x = -8*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1321
trigger1 = animelem = 15
x = -8*const(size.xscale)

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 1321
trigger1 = animelem = 8
value = 0, 2
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 1321
trigger1 = animelem = 9
value = 1, 2

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
triggerall = var(35) != 1323
trigger1 = anim = 1321
trigger1 = animelemtime(9) >= 0
trigger1 = animelemtime(10) < 0
attr = C, SA
animtype = hard    
air.animtype  = hard
damage = ceil(70*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(3*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 20,10
givepower = 0,0
hitflag = MAF
guardflag = L
pausetime = 7,10
guard.pausetime = 7,10
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-10*const(size.yscale)) 
hitsound = S2,5
guardsound = S3,1
ground.type = trip
ground.slidetime = 13
ground.hittime = Ifelse(p2statetype=C,19,17)
guard.hittime = 17
guard.slidetime = 13
guard.ctrltime = 17
air.hittime  = 17
ground.velocity = -5.0*const(size.xscale),-7.0*const(size.yscale)
guard.velocity = -8.0*const(size.xscale)
air.velocity = -5.0*const(size.xscale),-7.0*const(size.yscale)
fall = 1
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = 1.0*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1323

[State 200, hitspark x]
type = VarSet
trigger1 = 1
var(42) = floor(ifelse(30+(abs(enemynear,Pos X-Pos X)/2)<110,30+(abs(enemynear,Pos X-Pos X)/2),110))

[State 200, hitspark y]
type = VarSet
trigger1 = anim = 1320
var(43) = -70

[State 200, hitspark y]
type = VarSet
trigger1 = anim = 1321
var(43) = -10

[State 200, sparkno]
type = VarSet
trigger1 = anim = 1320
var(44) = 8180

[State 200, sparkno]
type = VarSet
trigger1 = anim = 1321
var(44) = 8170

[State -2, ctrlset]
type = ctrlset
trigger1 = anim = 1320
trigger1 = animelemtime(49) >= 1
trigger2 = anim = 1321
trigger2 = animelemtime(21) >= 1
value = 1

[State 920]
type = StateTypeSet
trigger1 = anim = 1320
trigger1 = AnimElemTime(39) >= 0
trigger2 = anim = 1321
trigger2 = AnimElemTime(10) >= 0
movetype = I 

[State -2, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1321
StateType = C

[State -2, ChangeState]
type = ChangeState
trigger1 = anim = 1320
trigger1 = animtime = 0
value = 0
ctrl = 1

[State -2, ChangeState]
type = ChangeState
trigger1 = anim = 1321
trigger1 = animtime = 0
value = 11
ctrl = 1

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;旋(EX)
[Statedef 1330]
type = S
movetype = A
physics = N
anim = 1330
velset = 0,0
ctrl = 0
juggle = 0
poweradd = -400
facep2 = 1
sprpriority = 2

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(38) = 0

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(58) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(35) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(56) = 0

[State -2, Attack_Down]
type = VarSet
trigger1 = time = 0
fvar(25) = fvar(0)

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 40 && var(3)
trigger1 = Time = 0
value = SC, AT
time = 2

[State 1050, Palfix]
type = PalFX
triggerall = gametime %2=0
trigger1 = anim = 1330
trigger1 = animelemtime(28) < 0
trigger2 = anim = 1331
trigger3 = anim = 1332
trigger3 = animelemtime(8) < 0
time = 1
add = 120,80,0
sinadd = 64,32,5,3
ignorehitpause = 1

[State 1000, 1]
type = AfterImage
trigger1 = animelemtime(1) = 0
time = 999999999
trans = add
length   = 5
timegap  = 2
framegap = 1
PalBright = 30 , 30 , 0
PalContrast = 255 , 255 , 0
PalAdd = 0 , 0 , 0
PalMul = .6 , .6 , 0
IgnoreHitPause = 1
Persistent = 1

[State 1000, 1]
type = AfterImage
trigger1 = anim = 1330
trigger1 = animelemtime(28) = 0
trigger2 = anim = 1332
trigger2 = animelemtime(8) = 0
time = 0

[State 810, 2]
type = Explod
trigger1 = time = 0
ID = 7500
anim = 7500
postype = p1
pos = ceil(-20*const(size.xscale)),ceil(-35*const(size.yscale))
persistent = 0
velocity = 0, 0
accel = 0, 0
removetime = 11
sprpriority = 3
scale = const(size.xscale),const(size.yscale)

[State 1050, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 1330
trigger1 = animelem = 2
value = 2000, 0

[State 1100, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State -2, Explod]
type = Explod
trigger1 = anim = 1330 && animelem = 7
trigger2 = anim = 1330 && animelem = 17
trigger3 = anim = 1330 && animelem = 27
trigger4 = anim = 1330 && animelem = 38
anim = 6470
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
scale = const(size.xscale), const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1331 && animelem = 8
trigger2 = anim = 1332 && animelem = 8
trigger3 = anim = 1333 && animelem = 9
anim = 6471
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
ownpal = 1
removeongethit = 1
scale = const(size.xscale), const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1330 && animelem = 9
trigger2 = anim = 1330 && animelem = 12
trigger3 = anim = 1330 && animelem = 19
trigger4 = anim = 1330 && animelem = 22
trigger5 = anim = 1330 && animelem = 29
trigger6 = anim = 1330 && animelem = 32
trigger7 = anim = 1330 && animelem = 40
trigger8 = anim = 1330 && animelem = 45
trigger9 = anim = 1331 && animelem = 5
trigger10 = anim = 1331 && animelem = 9
trigger11 = anim = 1332 && animelem = 5
trigger12 = anim = 1332 && animelem = 9
trigger13 = anim = 1333 && animelem = 6
trigger14 = anim = 1333 && animelem = 10
anim = 7800
postype = p1
pos = 0,0
facing = -1
sprpriority = 3
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1330 && animelem = 16
trigger2 = anim = 1330 && animelem = 26
trigger3 = anim = 1330 && animelem = 37
anim = 7800
postype = p1
pos = ceil(15*const(size.xscale)),0
facing = -1
sprpriority = 3
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1330 && animelem = 16
trigger2 = anim = 1330 && animelem = 26
trigger3 = anim = 1330 && animelem = 37
anim = 7800
postype = p1
pos = ceil(14*const(size.xscale)),0
facing = -1
sprpriority = 0
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = anim = 1330 && animelem = 9
trigger2 = anim = 1330 && animelem = 19
trigger3 = anim = 1330 && animelem = 29
trigger4 = anim = 1330 && animelem = 40
trigger5 = anim = 1321 && animelem = 5
trigger6 = anim = 1321 && animelem = 9
trigger7 = anim = 1322 && animelem = 5
trigger8 = anim = 1322 && animelem = 9
trigger9 = anim = 1323 && animelem = 6
trigger10 = anim = 1323 && animelem = 10
anim = 7800
postype = p1
pos = ceil(-3*const(size.xscale)),0
facing = -1
sprpriority = 0
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1330
trigger1 = animelem = 2
x = 2*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1330
trigger1 = animelem = 3
trigger2 = animelem = 34
x = 18*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1330
trigger1 = animelem = 4
trigger2 = animelem = 14
trigger3 = animelem = 24
trigger4 = animelem = 35
x = 8*const(size.xscale)

[State -2, posadd]
type = posadd
triggerall = anim = 1330
trigger1 = animelem = 5
trigger2 = animelem = 15
trigger3 = animelem = 25
trigger4 = animelem = 36
x = 14*const(size.xscale)

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = anim = 1330
trigger1 = animelem = 7
trigger2 = animelem = 17
trigger3 = animelem = 27
trigger4 = animelem = 38
value = 0, 2
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
triggerall = anim = 1330
trigger1 = animelem = 8
trigger2 = animelem = 18
trigger3 = animelem = 28
trigger4 = animelem = 39
value = 1, 0

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
trigger1 = anim = 1330
trigger1 = animelem = 8
attr = S, SA
animtype = Medium    
air.animtype  = back
damage = ceil(50*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(3*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 0,0
givepower = 0,0
hitflag = MAF
guardflag = M
pausetime = 2,3-(enemynear,statetype=A)*1
guard.pausetime = 2,3-(enemynear,statetype=A)*1
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-70*const(size.yscale)) 
hitsound = S2,4
guardsound = S3,1
ground.type = Low
ground.slidetime = 11
ground.hittime = Ifelse(p2statetype=C,14,13)
guard.hittime = 12
guard.slidetime = 11
guard.ctrltime = 12
air.hittime  = 13
ground.velocity = -10.0*const(size.xscale)
guard.velocity = -10.0*const(size.xscale)
air.velocity = -5.0*const(size.xscale),-8.5*const(size.yscale)
fall = 0
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = .60*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1330 

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
trigger1 = anim = 1330
trigger1 = animelem = 18
attr = S, SA
animtype = medium    
air.animtype  = back
damage = ceil(50*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(5*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 20,10
givepower = 0,0
hitflag = MAF
guardflag = M
pausetime = 2,7-(enemynear,statetype=A)*5
guard.pausetime = 2,7-(enemynear,statetype=A)*5
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-70*const(size.yscale)) 
hitsound = S2,4
guardsound = S3,1
ground.type = low
ground.slidetime = 11
ground.hittime = Ifelse(p2statetype=C,14,13)
guard.hittime = 12
guard.slidetime = 11
guard.ctrltime = 12
air.hittime  = 13
ground.velocity = -10.0*const(size.xscale)
guard.velocity = -10.0*const(size.xscale)
air.velocity = -5.0*const(size.xscale),-8.5*const(size.yscale)
fall = 0
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = .60*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1331

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
trigger1 = anim = 1330
trigger1 = animelem = 28
attr = S, SA
animtype = medium    
air.animtype  = back
damage = ceil(50*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(5*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 0,0
givepower = 0,0
hitflag = MAF
guardflag = M
pausetime = 2,3-(enemynear,statetype=A)*1
guard.pausetime = 2,3-(enemynear,statetype=A)*1
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-70*const(size.yscale)) 
hitsound = S2,4
guardsound = S3,1
ground.type = low
ground.slidetime = 11
ground.hittime = Ifelse(p2statetype=C,14,13)
guard.hittime = 12
guard.slidetime = 11
guard.ctrltime = 12
air.hittime  = 13
ground.velocity = -10.0*const(size.xscale)
guard.velocity = -10.0*const(size.xscale)
air.velocity = -5.0*const(size.xscale),-8.5*const(size.yscale)
fall = 0
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = .60*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1332

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
trigger1 = anim = 1330
trigger1 = animelem = 39
attr = S, SA
animtype = back    
air.animtype  = back
damage = ceil(70*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(3*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 0,0
givepower = 0,0
hitflag = MAF
guardflag = M
pausetime = 2,3-(enemynear,statetype=A)*1
guard.pausetime = 2,3-(enemynear,statetype=A)*1
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-70*const(size.yscale)) 
hitsound = S2,4
guardsound = S3,1
ground.type = high
ground.slidetime = 13
ground.hittime = Ifelse(p2statetype=C,19,17)
guard.hittime = 15
guard.slidetime = 13
guard.ctrltime = 15
air.hittime  = 17
ground.velocity = -10.0*const(size.xscale),-6.0*const(size.yscale)
guard.velocity = -10.0*const(size.xscale)
air.velocity = -10.0*const(size.xscale),-6.0*const(size.yscale)
fall = 1
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = .60*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1333

[State 220, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 1330
trigger1 = animelemtime(14) = 0
trigger1 = command = "holddown"
value = 1331
ignorehitpause = 0

[State 220, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 1331
trigger1 = animtime = 0
trigger1 = command = "holddown"
value = 1332
ignorehitpause = 0

[State 220, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 1331
trigger1 = animtime = 0
value = 1330
elem = 24
ignorehitpause = 0

[State 220, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 1332
trigger1 = animtime = 0
trigger1 = command = "holddown"
value = 1333
ignorehitpause = 0

[State 220, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 1332
trigger1 = animtime = 0
value = 1330
elem = 34
ignorehitpause = 0

[State -2, posadd]
type = posadd
trigger1 = anim = 1332 && animelem = 1
trigger2 = anim = 1333 && animelem = 1
x = 4*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = anim = 1331 && animelem = 4
trigger2 = anim = 1332 && animelem = 4
trigger3 = anim = 1333 && animelem = 5
x = 18*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = anim = 1331 && animelem = 5
trigger2 = anim = 1332 && animelem = 5
trigger3 = anim = 1333 && animelem = 6
x = 12*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = anim = 1331 && animelem = 6
trigger2 = anim = 1332 && animelem = 6
trigger3 = anim = 1333 && animelem = 7
x = 4*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = anim = 1331 && animelem = 13
trigger2 = anim = 1332 && animelem = 13
trigger3 = anim = 1333 && animelem = 14
x = -8*const(size.xscale)

[State -2, posadd]
type = posadd
trigger1 = anim = 1331 && animelem = 14
trigger2 = anim = 1332 && animelem = 14
trigger3 = anim = 1333 && animelem = 15
x = -8*const(size.xscale)

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 1331 && animelem = 7
trigger2 = anim = 1332 && animelem = 7
trigger3 = anim = 1333 && animelem = 8
value = 0, 2
channel = 0

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = anim = 1331 && animelem = 8
trigger2 = anim = 1332 && animelem = 8
trigger3 = anim = 1333 && animelem = 9
value = 1, 2

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
triggerall = var(35) != 1331
trigger1 = anim = 1331
trigger1 = animelemtime(8) >= 0
trigger1 = animelemtime(9) < 0
attr = C, SA
animtype = hard    
air.animtype  = hard
damage = ceil(50*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(5*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 0,0
givepower = 0,0
hitflag = MAF
guardflag = L
pausetime = 2,3
guard.pausetime = 2,3
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-10*const(size.yscale)) 
hitsound = S2,5
guardsound = S3,1
ground.type = low
ground.slidetime = 11
ground.hittime = Ifelse(p2statetype=C,14,13)
guard.hittime = 12
guard.slidetime = 11
guard.ctrltime = 12
air.type = trip
air.hittime  = 13
ground.velocity = -10.0*const(size.xscale)
guard.velocity = -10.0*const(size.xscale)
air.velocity = -5.0*const(size.xscale),-7.0*const(size.yscale)
fall = 0
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = 1.0*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1334

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
triggerall = var(35) != 1332
trigger1 = anim = 1332
trigger1 = animelemtime(8) >= 0
trigger1 = animelemtime(9) < 0
attr = C, SA
animtype = hard    
air.animtype  = hard
damage = ceil(50*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(5*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 0,0
givepower = 0,0
hitflag = MAF
guardflag = L
pausetime = 2,3
guard.pausetime = 2,3
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-10*const(size.yscale)) 
hitsound = S2,5
guardsound = S3,1
ground.type = low
ground.slidetime = 11
ground.hittime = Ifelse(p2statetype=C,14,13)
guard.hittime = 12
guard.slidetime = 11
guard.ctrltime = 12
air.type = trip
air.hittime  = 13
ground.velocity = -10.0*const(size.xscale)
guard.velocity = -10.0*const(size.xscale)
air.velocity = -5.0*const(size.xscale),-7.0*const(size.yscale)
fall = 0
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = 1.0*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1335

[State 1100, HitDef]
type = HitDef
triggerall = !var(24) && !var(5)         
triggerall = var(35) != 1333
trigger1 = anim = 1333
trigger1 = animelemtime(9) >= 0
trigger1 = animelemtime(10) < 0
attr = C, SA
animtype = hard    
air.animtype  = hard
damage = ceil(70*fvar(25)*fvar(26)*fvar(28)*fvar(29)),ceil(3*fvar(26)*fvar(29))
priority = 5,Hit
getpower = 0,0
givepower = 0,0
hitflag = MAF
guardflag = L
pausetime = 9,8
guard.pausetime = 9,8
sparkno = -1;S8230
guard.sparkno = S8410
sparkxy = -15, ceil(-10*const(size.yscale)) 
hitsound = S2,5
guardsound = S3,1
ground.type = trip
ground.slidetime = 13
ground.hittime = Ifelse(p2statetype=C,19,17)
guard.hittime = 17
guard.slidetime = 13
guard.ctrltime = 17
air.hittime  = 17
ground.velocity = -5.0*const(size.xscale),-7.0*const(size.yscale)
guard.velocity = -10.0*const(size.xscale)
air.velocity = -5.0*const(size.xscale),-7.0*const(size.yscale)
fall = 1
fall.recover = 0
fall.envshake.time = 12
fall.envshake.freq = 80
fall.envshake.ampl = -4
down.bounce = 1
air.fall = 1
air.recover = 0
yaccel = 1.0*const(size.yscale)
envshake.time = 5
envshake.freq = 60
envshake.ampl = 3
;envshake.phase = 
P2facing = 1
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
id = 1336

[State 200, hitspark x]
type = VarSet
trigger1 = 1
var(42) = floor(ifelse(30+(abs(enemynear,Pos X-Pos X)/2)<110,30+(abs(enemynear,Pos X-Pos X)/2),110))

[State 200, hitspark y]
type = VarSet
trigger1 = anim = 1330
var(43) = -70

[State 200, hitspark y]
type = VarSet
trigger1 = anim = [1331,1333]
var(43) = -10

[State 200, sparkno]
type = VarSet
trigger1 = anim = 1330
var(44) = 8180

[State 200, sparkno]
type = VarSet
trigger1 = anim = [1331,1333]
var(44) = 8170

[State -2, ctrlset]
type = ctrlset
trigger1 = anim = 1330
trigger1 = animelemtime(49) >= 1
trigger2 = anim = 1333
trigger2 = animelemtime(21) >= 1
value = 1

[State 920]
type = StateTypeSet
trigger1 = anim = 1330
trigger1 = AnimElemTime(40) >= 0
trigger2 = anim = 1333
trigger2 = AnimElemTime(10) >= 0
movetype = I 

[State -2, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1330
StateType = S

[State -2, StateTypeSet]
type = StateTypeSet
trigger1 = anim = [1331,1333]
StateType = C

[State -2, ChangeState]
type = ChangeState
trigger1 = anim = 1330
trigger1 = animtime = 0
value = 0
ctrl = 1

[State -2, ChangeState]
type = ChangeState
trigger1 = anim = 1333
trigger1 = animtime = 0
value = 11
ctrl = 1

;☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆☆
;雷打(小)
[Statedef 1500]
type = S
movetype = A
physics = N
anim = 1500
ctrl = 0
velset = 0,0
juggle = 0
;poweradd = 30
facep2 = 1
sprpriority = 2

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(38) = 0

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(58) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(35) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(56) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(10) = 0

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 40 && var(3)
trigger1 = Time = 0
value = SC, AT
time = 2

[State 1100, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State -2, Explod]
type = Explod
trigger1 = animelem = 1,=4
trigger2 = animelem = 3,=2
anim = 7810
postype = p1
pos = ceil(-25*const(size.xscale)),0
facing = -1
sprpriority = 3
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = animelem = 3,=4
anim = 7810
postype = p1
pos = ceil(-25*const(size.xscale)),0
facing = -1
sprpriority = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = animelem = 3,=0
anim = 7810
postype = p1
pos = ceil(-30*const(size.xscale)),0
facing = -1
sprpriority = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, velset]
type = velset
trigger1 = animelem = 1
x = 1.0*const(size.xscale)

[State -2, velset]
type = velset
trigger1 = animelemtime(3) = 9
x = 0*const(size.xscale)

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 1100, 0

[State -2, PowerAdd]
type = PowerAdd
trigger1 = AnimElemTime(2) = -1
value = 30

[State 1540, HitDef]
type = HitDef
triggerall = fvar(21) = 0
triggerall = P2BodyDist X = [ceil(-20*const(size.xscale)),ceil(39*const(size.xscale))]
triggerall = var(35) != 1500
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(3) < 0
attr = S, ST
hitflag = M
guardflag = M
priority = 7, miss
pausetime = 0,0
guard.pausetime = 10,7
sparkno = -1
guard.sparkno = S8410
sparkxy = -15, ceil(-65*const(size.yscale))
p1facing = 1
p2facing = 1
p1stateno = 1550
;p2stateno = 1560
hitsound = -1
guardsound = S3,1
guard.hittime = 14
guard.slidetime = 14
guard.ctrltime = 14
guard.velocity = -8.0*const(size.xscale)
guard.cornerpush.veloff = 0
numhits = 0
getpower = 0,20
givepower = 0
ID = 1500

[State -2, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(3) >= 0
movetype = I 

[State -2, ctrlset]
type = ctrlset
trigger1 = animelemtime(8) >= 1
value = 1

[State -2, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;雷打(中)
[Statedef 1510]
type = S
movetype = A
physics = N
anim = 1510
velset = 0,0
ctrl = 0
juggle = 0
;poweradd = 30
facep2 = 1
sprpriority = 2

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(38) = 0

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(58) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(35) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(56) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(10) = 1

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 40 && var(3)
trigger1 = Time = 0
value = SC, AT
time = 2

[State 1100, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State -2, Explod]
type = Explod
trigger1 = animelem = 1,=5
trigger2 = animelem = 3,=2
anim = 7810
postype = p1
pos = ceil(-25*const(size.xscale)),0
facing = -1
sprpriority = 3
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = animelem = 3,=4
anim = 7810
postype = p1
pos = ceil(-25*const(size.xscale)),0
facing = -1
sprpriority = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = animelem = 3,=0
anim = 7810
postype = p1
pos = ceil(-30*const(size.xscale)),0
facing = -1
sprpriority = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, velset]
type = velset
trigger1 = animelem = 1
x = 1.0*const(size.xscale)

[State -2, velset]
type = velset
trigger1 = animelemtime(3) = 9
x = 0*const(size.xscale)

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 1100, 0

[State -2, PowerAdd]
type = PowerAdd
trigger1 = AnimElemTime(2) = -1
value = 30

[State 1540, HitDef]
type = HitDef
triggerall = fvar(21) = 0
triggerall = P2BodyDist X = [ceil(-20*const(size.xscale)),ceil(43*const(size.xscale))]
triggerall = var(35) != 1510
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(3) < 0
attr = S, ST
hitflag = M
guardflag = M
priority = 7, miss
pausetime = 0,0
guard.pausetime = 10,7
sparkno = -1
guard.sparkno = S8410
sparkxy = -15, ceil(-65*const(size.yscale))
p1facing = 1
p2facing = 1
p1stateno = 1550
;p2stateno = 1560
hitsound = -1
guardsound = S3,1
guard.hittime = 14
guard.slidetime = 14
guard.ctrltime = 14
guard.velocity = -8.0*const(size.xscale)
guard.cornerpush.veloff = 0
numhits = 0
getpower = 0,20
givepower = 0
ID = 1510

[State -2, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(3) >= 0
movetype = I 

[State -2, ctrlset]
type = ctrlset
trigger1 = animelemtime(8) >= 1
value = 1

[State -2, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;雷打(大)
[Statedef 1520]
type = S
movetype = A
physics = N
anim = 1520
velset = 0,0
ctrl = 0
juggle = 0
;poweradd = 30
facep2 = 1
sprpriority = 2

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(38) = 0

[State -2, Varset]
type = Varset
trigger1 = time = 0
var(58) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(35) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(56) = 0

[State -2, VarSet]
type = VarSet
trigger1 = time = 0
var(10) = 2

[State 1000, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 40 && var(3)
trigger1 = Time = 0
value = SC, AT
time = 2

[State 1100, Position]
type = PosSet
trigger1 = Time = 0
y = 0

[State -2, Explod]
type = Explod
trigger1 = animelem = 1,=6
trigger2 = animelem = 3,=2
anim = 7810
postype = p1
pos = ceil(-25*const(size.xscale)),0
facing = -1
sprpriority = 3
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = animelem = 3,=4
anim = 7810
postype = p1
pos = ceil(-25*const(size.xscale)),0
facing = -1
sprpriority = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = animelem = 3,=0
anim = 7810
postype = p1
pos = ceil(-30*const(size.xscale)),0
facing = -1
sprpriority = 1
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, velset]
type = velset
trigger1 = animelem = 1
x = 1.0*const(size.xscale)

[State -2, velset]
type = velset
trigger1 = animelemtime(3) = 9
x = 0*const(size.xscale)

[State 1000, 音を鳴らす]
type = PlaySnd
trigger1 = animelem = 1
value = 1100, 0

[State -2, PowerAdd]
type = PowerAdd
trigger1 = AnimElemTime(2) = -1
value = 30

[State 1540, HitDef]
type = HitDef
triggerall = fvar(21) = 0
triggerall = P2BodyDist X = [ceil(-20*const(size.xscale)),ceil(48*const(size.xscale))]
triggerall = var(35) != 1520
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(3) < 0
attr = S, ST
hitflag = M
guardflag = M
priority = 7, miss
pausetime = 0,0
guard.pausetime = 10,7
sparkno = -1
guard.sparkno = S8410
sparkxy = -15, ceil(-65*const(size.yscale))
p1facing = 1
p2facing = 1
p1stateno = 1550
;p2stateno = 1560
hitsound = -1
guardsound = S3,1
guard.hittime = 14
guard.slidetime = 14
guard.ctrltime = 14
guard.velocity = -8.0*const(size.xscale)
guard.cornerpush.veloff = 0
numhits = 0
getpower = 0,20
givepower = 0
ID = 1520

[State -2, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(3) >= 0
movetype = I 

[State -2, ctrlset]
type = ctrlset
trigger1 = animelemtime(8) >= 1
value = 1

[State -2, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;雷打(投げた側)
[Statedef 1550]
type    = S
movetype= A
physics = N
anim = 1550
velset = 0,0
SprPriority = 0

[State -2, SprPriority]
type = SprPriority
Trigger1 = time = 0
trigger1 = target,authorname = "GM"
trigger1 = target,name = "hugo"
value = 2

[State -2, ヒットスパーク]
type = Explod
trigger1 = animelem = 7
anim = 6450
pos = 0,0
postype = p1
sprpriority = 3
bindtime = -1
ownpal = 1
scale = const(size.xscale), const(size.yscale)

[State -2, ヒットスパーク]
type = Explod
trigger1 = animelem = 8
anim = 6451
pos = 0,0
postype = p1
sprpriority = -1
bindtime = -1
ownpal = 1
scale = const(size.xscale), const(size.yscale)

[State -2, TargetState]
type = TargetState
Trigger1 = time = 0
value = 1560

[State 810, Playerpush]
type = Playerpush
trigger1 = 1
value = 0

[State 1200, 9]
type = Width
trigger1 = time = 0
edge = target,const(size.ground.front)+target,const(size.ground.back),0

[State 810, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 810, 音を鳴らす]
type = playsnd
trigger1 = animelem = 8
value = 0,1
channel = 0

[State 810, 音を鳴らす]
type = playsnd
trigger1 = animelem = 8,=1
value = 2,6

[State -2, posset]
type = posset
trigger1 = time = 0
y = 0

[State 810, TargetBind]
type = TargetBind
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3
trigger4 = AnimElem = 4
trigger5 = AnimElem = 5
trigger6 = AnimElem = 6
trigger7 = AnimElem = 7
trigger8 = AnimElem = 8
pos = ceil(70*const(size.xscale)),0

[State -2, TargetState]
type = TargetState
trigger1 = animelem = 8,=1
value = 1561

[State 811, TargetLifeadd]
type = TargetLifeadd
trigger1 = animelem = 8,=2
value = ceil((-160-var(10)*10)*fvar(0)*fvar(26)*fvar(29)*(const(data.attack)*0.01))

[State 5100, EnvShake]
type = EnvShake
trigger1 = animelem = 8,=2
time = 15
freq = 80
ampl = -4

[State -2, Attack_Up]
type = VarAdd
trigger1 = animelem = 8,=2
fvar(29) = -0.0625

[State -2, VarAdd]
type = VarAdd
trigger1 = animelem = 8,=2
fvar(10) = 1

[State -2, VarSet]
type = VarSet
trigger1 = animelem = 14
fvar(1) = 5

[State -2, PowerAdd]
type = PowerAdd
trigger1 = animelem = 8,=2
value = 90

[State -2, Poweradd]
type = TargetPoweradd
trigger1 = animelem = 8,=2
value = 30

[State -2, HitAdd]
type = HitAdd
trigger1 = animelem = 8,=2
value = 1

[State -2, velset]
type = VelSet
trigger1 = animelemtime(14) = 0
x = -2.0*const(size.xscale)

[State -2, velset]
type = VelAdd
trigger1 = animelemtime(14) >= 0
trigger1 = animelemtime(22) < 0
x = 0.125*const(size.xscale)

[State -2, velset]
type = VelSet
trigger1 = animelemtime(22) = 0
x = 0

[State -2, Explod]
type = Explod
trigger1 = animelemtime(16) = 0
trigger2 = animelemtime(17) = 0
trigger3 = animelemtime(18) = 0
trigger4 = animelemtime(20) = 0
trigger5 = animelemtime(21) = 0
trigger6 = animelemtime(22) = 0
anim = 7800
postype = p1
pos = ceil(66*const(size.xscale)),ceil(-4*const(size.yscale))
random = 0,3
velocity = 0, 0
accel = 0, 0
sprpriority = 2
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, Explod]
type = Explod
trigger1 = animelemtime(16) = 0
trigger2 = animelemtime(17) = 0
trigger3 = animelemtime(18) = 0
trigger4 = animelemtime(20) = 0
trigger5 = animelemtime(21) = 0
trigger6 = animelemtime(22) = 0
anim = 7800
postype = p1
pos = ceil(-30*const(size.xscale)),0
random = 0,3
velocity = 0, 0
accel = 0, 0
sprpriority = 3
ownpal = 1
scale = const(size.xscale),const(size.yscale)

[State -2, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(9) >= 0
movetype = I 

[State -2, ctrlset]
type = ctrlset
trigger1 = animelemtime(33) >= 1
value = 1

[State 810, State End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;雷打(投げられた側)1
[Statedef 1560]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
SprPriority = 1

[State -2, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1560

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Ibuki"
value = 101560

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Ryu" || name = "Ken" || name = "Gouki"
value = 101561

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Alex"
value = 101562

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "hugo"
value = 101563

[State 811, ChangeAnim2]
type = ChangeAnim2
Trigger1 = Time = 0
trigger1 = authorname = "GM"
trigger1 = name = "Gill"
value = 11564+(facing=-1)*100000

;△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△△
;雷打(投げられた側)2
[Statedef 1561]
type    = A
movetype= H
physics = N
velset = 0,0

[State -3, PlaySnd]
type = PlaySnd
triggerall = time = 2
triggerall = alive
triggerall = authorname = "GM"
trigger1 = name = "Ryu" || name = "Ken" || name = "Gouki" || name = "Sean"
trigger2 = name = "Alex" || name = "Hugo" || name = "Ibuki"
trigger3 = name = "Gill"
value = S5000,1
channel = 2

[State 5050, 3]
type = VelSet
trigger1 = time = 2
x = -10.0
y = -6.0

[State -2, ChangeAnim]
type = ChangeAnim
Trigger1 = Time = 0
value = 5012

[State -2, ChangeAnim]
type = ChangeAnim
Triggerall = Time = 0
triggerall = authorname = "GM"
trigger1 = name = "Ryu" || name = "Ken" || name = "Gouki" || name = "Sean"
trigger2 = name = "Alex" || name = "Hugo" || name = "Ibuki"
trigger3 = name = "Gill"
value = 5700+(authorname="GM"&&name="Gill"&&facing=-1)*100000

[State -2, ChangeAnim]
type = ChangeAnim
Trigger1 = anim = 5012
Trigger1 = time = 2
value = 5030
persistent = 0

[State -2, ChangeAnim]
type = ChangeAnim
trigger1 = SelfAnimExist(5035)
Trigger1 = anim = 5030
Trigger1 = AnimTime = 0
value = 5035

[State -2, ChangeAnim]
type = ChangeAnim
trigger1 = SelfAnimExist(5035)
Trigger1 = anim = 5035
Trigger1 = AnimTime = 0
trigger2 = !SelfAnimExist(5035)
Trigger2 = anim = 5030
Trigger2 = AnimTime = 0
value = 5050

[State -2, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 5050
trigger1 = Vel Y >= 1
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3]
type = VelAdd
trigger1 = time >= 2
y = .55

[State 5050, 6]
type = SelfState
trigger1 = time > 2
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100
