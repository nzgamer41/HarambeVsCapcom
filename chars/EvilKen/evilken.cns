;----------------------------------------;
; Evil Ken by Reu, Tenshin and KingTigre ;
;      http://www.reubenkee.com/         ;
;----------------------------------------;

[Data]
life = 900
power = 3000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 25
sparkno = 0
guard.sparkno = 40; S9300
KO.echo = 0
volume = 0
IntPersistIndex = 30
FloatPersistIndex = 0

[Size]
xscale = 1.0
yscale = 1.1
ground.back = 17
ground.front = 17
air.back = 13
air.front = 13
height = 60
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 1
head.pos = -7, -79
mid.pos = -4, -51

[Velocity]
walk.fwd = 3.3
walk.back = -3
run.fwd = 6.5, -3.5
run.back = -6.0, -2.55
jump.neu = 0, -9.5
jump.back = -3.4
jump.fwd = 3.4
runjump.back = -5.1, -10.5
runjump.fwd = 5.1, -10.5
airjump.neu = 0, -9.5
airjump.back = -3.55, -9.1
airjump.fwd = 3.5, -9.1

[Movement]
airjump.num = 0
airjump.height = 40
yaccel = 0.45
stand.friction = 0.85
crouch.friction = 0.82
stand.friction.threshold = 1.0
crouch.friction.threshold = 1.0
air.gethit.groundlevel = 25
air.gethit.groundrecover.ground.threshold = -20
air.gethit.groundrecover.groundlevel = 10
air.gethit.airrecover.threshold = -1
air.gethit.airrecover.yaccel = 0.35
air.gethit.trip.groundlevel = 15
down.bounce.offset = 0, 20
down.bounce.yaccel = 0.4
down.bounce.groundlevel = 12
down.friction.threshold = 0.5

[Quotes]
victory1 = "I'm number one!"
victory2 = "You lost the moment I lost my sanity!"
victory3 = "This is the Satsui no Hadou? It brings out my best, and my worst..."
victory4 = "You can't beg for your life. Pay for it!"
victory5 = "I'm not done yet!"
victory6 = "Stay down or I'll grind your bones to dust!"
victory7 = "The smell of your scorched flesh is so invigorating!"
victory8 = "You're not enough..."


;==============================================================================================
[Statedef 170]
type = S
ctrl = 0
anim = 181
velset = 0, 0

[State 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


;==============================================================================================
[Statedef 180]
type = S
ctrl = 0

[State 180, Quote]
type = victoryquote
trigger1 = 1
value = -1

[State 1]
type = AfterImageTime
trigger1 = time = 0
time = 0

[State 180]
type = changestate
trigger1 = fvar(34) <= 0
trigger1 = command="hold_x" || command="hold_y" || command="hold_z"
value = ifelse(command = "hold_z", 12050, ifelse(command = "hold_y", 12040, 12030))

[State 180]
type = changestate
trigger1 = fvar(34) <= 0
trigger1 = command="hold_a" || command="hold_b" || command="hold_c"
value = ifelse(command = "hold_c", 187, ifelse(command = "hold_b", 186, 182))

[State 1]
type = ChangeState
trigger1 = fvar(34) != 0
value = ifelse(random<250, 182, ifelse(random<333, 186, ifelse(random<500, 187, 12050)))

[State 1]
type = ChangeState
trigger1 = 1
value = ifelse(random<167, 182, ifelse(random<200, 186, ifelse(random<250, 187, ifelse(random<333, 12030, ifelse(random<500, 12040, 12050)))))


;==============================================================================================
[Statedef 182]
type = S
ctrl = 0
anim = 182

[State 2] 
type = AssertSpecial
trigger1 = animelemtime(3) < 200
flag = roundnotover

[State Wind effect] 
type = Explod
trigger1 = time = 6
anim = 9403
pos = 0, 0
sprpriority = 0
postype = p1
supermovetime = -1
ownpal = 1
removetime = 190

[State 3]
type = BGPalfx
trigger1 = time = 6
invertall = 1
supermovetime = -1
time = 200
add = 0, -255, -255
sinadd = 400, 400, 400, 145

[State Dragon]
type = Helper
trigger1 = time = 150
helpertype = normal
name = "Dragon"
id = 3
pos = 0, -40
postype = p1
stateno =1011
ownpal = 1
pausemovetime = 9999

[State skin fadeout]
type = PalFx
trigger1 = time = 30
add = 0, 0, 0
sinadd = -100, -100, -100, 400
time = 199
ignorehitpause = 1
persistent = 0

[State Shinryuken]
type = PlaySnd
trigger1 = time = 150
value = 2, 10
channel = 0

[State Sound]
type = PlaySnd
trigger1 = time = 1
value = 1, 4
volume = 255

[State fall]
type = Changeanim
trigger1 = time = 200
value = 185


;==============================================================================================
[Statedef 186]
type = S
ctrl = 0
anim = 183
sprpriority = -4

[State 1]
type = turn
trigger1 = facing = 1 && pos x >= 100
trigger2 = facing = -1 && pos x <= -100

[State 2] 
type = AssertSpecial
trigger1 = time < 180
flag = roundnotover


;==============================================================================================
[Statedef 187]
type = S
ctrl = 0
anim = 184

[State 4]
type = PlaySnd
trigger1 = animelem = 37
value = 2, 7
volume = 255

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -6, 6

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -6, 6

[State FireB]
type = Explod
trigger1 = time = [75, 79]
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 24, -90
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = -1/3*(var(52)), -0.5

[State FireB]
type = Explod
trigger1 = time = [75, 79]
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 24, -90
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = -1/3*(var(53)), -0.5

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -1, -4

[State FireB]
type = Explod
trigger1 = time = [14, 75]
trigger1 = random <= 100
persistent = 1
anim = 12212
id = 12212
postype = p1
pos = 24, -90
random = 5, 5
scale = 1, 0.3
sprpriority = 5
ownpal = 1
vel = 0, var(51)

[State FireB]
type = Explod
trigger1 = time = [14, 75]
trigger1 = random <= 400
persistent = 1
anim = 12215
id = 12212
scale = 1, 0.3
postype = p1
pos = 24, -90
random = 5, 5
sprpriority = 5
ownpal = 1
vel = 0, var(51)

[State 2] 
type = AssertSpecial
trigger1 = animelemtime(3) < 200
flag = roundnotover


;==============================================================================================
[Statedef 12030]
type = S
ctrl = 0
anim = 3884

[State 2] 
type = AssertSpecial
trigger1 = animelemtime(3) < 500
flag = roundnotover

[State 2] 
type = Turn
trigger1 = time = 0 && frontedgedist <150

[State Dan]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Bison"
id = 1
pos = 105, -200
postype = p1
stateno =12031
ownpal = 1

[State 9]
type = ChangeState
trigger1 = time = 50
value = 12032


;==============================================================================================
[Statedef 12032]
type = S
movetype = A
anim = 1822
velset = 0, 0
sprpriority = 2
ctrl = 0

[State 2] 
type = AssertSpecial
trigger1 = animelemtime(3) < 500
flag = roundnotover

[State Shoryuken]
type = PlaySnd
trigger1 = time = 23
value = 3, 1
volume = 255

[State FC1] 
type = Explod
trigger1 = time = 0
anim = 10410
pos = 25, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 65
ownpal = 1
pausemovetime = 9999

[State FC2] 
type = Explod
trigger1 = time = 0
anim = 10411
pos = 25, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 65
ownpal = 1
pausemovetime = 9999

[State Wind effect2] 
type = Explod
trigger1 = animelem = 7
anim = 9403
pos = -5, 0
sprpriority = 0
postype = p1
supermovetime = -1
ownpal = 1
pausemovetime = 9999

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -3, -4

[State FireB]
type = Explod
trigger1 = time > 8 && random <= 100
persistent = 1
anim = 12212
id = 12212
postype = p1
pos = 19, -39
random = 19, 5
scale = 1, 0.3
sprpriority = 5
ownpal = 1
vel = 0, var(51)

[State FireB]
type = Explod
trigger1 = time > 43 && random <= 400
persistent = 1
anim = 12215
id = 12212
scale = 1, 0.3
postype = p1
pos = 10, -39
random = 25, 5
sprpriority = 5
ownpal = 1
vel = 0, var(51)

[State Fist Fire Frame 1 & 2]
type = explod
trigger1 = time = 48
anim = 2600
id = 2600
pos = 0, 0
postype = p1
bindtime = -1
removetime = 100
sprpriority = 3
ownpal = 1
removeongethit = 1
supermovetime = 10

[State Remove Fist Fire 2]
type = RemoveExplod
trigger1 = time = 100
id = 2600

[State 9]
type = ChangeState
trigger1 = time = 100
ctrl = 0
value = 12033


;==============================================================================================
[Statedef 12033]
type = S
movetype = A
anim = 1500
velset = 0, 0
ctrl = 0
sprpriority = 2

[State 2] 
type = AssertSpecial
trigger1 = animelemtime(3) < 500
flag = roundnotover

[State 3]
type = VarSet
trigger1 = time = 0
v = 34
value = 0

[State 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8

[State 1]
type = NotHitBy
trigger1 = time > 8
value = A, NP, SP, HP
time = 1

[State Fist Fire Frame 1 & 2]
type = explod
trigger1 = animelem = 1 || animelem = 2
anim = ifelse(animelemtime(1)=0, 2600, 2601)
id = ifelse(animelemtime(1)=0, 2600, 2601)
pos = 0, 0
postype = p1
bindtime = -1
removetime = 15
sprpriority = 3
ownpal = 1
removeongethit = 1
supermovetime = 10

[State Fist Fire 3 & 4]
type = explod
trigger1 = animelem = 3 || animelem = 4
anim = ifelse(animelemtime(3)=0, 2602, 2603)
id = ifelse(animelemtime(3)=0, 2602, 2603)
pos = 0, 0
postype = p1
bindtime = -1
removetime = 31
sprpriority = 3
ownpal = 1
scale = ifelse(animelemtime(3)=0, 1, 0.8), 1
removeongethit = 1

[State Fist Fire 3]
type = explod
trigger1 = animelem = 3
anim = 2602
id = 2602
pos = 0, 0
postype = p1
bindtime = -1
removetime = 15
sprpriority = 3
scale = ifelse(animelemtime(3)=0, 1, 0.8), 1
ownpal = 1
removeongethit = 1

[State Fist Fire 4]
type = explod
trigger1 = animelem = 4
anim = 2603
id = 26033
pos = 0, 0
postype = p1
bindtime = -1
removetime = -1
sprpriority = 3
scale = ifelse(animelemtime(3)=0, 1, 0.8), 1
ownpal = 1

[State Remove Fist Fire 1 & 2]
type = RemoveExplod
trigger1 = anim = 1500
trigger1 = animelem = 2 || animelem = 3
id = ifelse(animelemtime(2)=0, 2600, 2601)

[State Remove Fist Fire 3]
type = RemoveExplod
trigger1 = animelem = 4 && anim = 1500
id = 2602

[State Shoryuken]
type = PlaySnd
trigger1 = animelem = 2
value = 4, 2
channel = 0
volume = 255

[State 6]
type = PlaySnd
trigger1 = animelem = 2
value = 6, 9

[State 9]
type = ChangeState
trigger1 = animelem = 4
value = 12034


;==============================================================================================
[Statedef 12034]
type = A
movetype = A
velset = 16, -11
sprpriority = 2

[State 2] 
type = AssertSpecial
trigger1 = 1
flag = roundnotover

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = 3, 9

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -3, 3

[State FireB]
type = Explod
trigger1 = vel Y < -1
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 18, -124
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(51)), -(var(51))/6

[State FireB]
type = Explod
trigger1 = vel Y < -1
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 18, -124
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(52)), -(var(51))/6

[State 1]
type = NotHitBy
trigger1 = time = 0
value = SCA, NP, SP, HP
time = 8

[State 2]
type = VelMul
trigger1 = 1
x = 0.90

[State 3]
type = VelAdd
trigger1 = 1
y = 0.46

[State 7]
type = ChangeAnim
trigger1 = vel y > -1
value = 1510
persistent = 0

[State Remove Fist Fire 4]
type = RemoveExplod
trigger1 = vel y > -1
trigger1 = animelem = 1
id = 26033

[State Fist Fire Frame 5]
type = explod
trigger1 = anim = 1510
trigger1 = animelem = 1
anim = 2604
id = 2604
pos = 0, -10
postype = p1
bindtime = -1
sprpriority = 3
ownpal = 1
vel = 0, -0.1
accel = 0, -0.1
removeongethit = 1

[State 8]
type = velset
trigger1 = anim = 1510
x = 0
persistent = 0

[State 9]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 12035
ctrl = 0


;==============================================================================================
[Statedef 12035]
type = S
movetype = I
physics = S
anim = 1520
velset = 0, 0

[State 2] 
type = AssertSpecial
trigger1 = time < 60
flag = roundnotover

[State 3]
type = PosSet
trigger1 = time = 0
y = 0

[State 52, Land SOund]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 9]
type = changeanim
trigger1 = time = 3
value = 170


;==============================================================================================
[Statedef 12031]
type = S
Anim = 11230
sprpriority = 4

[State 2] 
type = Turn
trigger1 = time = 0

[State Shoryuken]
type = PlaySnd
trigger1 = time = 5
value = 5, 4
volume = 255

[State Shoryuken]
type = PlaySnd
trigger1 = time = 160
value = 5, 5
volume = 255

[State Shoryuken]
type = PlaySnd
trigger1 = time = 162
value = 5, 1
volume = 255

[State 4]
type = ChangeAnim
trigger1 = time = 161
value = 11233

[State 4]
type = Explod
trigger1 = time = 54
anim = 11232
id = 11232
postype = p1
pos = 0, 0
sprpriority = 5
ownpal = 1
vel = 0, -1

[State 4]
type = velset
trigger1 = time = 0
y = 3

[State 4]
type = veladd
trigger1 = time = [25, 54]
y = -0.1

[State Dissipate]
type = destroyself
trigger1 = animtime = 179


;==============================================================================================
[Statedef 12040]
type = S
ctrl = 0
anim = 3884

[State 2] 
type = AssertSpecial
trigger1 = animelemtime(3) < 500
flag = roundnotover

[State 2] 
type = Turn
trigger1 = time = 0 && frontedgedist <150

[State Dan]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Bison"
id = 1
pos = 405, -20
postype = p1
stateno =12041
ownpal = 1

[State 9]
type = ChangeState
ctrl = 0
trigger1 = time = 190
value = 12042


;==============================================================================================
[Statedef 12041]
type = S
Anim = 11231
sprpriority = 4

[State 2] 
type = Turn
trigger1 = time = 0

[State Shoryuken]
type = PlaySnd
trigger1 = time = 5
value = 5, 2
volume = 255

[State Shoryuken]
type = PlaySnd
trigger1 = animtime = 0
value = 5, 5
volume = 255

[State Shoryuken]
type = PlaySnd
trigger1 = time = 142
value = 5, 3
volume = 100

[State Shoryuken]
type = PlaySnd
trigger1 = animtime = 0
value = 5, 0
volume = 255

[State 4]
type = ChangeAnim
trigger1 = animtime = 0
value = 11233

[State 4]
type = velset
trigger1 = time = 0
x = 3

[State 4]
type = veladd
trigger1 = time = [75, 104]
x = -0.1

[State Dissipate]
type = destroyself
trigger1 = animtime = 279


;==============================================================================================
[Statedef 12042]
type = A
movetype = A
anim = 10493
physics = S
velset = 0, 0
ctrl = 0

[State 2] 
type = AssertSpecial
trigger1 = animelemtime(3) < 500
flag = roundnotover

[State 1]
type = NotHitBy
trigger1 = Time < 10
value = , NA, AP
time = 1

[State Wind effect] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 9402
scale = 0.7, 0.7
pos = 0, 3
sprpriority = -4
postype = p1
supermovetime = -1
bindtime = 18
ownpal = 1
pausemovetime = 9999

[State Wind effect] 
type = Explod
trigger1 = animelem = 1, =6
anim = 10601
pos = 0, 5
sprpriority = 4
postype = p1
supermovetime = -1
ownpal = 1
ownpal = 1
pausemovetime = 9999

[State chargeyell]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 5
volume = 255
channel = 0

[State 0]
type = Varadd
trigger1 = animelem = 1
v = 28
value = 1

[State grunt]
type = PlaySnd
trigger1 = time = 1
value = 2, 2
channel = 0

[State flamesnd]
type = PlaySnd
trigger1 = time = 1
value = 6, 9

[State 9]
type = changestate
trigger1 = animelem = 3
value = 12043


;==============================================================================================
[Statedef 12043]
type = A
movetype = A
physics = N
ctrl = 0
sprpriority = -5

[State 1]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -3, -12

[State 2] 
type = AssertSpecial
trigger1 = animelemtime(3) < 500
flag = roundnotover

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -3, 3

[State FireB]
type = Explod
trigger1 = pos y < 5
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 38, -74
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(51), (var(52))
scale = 0.2, 1.5
accel = 0.88, (var(51))/6

[State FireB]
type = Explod
trigger1 = pos y < 5
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 38, -74
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(51), (var(52))
scale = 0.2, 1.5
accel = 0.88, (var(51))/6

[State 1]
type = NotHitBy
trigger1 = Time < 10
value = , NA, AP
time = 1

[State jerk back]
type = Posadd
trigger1 = animelem = 3
x = 25

[State 5]
type = explod
trigger1 = animelem = 3
anim = 10491
pos = 67, -71
ontop = 1
persistent = 0
bindtime = 40
removetime = 40
shadow = 0, 50, 100
scale = 1.3, 1
removeongethit = 1

[State 5]
type = explod
trigger1 = animelem = 3
anim = 12206
pos = 67, -71
ontop = 1
persistent = 0
removetime = 10
shadow = 0, 50, 100
removeongethit = 1

[State 5]
type = explod
trigger1 = animelem = 3
anim = 12207
pos = 67, -71
removetime = 28
ontop = 1
persistent = 0
shadow = 0, 50, 100
removeongethit = 1

[State 5]
type = explod
trigger1 = animelem = 3
anim = 12207
pos = 67, -71
removetime = 28
ontop = 1
persistent = 0
shadow = 0, 50, 100
scale = 1.01, 1.01
removeongethit = 1

[State 5]
type = explod
trigger1 = animelem = 3
anim = 10800
pos = 67, -71
ontop = 1
persistent = 0
bindtime = -1
removetime = -1
shadow = 0, 50, 100
scale = 1.3, 1
removeong1thit = 1

[State 9]
type = changestate
triggerall = var(28) < 3
trigger1 = var(46) < 90
trigger1 = movecontact
value = 4041
ctrl = 0

[State 9]
type = changestate
triggerall = movecontact
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 4045
ctrl = 0

[State SuperLight] 
type = Explod
triggerall = movehit
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
persistent = 0
ignorehitpause = 1
anim = 13036
pos = 42, -50
sprpriority = 3
supermovetime = -1
ownpal = 1
scale = 0.5, 0.5

[State fly]
type = Velset
trigger1 = animelem = 3
x = 14
y = -2

[State air resistance]
type = Veladd
trigger1 = time > 7
x = -0.13
y = 0.44

[State 0]
type = Varset
trigger1 = vel y > 0
trigger1 = pos y >= 0
v = 28
value = 0

[State 9]
trigger1 = vel y > 0
trigger1 = pos y >= 0
type = ChangeState
value = 14043


;==============================================================================================
[Statedef 14043]
type = S
movetype = I
physics = C
anim = 106
velset = 5, 0

[State 1]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0

[State 2] 
type = AssertSpecial
trigger1 = animelemtime(3) < 100
flag = roundnotover

[State 3]
type = Posadd
trigger1 = time = 0
x = -5

[State 3]
type = PosSet
trigger1 = time = 0
y = 0

[State 1]
type = AfterImageTime
trigger1 = time = 0
time = 0

[State 9]
trigger1 = time = 15
type = ChangeState
value = 14044


;==============================================================================================
[Statedef 14044]
type = S
movetype = I
physics = C
anim = 9999
velset = 5, 0

[State 1]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0


;==============================================================================================
[Statedef 12050]
type = S
ctrl = 0
anim = 12237

[State 2] 
type = AssertSpecial
trigger1 = 1
flag = roundnotover

[State 2]
type = Playsnd
trigger1 = animelem = 2
value = 0, 16
volume = 255

[State Afterimage hit helper]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "wind"
id = 300
postype = p1
stateno = 60100
ownpal = 1
pausemovetime = 9999
size.xscale = 1.2
size.yscale = 1.2

[State Afterimage hit helper]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "wind"
id = 300
postype = p1
stateno = 60101
ownpal = 1
pausemovetime = 9999
size.xscale = 1.2
size.yscale = 1.2

[State End] 
type = ChangeState 
trigger1 = animtime = 0
value = 12051
ctrl = 0


;==============================================================================================
[Statedef 12051]
type = S
movetype = A
velset = 0, 0
anim = 9999
sprpriority = 1

[State 2] 
type = AssertSpecial
trigger1 = time < 80
flag = roundnotover

[State Camera]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0

[State 5]
type = turn
trigger1 = time = 0

[State Pah!]
type = posset
trigger1 = facing = -1 && time = 0
x = 150

[State Pah!]
type = posset
trigger1 = facing = 1 && time = 0
x = -150

[State Pah!]
type = Explod
trigger1 = time = 0 || time = 4 || time = 8 || time = 12
anim = 12210
pos = 300-25*(time), 0
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 6
ownpal = 1
scale = 0.6, 0.6

[State Pah!]
type = Explod
trigger1 = time = 2 || time = 6 || time = 10
anim = 12210
pos = 300-25*(time), 12
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 6
ownpal = 1
scale = 0.7, 0.7

[State 5]
type = EnvShake
trigger1 = time = 0
persistent = 1
time = 20
ampl = -5
freq = 100
phase = 1

[State 5]
type = EnvColor
trigger1 = gametime%2 = 1 && time = [0, 12]
value = 255, 255, 255
time = 1

[State 5]
type = PlaySnd
trigger1 = gametime%2 = 1 && time = [0, 12]
value = 0, 14
volume = 255
pan = 300-25*(time)

[State 0]
type = VarSet
trigger1 = animtime = 0
v = 28
value = 0

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 190]
type = S
ctrl = 0
velset = 0, 0

[State 0]
type = Changestate
triggerall = numenemy
triggerall= !roundsexisted && !(enemy, roundsexisted)
triggerall= !(teammode = simul) && !(enemy, teammode = simul)
trigger1 = enemy, name = "Ryu"
trigger2 = enemy, name = "Harambe"
trigger3 = enemy, name = "Ryu Hoshi"
trigger4 = enemy, name = "RyuV"
trigger5 = enemy, name = "RyuX"
trigger6 = enemy, name = "Ryu-X"
trigger7 = enemy, name = "Ryu X"
trigger8 = enemy, name = "Marvel Ryu Zero"
trigger9 = enemy, name = "Ryulee"
trigger10 = enemy, name = "cvsryu"
trigger11 = enemy, name = "svcryu"
value = 11010

[State 0]
type = Changestate
triggerall = numenemy
triggerall= !roundsexisted && !(enemy, roundsexisted)
triggerall= !(teammode = simul) && !(enemy, teammode = simul)
trigger1 = enemy, name = "Akuma"
trigger2 = enemy, name = "Gouki"
trigger3 = enemy, name = "Shin Akuma"
trigger4 = enemy, name = "Shin Gouki"
trigger5 = enemy, name = "Cyber Akuma"
trigger6 = enemy, name = "Mech Gouki"
trigger7 = enemy, name = "cvsgouki"
value = 11020

[State 0]
type = Changestate
triggerall = numenemy
triggerall= !roundsexisted && !(enemy, roundsexisted)
triggerall= !(teammode = simul) && !(enemy, teammode = simul)
trigger1 = enemy, name = "Baby Bonnie Hood"
trigger2 = enemy, name = "Bulleta"
trigger3 = enemy, name = "BBHood"
trigger4 = enemy, name = "BBH"
value = 11030

[State 0]
type = Changestate
triggerall = numenemy
triggerall= !roundsexisted && !(enemy, roundsexisted)
triggerall= !(teammode = simul) && !(enemy, teammode = simul)
trigger1 = p2name = "EvilKen"
trigger2 = enemy, name = "Evil Ken" && enemy, authorname = "Reu"
trigger3 = numenemy >= 2
trigger3 = enemy(1), name = "Evil Ken" && enemy(1), authorname = "Reu"
value = 11040

[State 0]
type = Changestate
triggerall = numenemy
triggerall= !roundsexisted && !(enemy, roundsexisted)
triggerall= !(teammode = simul) && !(enemy, teammode = simul)
trigger1 = enemy, name = "Evil Ryu" && enemy, authorname = "Reu and Kingtigre"
trigger2 = numenemy >= 2
trigger2 = enemy(1), name = "Evil Ryu" && enemy(1), authorname = "Reu and Kingtigre"
value = 11060

[State 0]
type = Changestate
trigger1 = numenemy
trigger1 = enemy(0), name = "Krizalid" || enemy(0), name = "Krizalid-0" || enemy(0), name = "Krizalid-0" || enemy(0), name = "kriz" || enemy(0), name = "kriza"
trigger2 = numenemy >= 2
trigger2 = enemy(1), name = "Krizalid" || enemy(1), name = "Krizalid-0" || enemy(1), name = "Krizalid-0" || enemy(1), name = "kriz" || enemy(1), name = "kriza"
value = 12021

[State 4]
type = changestate
trigger1 = !time && teammode = turns
trigger1 = roundsexisted = 0 && roundno >= 2
value = ifelse(random<250, 191, ifelse(random<333, 193, ifelse(random<500, 195, 12020)))

[State 1]
type = ChangeState
trigger1 = 1
value = ifelse(random<143, 191, ifelse(random<167, 192, ifelse(random<200, 193, ifelse(random<250, 195, ifelse(random<333, 12020, ifelse(random<500, 12021, 12022))))))


;==============================================================================================
[Statedef 191]
type = S
movetype = I
velset = 0, 0
anim = 191

[State 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State groundshockwave] 
type = explod
trigger1 = animelem = 5
anim = 10050
pos = -52, 0
sprpriority = -5
postype = p1
ownpal = 1
scale = 1.0, 0.5

[State 4]
type = PlaySnd
trigger1 = animelem = 5
value = 1, 0	
volume = 255

[State 5]
type = PlaySnd
trigger1 = animelem = 5
value = 1, 2

[State 5]
type = EnvShake
trigger1 = animelem = 5
persistent = 0
time = 20
ampl = -5
freq = 100
phase = 10

[State 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0


;==============================================================================================
[Statedef 192]
type = S
movetype = I
velset = 0, 0
anim = 192

[State 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 192

[State 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 3]
type = AssertSpecial
trigger1 = time = [0, 350]
flag = NoMusic

[State Sound]
type = PlaySnd
trigger1 = animelem = 31
value = 10, 3
volume = 255
channel = 0

[State windy]
type = Explod
trigger1 = animelem = 37
anim = 9405
pos = 0, 0
sprpriority = 0
postype = p1
supermovetime = -1
ownpal = 1

[State Visual effect]
type = Explod
trigger1 = animelem = 37, = 50
anim = 10010
pos = -3, -60
sprpriority = 3
postype = p1
supermovetime = -1
ownpal = 1
scale = 1, 1

[State skin fadeout]
type = PalFx
trigger1 = time = [110, 260]
add = -(time - 110), -(time - 110), -(time - 110)
time = 2

[State skin fadeout]
type = BGPalFx
trigger1 = time = [110, 320]
add = 0 + ceil(cos((time - 110) / 105.0 * pi) * 400), -255 + ceil(cos((time - 110) / 105.0 * pi) * 400), -255 + ceil(cos((time - 110) / 105.0 * pi) * 400)
invertall = 1
time = 2

[State skin fadeout]
type = BGPalFx
trigger1 = time = [320, 352]
add = 256 - (time - 320) * 8, 256 - (time - 320) * 8, 256 - (time - 320) * 8
time = 2

[State 5]
type = EnvColor
trigger1 = time = 150
value = 20, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 190
value = 40, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 220
value =60, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 240
value = 80, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 250
value = 100, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 255
value = 120, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 260
value = 140, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 265
value = 160, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 270
value = 180, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 275
value = 200, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 280
value = 220, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 285
value = 240, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 290
value = 250, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 295
value = 255, 0, 0
time = 1

[State Sound]
type = PlaySnd
trigger1 = animelem = 37
value = 1, 4
volume = 255
channel = 0

[State 5]
type = EnvShake
trigger1 = animelemtime(37) = [0, 152]
trigger1= !(animelemtime(37) % 4)
time = 4
ampl = -2
freq = 120
phase = 1

[State 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0


;==============================================================================================
[Statedef 193]
type = S
movetype = I
velset = 0, 0
anim = 193

[State 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 193

[State 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -6, 6

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -6, 6

[State FireB]
type = Explod
trigger1 = time = [92, 96]
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 24, -90
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = -1/3*(var(52)), -0.5

[State FireB]
type = Explod
trigger1 = time = [92, 96]
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 24, -90
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = -1/3*(var(53)), -0.5

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -1, -4

[State FireB]
type = Explod
trigger1 = time = [32, 91]
trigger1 = random <= 100
persistent = 1
anim = 12212
id = 12212
postype = p1
pos = 24, -90
random = 5, 5
scale = 1, 0.3
sprpriority = 5
ownpal = 1
vel = 0, var(51)

[State FireB]
type = Explod
trigger1 = time = [32, 91]
trigger1 = random <= 400
persistent = 1
anim = 12215
id = 12212
scale = 1, 0.3
postype = p1
pos = 24, -90
random = 5, 5
sprpriority = 5
ownpal = 1
vel = 0, var(51)

[State 8]
type = PlaySnd
trigger1 = time = 92
value = 2, 7

[State 7] 
type = ChangeAnim
trigger1 = time = 92
value = 194

[State 9]
type = ChangeState
trigger1 = anim = 194 && animtime = 0
value = 0


;==============================================================================================
[Statedef 195]
type = S
movetype = I
velset = 0, 0
anim = 195

[State 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 195

[State 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = 0


;==============================================================================================
[Statedef 11060]
type = S
movetype = I
velset = 0, 0
anim = 11060

[State 1]
type = envcolor
trigger1 = time = [0, 500]
value = 0, 0, 0
under = 1
ignorehitpause = 1
persistent = 1
time = 5

[State Randomizer]
type = varrandom
trigger1 = time = 0
v = 1
range = 0, 100

[State 1]
type = ChangeState
trigger1 = var(1) <= 25
trigger1 = time = 0
value = 11061

[State 2]
type = ChangeState
trigger1 = var(1) > 25
trigger1 = var(1) <= 50
value = 11062

[State 2]
type = ChangeState
trigger1 = var(1) > 50
trigger1 = var(1) <= 75
value = 11063

[State 2]
type = ChangeState
trigger1 = var(1) > 75
trigger1 = var(1) <= 100
value = 11064

[State 1]
type = ChangeState
trigger1 = numenemy
trigger1 = enemynear, stateno != 11060 && time > 5
value = 191

[State 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = 0


;==============================================================================================
[Statedef 11061]
type = S
movetype = I
velset = 0, 0
anim = 11061
sprpriority = -1

[State Camera]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0

[State Camera]
type = helper
trigger1 = !numhelper(9998)
helpertype = normal
stateno = 9998
ID = 9998
name = "Camera"
postype = p1

[State Randomizer]
type = Varset
trigger1 = time = 0
v = 1
value = ceil(pos x)

[State Randomizer]
type = posset
trigger1 = time = 0 && var(1) < 0
x = -50

[State Randomizer]
type = posset
trigger1 = time = 0 && var(1) > 0
x = 50

[State Randomizer]
type = posadd
trigger1 = time > 110 && var(1) < 0 && (pos x > var(1))
x = -5

[State Pos]
type = posset
triggerall = time > 110 && numhelper(9998)
trigger1 = facing = 1 && (pos x < helper(9998), pos x)
trigger2 = facing = -1 && (pos x > helper(9998), pos x)
x = ceil(helper(9998), pos x)
y = 0

[State Randomizer]
type = posadd
trigger1 = time > 110 && var(1) > 0 && (pos x < var(1))
x = -5

[State 5]
type = PlaySnd
trigger1 = time = 110
value = 0, 11

[State 5]
type = PlaySnd
trigger1 = time = 40
value = 2, 2

[State 5]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 2

[State 5]
type = PlaySnd
trigger1 = animelem = 8
value = 0, 4

[State 5]
type = Explod
trigger1 = animelem = 9
Anim = 9400
scale = 0.7, 0.7
pos = 10, -64
ontop = 1

[State 3]
type = BGPalfx
trigger1 = animelem = 7 || animelem = 9
time = 10
add = 255, 255, 255
sinadd = -255, -255, -255, 40

[State 5]
type = EnvShake
trigger1 = animelem = 7 || animelem = 9
persistent = 1
time = 13
ampl = -5
freq = 100
phase = 1

[State 5]
type = PlaySnd
trigger1 = animelem = 7
value = 7, 2

[State 5]
type = PlaySnd
trigger1 = animelem = 9
value = 7, 2

[State dust]
type = MakeDust
trigger1 = time = [110, 120]
pos = -10, -2
spacing = 5

[State 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = 0


;==============================================================================================
[Statedef 11062]
type = S
movetype = I
velset = 0, 0
anim = 11062

[State 3]
type = BGPalfx
trigger1 = time < 200
time = 2
add = -255, -255, -255

[State skin fadeout]
type = BGPalFx
trigger1 = time = [200, 300]
add = -255 + ceil((time - 200) * 2.55), -255 + ceil((time - 200) * 2.55), -255 + ceil((time - 200) * 2.55)
time = 2

[State skin fadeout]
type = PalFx
trigger1 = time < 30
add = -255, -255, -255
time = 2

[State skin fadeout]
type = PalFx
trigger1 = time = [30, 190]
add = -255 + ceil((time - 30) * 1.59), -255 + ceil((time - 30) * 1.59), -255 + ceil((time - 30) * 1.59)
time = 2

[State Randomizer]
type = varrandom
trigger1 = time = 0
v = 1
range = 0, 75

[State 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = 0


;==============================================================================================
[Statedef 11063]
type = A
movetype = I
velset = 0, 0
anim = 11063

[State Camera]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0

[State Camera]
type = helper
trigger1 = !numhelper(9998)
helpertype = normal
stateno = 9998
ID = 9998
name = "Camera"
postype = p1

[State Randomizer]
type = Varset
trigger1 = time = 0
v = 1
value = ceil(pos x)

[State Randomizer]
type = posset
trigger1 = time = 0 && var(1) < 0
x = -250
y = 5

[State Randomizer]
type = posset
trigger1 = time = 0 && var(1) > 0
x = 250

[State Randomizer]
type = posadd
trigger1 = time = [52, 58]
trigger1 = var(1) < 0 && (pos x < -74)
x = 15

[State Randomizer]
type = posadd
trigger1 = time = [52, 58]
trigger1 = var(1) > 0 && (pos x > 74)
x = 15

[State Randomizer]
type = posadd
trigger1 = time = [58, 104]
trigger1 = var(1) < 0 && (pos x < -74)
x = 0.4

[State Randomizer]
type = posadd
trigger1 = time = [58, 104]
trigger1 = var(1) > 0 && (pos x > 74)
x = 0.4

[State Randomizer]
type = posadd
trigger1 = time = [104, 108]
trigger1 = var(1) < 0 && (pos x < -74)
x = 15

[State Randomizer]
type = posadd
trigger1 = time = [104, 108]
trigger1 = var(1) > 0 && (pos x > 74)
x = 15

[State Randomizer]
type = posadd
trigger1 = time = [110, 155]
x = 0.1

[State Randomizer]
type = posadd
trigger1 = time = [155, 200]
x = -0.1

[State 5]
type = PlaySnd
trigger1 = time = 50
value = 6, 9

[State 5]
type = PlaySnd
trigger1 = time = [104, 204]
trigger1 = timemod = 20, 19
value = 6, 10

[State 5]
type = PlaySnd
trigger1 = time = 108
value = 2, 9

[State Spark] 
type = Explod
trigger1 = time = 108
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 70, -70
sprpriority = -1
postype = p1
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 1, 1

[State 5]
type = explod
trigger1 = time = 50
anim = 10491
id = 111
pos = 67, -69
ontop = 1
persistent = 1
bindtime = -1
shadow = 0, 50, 100
scale = 1.3, 1
removeongethit = 1

[State 5]
type = explod
trigger1 = time = 50
anim = 10800
id = 112
pos = 67, -69
ontop = 1
persistent = 1
bindtime = -1
shadow = 0, 50, 100
scale = 1.3, 1
removeongethit = 1

[State 5]
type = explod
trigger1 = time = [58, 104]
trigger1 = timemod = 20, 19
anim = 20491
id = 111
pos = 67, -69
ontop = 1
persistent = 1
bindtime = -1
shadow = 0, 50, 100
scale = 1.3, 1
removeongethit = 1

[State 5]
type = explod
trigger1 = time = [58, 104]
trigger1 = timemod = 15, 14
anim = 20800
id = 112
pos = 67, -69
ontop = 1
persistent = 1
bindtime = -1
shadow = 0, 50, 100
scale = 1.3, 1
removeongethit = 1

[State 5]
type = explod
trigger1 = time = [104, 204]
trigger1 = timemod = 10, 9
anim = 10491
id = 111
pos = 67, -69
ontop = 1
persistent = 1
bindtime = -1
shadow = 0, 50, 100
scale = 1.3, 1
removeongethit = 1

[State 5]
type = explod
trigger1 = time = [104, 204]
trigger1 = timemod = 10, 9
anim = 10800
id = 112
pos = 67, -69
ontop = 1
persistent = 1
bindtime = -1
shadow = 0, 50, 100
scale = 1.3, 1
removeongethit = 1

[State SuperLight] 
type = Explod
trigger1 = time = [104, 204]
trigger1 = timemod = 4, 3
anim = 10602
pos = -10, 0
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 12
ownpal = 1
scale = 1, 0.7

[State 9]
type = Changeanim
trigger1 = time = 204
value = 11163

[State Pos]
type = posset
trigger1 = time = 204 && numhelper(9998)
x = ceil(helper(9998), pos x)
y = 0

[State 5]
type = PlaySnd
trigger1 = time = 204
value = 3, 2

[State 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = 0


;==============================================================================================
[Statedef 11064]
type = S
movetype = I
velset = 0, 0
anim = 11064
sprpriority = 2

[State Randomizer]
type = Varset
trigger1 = time = 0
v = 1
value = ceil(pos x)

[State Camera]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0

[State Camera]
type = helper
trigger1 = !numhelper(9998)
helpertype = normal
stateno = 9998
ID = 9998
name = "Camera"
postype = p1

[State 5]
type = turn
trigger1 = time = 0

[State Pah!]
type = posset
trigger1 = time = 0
x = -ceil(pos x)

[State WINDY]
type = explod
trigger1 = time = 87
anim = 12238
id = 9403
pos = 5, 0
postype = p1
sprpriority = -3
ownpal = 1
scale = 1
removeongethit = 0

[State Afterimage hit helper]
type = Helper
trigger1 = time = 87
helpertype = normal
name = "wind"
id = 300
postype = p1
stateno = 60100
ownpal = 1
pausemovetime = 9999
size.xscale = 1.2
size.yscale = 1.2

[State Afterimage hit helper]
type = Helper
trigger1 = time = 87
helpertype = normal
name = "wind"
id = 300
postype = p1
stateno = 60101
ownpal = 1
pausemovetime = 9999
size.xscale = 1.2
size.yscale = 1.2

[State 5]
type = PlaySnd
trigger1 = time = 87
value = 0, 16
volume = 255

[State 5]
type = turn
trigger1 = time = 95

[State Pah!]
type = posset
trigger1 = time = 95
x = var(1)

[State Pos]
type = posset
trigger1 = time >= 95 && numhelper(9998)
x = ceil(helper(9998), pos x)
y = 0

[State Pah!]
type = Explod
trigger1 = time = 101
anim = 10602
pos = 70, 5
sprpriority = 5
postype = p1
supermovetime = -1
bindtime = 12
ownpal = 1
scale = 0.5, 0.5

[State Pah!]
type = Explod
trigger1 = time = 104
anim = 10602
pos = 10, 0
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 12
ownpal = 1
scale = 0.5, 0.5

[State Pah!]
type = Explod
trigger1 = time = 85 || time = 89
anim = 12210
pos = 250+25*(time-95), 0
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 6
ownpal = 1
scale = 0.6, 0.6

[State Pah!]
type = Explod
trigger1 = time = 87 || time = 91
anim = 12210
pos = 250+25*(time-95), 12
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 6
ownpal = 1
scale = 0.7, 0.7

[State 5]
type = EnvShake
trigger1 = time = 96
persistent = 1
time = 20
ampl = -5
freq = 100
phase = 1

[State 5]
type = EnvColor
trigger1 = gametime%2 = 1 && time = [86, 91]
value = 255, 255, 255
time = 1

[State 5]
type = PlaySnd
trigger1 = gametime%2 = 1 && time = [86, 91]
value = 0, 14
volume = 255
pan = 300-25*(time)

[State 5]
type = PlaySnd
trigger1 = time = 101
value = 0, 15
volume = 255

[State 5]
type = PlaySnd
trigger1 = time = 100
value = 0, 15
volume = 255

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = 0

[State 2]
type = AssertSpecial
trigger1 = 1
flag = Intro


;==============================================================================================
[Statedef 12020]
type = S
movetype = I
velset = 0, 0
anim = 12020

[State 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 12020

[State 5]
type = PlaySnd
trigger1 = animelem = 8
value = 4, 5
volume = 255

[State 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State cape]
type = Explod
trigger1 = animelem = 8
anim = 12021
pos = 10, 10
sprpriority = 3
postype = p1
supermovetime = -1
ownpal = 1
scale = 1, 1
vel = 4, 0
accel = -0.01, 0.1
shadow = 0, 0, 0

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = 0


;==============================================================================================
[Statedef 12021]
type = S
movetype = I
velset = 0, 0
anim = 12211

[State 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 12211

[State 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State Pah!]
type = Explod
trigger1 = time = 87
anim = 10602
pos = 70, 5
sprpriority = 5
postype = p1
supermovetime = -1
bindtime = 12
ownpal = 1
scale = 0.5, 0.5

[State Pah!]
type = Explod
trigger1 = time = 91
anim = 10602
pos = 10, 0
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 12
ownpal = 1
scale = 0.5, 0.5

[State Pah!]
type = Explod
trigger1 = time = 40 || time = 44 || time = 48 || time = 52 || time = 56 || time = 60 || time = 64 || time = 68 || time = 72 || time = 76 || time = 80 || time = 84 || time = 88
anim = 12210
pos = 2200-25*(time), 0
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 6
ownpal = 1
scale = 0.6, 0.6

[State Pah!]
type = Explod
trigger1 = time = 42 || time = 46 || time = 50 || time = 54 || time = 58 || time = 62 || time = 66 || time = 70 || time = 74 || time = 78 || time = 82 || time = 86
anim = 12210
pos = 2200-25*(time), 12
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 6
ownpal = 1
scale = 0.7, 0.7

[State 5]
type = EnvShake
trigger1 = time = 75
persistent = 1
time = 13
ampl = -5
freq = 100
phase = 1

[State 5]
type = EnvColor
trigger1 = gametime%2 = 1 && time = [75, 88]
value = 255, 255, 255
time = 1

[State 5]
type = PlaySnd
trigger1 = gametime%2 = 1 && time = [75, 88]
value = 0, 14
volume = 255

[State 5]
type = PlaySnd
trigger1 = time = 86
value = 0, 15
volume = 255

[State 5]
type = PlaySnd
trigger1 = time = 75
value = 0, 11
volume = 255

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = 0


;==============================================================================================
[Statedef 12022]
type = S
movetype = I
velset = 0, 0
anim = 12211

[State Dan]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Krizalid"
id = 1
pos = 45, 0
postype = p1
stateno =12025
ownpal = 1

[State Pah!]
type = Explod
trigger1 = time = 87
anim = 10602
pos = 70, 5
sprpriority = 5
postype = p1
supermovetime = -1
bindtime = 12
ownpal = 1
scale = 0.5, 0.5

[State Pah!]
type = Explod
trigger1 = time = 91
anim = 10602
pos = 10, 0
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 12
ownpal = 1
scale = 0.5, 0.5

[State 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 12211

[State 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State Pah!]
type = Explod
trigger1 = time = 40 || time = 44 || time = 48 || time = 52 || time = 56 || time = 60 || time = 64 || time = 68 || time = 72 || time = 76 || time = 80 || time = 84 || time = 88
anim = 12210
pos = 2200-25*(time), 0
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 6
ownpal = 1
scale = 0.6, 0.6

[State Pah!]
type = Explod
trigger1 = time = 42 || time = 46 || time = 50 || time = 54 || time = 58 || time = 62 || time = 66 || time = 70 || time = 74 || time = 78 || time = 82 || time = 86
anim = 12210
pos = 2200-25*(time), 12
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 6
ownpal = 1
scale = 0.7, 0.7

[State 5]
type = EnvShake
trigger1 = time = 75
persistent = 1
time = 13
ampl = -5
freq = 100
phase = 1

[State 5]
type = EnvColor
trigger1 = gametime%2 = 1 && time = [75, 88]
value = 255, 255, 255
time = 1

[State 5]
type = PlaySnd
trigger1 = gametime%2 = 1 && time = [75, 88]
value = 0, 14
volume = 255

[State 5]
type = PlaySnd
trigger1 = time = 86
value = 0, 15
volume = 255

[State 5]
type = PlaySnd
trigger1 = time = 75
value = 0, 11
volume = 255

[State 9]
type = ChangeState
trigger1 = time =100
value = 12023


;==============================================================================================
[Statedef 12023]
type = S
movetype= I
sprpriority = -5
anim = 11225

[State 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State SuperLight] 
type = Explod
trigger1 = time = 16
anim = 13035
pos = 42, -50
sprpriority = 5
supermovetime = -1
ownpal = 1

[State 5]
type = EnvShake
trigger1 = time = 16
ignorehitpause = 1
persistent = 0
time = 20
ampl = -10
freq = 150
phase = 15

[State SuperLight] 
type = Explod
trigger1 = time = 81
anim = 13036
pos = 42, -50
sprpriority = 3
supermovetime = -1
ownpal = 1
scale = 0.5, 0.5

[State this means shinryuken]
type = PlaySnd
trigger1 = time = 16
value = 6, 12
volume = 255

[State this means shinryuken]
type = PlaySnd
trigger1 = time = 81
value = 6, 12
volume = -255

[State fist] 
type = Explod
trigger1 = time = 15
anim = 12203
pos = 42, -62
sprpriority = 5
postype = p1
supermovetime = -1
removetime = 65
bindtime = 100
ownpal = 1

[State 5]
type = sprpriority
trigger1 = time = 0
value = -5

[State 3]
type = Playsnd
trigger1 = time = 0
persistent = 0
value = 4900, 1

[State 3]
type = PlayerPush
trigger1 = Time >= 1
Value = 0
ignorehitpause = 1

[State 5]
type = sprpriority
trigger1 = time = 140
value = 1

[State 4]
type = ChangeState
trigger1 = time = 140
value = 12024


;==============================================================================================
[Statedef 12024]
type = S
movetype = I
physics = S
anim = 11226
velset = 0
ctrl = 0

[State 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 5]
type = PlaySnd
trigger1 = time = 13
value = 1, 0

[State 5]
type = PlaySnd
trigger1 = time = 15
value = 1, 1
channel = 0

[State groundshockwave] 
type = explod
trigger1 = time = 16
anim = 10050
pos = -52, 0
sprpriority = -5
postype = p1
ownpal = 1
scale = 1.0, 0.5

[State 5]
type = EnvShake
trigger1 = time = 16
persistent = 0
time = 20
ampl = -5
freq = 100
phase = 10

[State 5]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 0


;==============================================================================================
[Statedef 12025]
type = S
Anim = 11227
sprpriority = 4

[State 10]
type = playsnd
trigger1 = time = 5
value = 9, ifelse(random < 500, 2, 3)
channel = 0

[State 4]
type = ChangeAnim
trigger1 = time = 115
value = 11228

[State 10]
type = playsnd
trigger1 = anim = 11228 && animelem = 1
value = 9, 0
channel = 0

[State 10]
type = playsnd
trigger1 = anim = 11228 && animelem = 2
value = 9, 1
channel = 0

[State 4]
type = veladd
trigger1 = anim = 11228
trigger1 = animelemtime(3) > 0 && animelemtime(6) < 0
y = 0.45

[State 4]
type = velset
trigger1 = anim = 11228
trigger1 = animelemtime(6) >= 0
y = 0

[State 4]
type = posset
trigger1 = anim = 11228
trigger1 = animelemtime(6) >= 0
y = 8

[State 8]
type = explod
trigger1 = anim = 11228 && animelem = 6
anim = F60
pos = 0, 0
sprpriority = -10

[State 10]
type = playsnd
trigger1 = anim = 11228 && animelem = 6
value = F7, 0

[State Trans]
type = trans
trigger1 = time = [240, 272]
trans = addalpha
alpha = 256 - ((time - 240) * 8), ((time - 240) * 8)
ignorehitpause = 1

[State Dissipate]
type = destroyself
trigger1 = time >= 272


;==============================================================================================
[Statedef 11050]
type = S
movetype = I
velset = 0, 0
anim = 13040
ctrl = 0

[State 4]
type = PlaySnd
trigger1 = time = 0
trigger2 = time = 59
freqmul = 1.5
value = 0, 9

[State 8]
type = PlaySnd
trigger1 = animelem = 4
freqmul = 1.5
value = 1, 1
channel = 0

[State 3]
type = BGPalfx
trigger1 = time = 0
invertall = 1
supermovetime = -1
time = 60
add = 255, 0, 0
sinadd = -500, -500, -500, 80

[State 5]
type = EnvColor
trigger1 = time = 0
value = 255, 255, 255
time = 1

[State 5]
type = EnvColor
trigger1 = time = 59
value = 255, 255, 255
time = 1

[State 9]
type = ChangeState
trigger1 = time = 60
ctrl = 1
value = 0


;==============================================================================================
[Statedef 11010]
type = S
movetype = I
velset = 0, 0
anim = 11010

[State 4]
type = PlaySnd
trigger1 = time = 90
trigger1 = roundstate = 1
value = 2, 6
loop = 1
channel = 2
time = 10

[State 4]
type = StopSnd
trigger1 = roundstate = 2
channel = 2

[State 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 11010

[State 2]
type = AssertSpecial
trigger1 = animelemtime(3) < 2200
flag = Intro
flag2 = nobardisplay

[State 3]
type = AssertSpecial
trigger1 = Time >=0
trigger1 = Time <=2050
flag = NoMusic

[State blackbx]
type = explod
trigger1 = time = 70
anim = 12040
pos = 285, - 20
sprpriority = 33
removetime = 22
postype = left
supermovetime = -1
ownpal = 1
id = 12040
vel = 0, 2
scale = 35, 4

[State blackbx2]
type = explod
trigger1 = time = 70
anim = 12040
pos = 285, 285
sprpriority = 33
removetime = 22
postype = left
supermovetime = -1
ownpal = 1
id = 12041
vel = 0, -2
scale = 35, 4

[State blackbx]
type = explod
trigger1 = time = 92
anim = 12040
pos = 285, 24
sprpriority = 33
removetime = -1
postype = left
supermovetime = -1
ownpal = 1
id = 12040
scale = 35, 4

[State blackbx2]
type = explod
trigger1 = time = 92
anim = 12040
pos = 285, 241
sprpriority = 33
removetime = -1
postype = left
supermovetime = -1
ownpal = 1
id = 12041
scale = 35, 4

[State textbx]
type = explod
trigger1 = time = 40
anim = 11000
pos = 30, -100
sprpriority = 34
removetime = 1050
postype = left
supermovetime = -1
ownpal = 1
id = 11000
vel = 0, 10
accel = 0, -0.4
shadow = 10, 10, 10

[State textbx]
type = modifyexplod
trigger1 = time = 66
anim = 11000
pos = 30, 30
sprpriority = 34
bindtime = -1
removetime = 2050
postype = left
supermovetime = -1
ownpal = 1
id = 11000
shadow = 10, 10, 10

[State box delete]
type = removeexplod
trigger1 = time = 2050
id = 11000

[State textbx]
type = explod
trigger1 = time = 2050
anim = 11001
pos = 30, 30
sprpriority = 34
bindtime = 0
removetime = 100
postype = left
supermovetime = -1
ownpal = 1
id = 11001
accel = 0, -0.5
shadow = 10, 10, 10

[State text]
type = explod
trigger1 = time = 80
anim = 11004
pos = 110, 42
sprpriority = 35
postype = left
supermovetime = -1
bindtime = -1
ownpal = 1
ontop = 1
id = 11000

[State face ken]
type = explod
trigger1 = time = 85
anim = 10704
pos = 38, 38
sprpriority = 35
postype = left
supermovetime = -1
removetime = 1000
bindtime = -1
ownpal = 1
ontop = 1
id = 10700

[State evil ken face]
type = explod
trigger1 = time = 1045
anim = 10705
pos = 38, 38
sprpriority = 35
postype = left
removetime = -1
supermovetime = -1
bindtime = -1
ownpal = 1
ontop = 1
id = 10702

[State face delete]
type = removeexplod
trigger1 = time = 850
id = 10702

[State 5]
type = ChangeState
trigger1 = time = 850
value = 11011


;==============================================================================================
[Statedef 11011]
type = S
movetype = I
velset = 0, 0
anim = 192

[State 3]
type = AssertSpecial
trigger1 = Time >=0
trigger1 = Time <=2050
flag = NoMusic

[State skin fadeout]
type = PalFx
trigger1 = time = 180
add = 0, 0, 0
sinadd = -100, -100, -100, 300
time = 159
ignorehitpause = 1
persistent = 0

[State evil ken morphing face]
type = explod
trigger1 = time = 180
anim = 10705
pos = 38, 38
sprpriority = 5
postype = left
removetime = 120
supermovetime = -1
bindtime = -1
ownpal = 1
ontop = 1
id = 10702

[State evil ken face]
type = explod
trigger1 = time = 300
anim = 10700
pos = 38, 38
sprpriority = 5
postype = left
removetime = 52
supermovetime = -1
bindtime = -1
ownpal = 1
ontop = 1
id = 10702

[State face delete]
type = removeexplod
trigger1 = time = 352
id = 10702

[State 2]
type = AssertSpecial
trigger1 = animelemtime(3) < 2200
flag = Intro
flag2 = nobardisplay

[State 2]
type = PlaySnd
trigger1 = animelem = 31
value = 10, 3
volume = 255

[State windy]
type = Explod
trigger1 = animelem = 37
anim = 9405
pos = 0, 0
sprpriority = 0
postype = p1
supermovetime = -1
ownpal = 1

[State Visual effect]
type = Explod
trigger1 = animelem = 37, = 50
anim = 10010
pos = -3, -60
sprpriority = 3
postype = p1
supermovetime = -1
ownpal = 1
scale = 1, 1

[State 3]
type = BGPalfx
trigger1 = time = 110
invertall = 1
supermovetime = -1
time = 210
add = 0, -255, -255
sinadd = 400, 400, 400, 145

[State 5]
type = EnvColor
trigger1 = time = 150
value = 20, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 190
value = 40, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 220
value =60, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 240
value = 80, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 250
value = 100, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 255
value = 120, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 260
value = 140, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 265
value = 160, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 270
value = 180, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 275
value = 200, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 280
value = 220, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 285
value = 240, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 290
value = 250, 0, 0
time = 1

[State 5]
type = EnvColor
trigger1 = time = 295
value = 255, 0, 0
time = 1

[State Sound]
type = PlaySnd
trigger1 = animelem = 37
value = 1, 4
volume = 255

[State 5]
type = EnvShake
trigger1 = animelem = 37
persistent = 0
time = 155
ampl = -2
freq = 100
phase = 1

[State blackbx]
type = explod
trigger1 = time = 0
anim = 12040
pos = 285, 24
sprpriority = 33
removetime = 352
postype = left
supermovetime = -1
ownpal = 1
id = 12040
scale = 35, 4

[State 5]
type = ChangeState
trigger1 = animtime = 0
value = 11012


;==============================================================================================
[Statedef 11012]
type = S
movetype = I
velset = 0, 0
anim = 11020

[State face delete]
type = removeexplod
trigger1 = time = 0
id = 10702

[State face ryu]
type = explod
trigger1 = time = 0
anim = 10703
pos = 38, 38
sprpriority = 5
postype = left
supermovetime = -1
removetime = 95
bindtime = -1
ownpal = 1
ontop = 1
id = 10703

[State 3]
type = AssertSpecial
trigger1 = Time >=0
trigger1 = Time <=2050
flag = NoMusic

[State 2]
type = AssertSpecial
trigger1 = animelemtime(3) < 2200
flag = Intro
flag2 = nobardisplay

[State groundshockwave] 
type = explod
trigger1 = animelem = 4
anim = 10050
pos = -52, 0
sprpriority = -5
postype = p1
ownpal = 1
scale = 1.0, 0.5

[State 4]
type = PlaySnd
trigger1 = animelem = 4
value = 1, 0	
volume = 255

[State 5]
type = PlaySnd
trigger1 = animelem = 4
value = 1, 2

[State 5]
type = EnvShake
trigger1 = animelem = 4
persistent = 0
time = 20
ampl = -5
freq = 100
phase = 10

[State Dragon]
type = Helper
trigger1 = animelem = 4, = 5
helpertype = normal
name = "Dragon"
id = 3
pos = -8, -30
postype = p1
stateno =1011
ownpal = 1
pausemovetime = 9999
size.xscale = 0.8
size.yscale = 0.8

[State 3]
type = BGPalfx
trigger1 = animelem = 4, =5
supermovetime = -1
time = 99
add = 0, 0, 0
sinadd = -400, -400, -400, 200

[State Randomizer]
type = varrandom
trigger1 = 1
v = 46
range = -80, 80

[State Randomizer]
type = varrandom
trigger1 = 1
v = 47
range = -80, 80

[State Geyser]
type = Helper
triggerall = timemod = 9, 8
trigger1 = animelem = 4, = [0, 30]
helpertype = normal
name = "Geyser"
id = 3
pos = var(46), 2
postype = p1
stateno = 1015
ownpal = 1
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State Geyser]
type = Helper
triggerall = timemod = 9, 8
trigger1 = animelem = 4, = [0, 30]
helpertype = normal
name = "Geyser"
id = 3
pos = var(47), 2
postype = p1
stateno = 1015
ownpal = 1
pausemovetime = 9999
size.xscale = 0.8
size.yscale = 0.8

[State this means shinryuken]
type = PlaySnd
triggerall = timemod = 9, 8
trigger1 = animelem = 4, = [0, 30]
channel = 3
value = 2, 7

[State 8]
type = PlaySnd
trigger1 = animelem = 4, =5
value = 2, 10
volume = 255

[State box delete]
type = removeexplod
trigger1 = time = 100
id = 11000

[State textbx]
type = explod
trigger1 = time = 100
anim = 11001
pos = 30, 30
sprpriority = 34
bindtime = 0
removetime = 100
postype = left
supermovetime = -1
ownpal = 1
id = 11001
accel = 0, -0.5
shadow = 10, 10, 10

[State bkbox delete]
type = removeexplod
trigger1 = time = 99
id = 12040

[State bkbox delete]
type = removeexplod
trigger1 = time = 99
id = 12041

[State blackbx]
type = explod
trigger1 = time = 99
anim = 12040
pos = 285, 24
sprpriority = 33
removetime = 20
postype = left
supermovetime = -1
ownpal = 1
id = 12040
scale = 35, 4
vel = 0, -2

[State blackbx2]
type = explod
trigger1 = time = 99
anim = 12040
pos = 285, 241
sprpriority = 33
removetime = 20
postype = left
supermovetime = -1
ownpal = 1
id = 12041
scale = 35, 4
vel = 0, 2

[State 5]
type = ChangeState
trigger1 = time = 100
value = 0


;==============================================================================================
[Statedef 11020]
type = S
movetype = I
velset = 0, 0
anim = 11030

[State 4]
type = PlaySnd
trigger1 = time = 90
trigger1 = roundstate = 1
value = 2, 6
loop = 1
channel = 2
time = 10

[State 4]
type = StopSnd
trigger1 = roundstate = 2
channel = 2

[State blackbx]
type = explod
trigger1 = time = 70
anim = 12040
pos = 285, - 20
sprpriority = 33
removetime = 22
postype = left
supermovetime = -1
ownpal = 1
id = 12040
vel = 0, 2
scale = 35, 4

[State blackbx2]
type = explod
trigger1 = time = 70
anim = 12040
pos = 285, 285
sprpriority = 33
removetime = 22
postype = left
supermovetime = -1
ownpal = 1
id = 12041
vel = 0, -2
scale = 35, 4

[State blackbx]
type = explod
trigger1 = time = 92
anim = 12040
pos = 285, 24
sprpriority = 33
removetime = -1
postype = left
supermovetime = -1
ownpal = 1
id = 12040
scale = 35, 4

[State blackbx2]
type = explod
trigger1 = time = 92
anim = 12040
pos = 285, 241
sprpriority = 33
removetime = -1
postype = left
supermovetime = -1
ownpal = 1
id = 12041
scale = 35, 4

[State 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 11030

[State 2]
type = AssertSpecial
trigger1 = 1
flag = Intro
flag2 = nobardisplay

[State 3]
type = AssertSpecial
trigger1 = Time >=0
trigger1 = Time <=850
flag = NoMusic

[State textbx]
type = explod
trigger1 = time = 40
anim = 11000
pos = 30, -100
sprpriority = 34
removetime = 850
postype = left
supermovetime = -1
ownpal = 1
id = 11000
vel = 0, 10
accel = 0, -0.4
shadow = 10, 10, 10

[State textbx]
type = modifyexplod
trigger1 = time = 66
anim = 11000
pos = 30, 30
sprpriority = 34
bindtime = -1
removetime = 850
postype = left
supermovetime = -1
ownpal = 1
id = 11000
shadow = 10, 10, 10

[State box delete]
type = removeexplod
trigger1 = time = 850
id = 11000

[State textbx]
type = explod
trigger1 = time = 850
anim = 11001
pos = 30, 30
sprpriority = 34
bindtime = 0
removetime = 100
postype = left
supermovetime = -1
ownpal = 1
id = 11001
accel = 0, -0.5
shadow = 10, 10, 10

[State text]
type = explod
trigger1 = time = 80
anim = 11005
pos = 110 , 42
sprpriority = 35
postype = left
supermovetime = -1
bindtime = -1
ownpal = 1
ontop = 1
id = 11000

[State face gouki]
type = explod
trigger1 = time = 85
anim = 10701
pos = 38, 38
sprpriority = 35
postype = left
supermovetime = -1
removetime = 200
bindtime = -1
ownpal = 1
ontop = 1
id = 10700

[State face evilken]
type = explod
trigger1 = time = 285
anim = 10700
pos = 38, 38
sprpriority = 35
postype = left
removetime = 200
supermovetime = -1
bindtime = -1
ownpal = 1
ontop = 1
id = 10702

[State face gouki]
type = explod
trigger1 = time = 485
anim = 10701
pos = 38, 38
sprpriority = 35
postype = left
removetime = -1
supermovetime = -1
bindtime = -1
ownpal = 1
ontop = 1
id = 10702

[State face delete]
type = removeexplod
trigger1 = time = 850
id = 10702

[State 5]
type = ChangeAnim
trigger1 = animtime = 0
value = 0

[State bkbox delete]
type = removeexplod
trigger1 = time = 861
id = 12040

[State bkbox delete]
type = removeexplod
trigger1 = time = 861
id = 12041

[State blackbx]
type = explod
trigger1 = time = 861
anim = 12040
pos = 285, 24
sprpriority = 33
removetime = 20
postype = left
supermovetime = -1
ownpal = 1
id = 12040
scale = 35, 4
vel = 0, -2

[State blackbx2]
type = explod
trigger1 = time = 861
anim = 12040
pos = 285, 241
sprpriority = 33
removetime = 20
postype = left
supermovetime = -1
ownpal = 1
id = 12041
scale = 35, 4
vel = 0, 2

[State 5]
type = ChangeState
trigger1 = time = 862
value = 11031


;==============================================================================================
[Statedef 11031]
type = S
movetype = I
velset = 0, 0
anim = 11020

[State groundshockwave] 
type = explod
trigger1 = animelem = 4
anim = 10050
pos = -52, 0
sprpriority = -5
postype = p1
ownpal = 1
scale = 1.0, 0.5

[State 4]
type = PlaySnd
trigger1 = animelem = 4
value = 1, 0	
volume = 255

[State 5]
type = PlaySnd
trigger1 = animelem = 4
value = 1, 2

[State 5]
type = EnvShake
trigger1 = animelem = 4
persistent = 0
time = 20
ampl = -5
freq = 100
phase = 10

[State Dragon]
type = Helper
trigger1 = animelem = 4, = 5
helpertype = normal
name = "Dragon"
id = 3
pos = -8, -30
postype = p1
stateno =1011
ownpal = 1
pausemovetime = 9999
size.xscale = 0.8
size.yscale = 0.8

[State 3]
type = BGPalfx
trigger1 = animelem = 4, =5
supermovetime = -1
time = 99
add = 0, 0, 0
sinadd = -400, -400, -400, 200

[State Randomizer]
type = varrandom
trigger1 = 1
v = 46
range = -80, 80

[State Randomizer]
type = varrandom
trigger1 = 1
v = 47
range = -80, 80

[State Geyser]
type = Helper
triggerall = timemod = 9, 8
trigger1 = animelem = 4, = [0, 30]
helpertype = normal
name = "Geyser"
id = 3
pos = var(46), 2
postype = p1
stateno = 1015
ownpal = 1
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State Geyser]
type = Helper
triggerall = timemod = 9, 8
trigger1 = animelem = 4, = [0, 30]
helpertype = normal
name = "Geyser"
id = 3
pos = var(47), 2
postype = p1
stateno = 1015
ownpal = 1
pausemovetime = 9999
size.xscale = 0.8
size.yscale = 0.8

[State this means shinryuken]
type = PlaySnd
triggerall = timemod = 9, 8
trigger1 = animelem = 4, = [0, 30]
channel = 3
value = 2, 7

[State 8]
type = PlaySnd
trigger1 = animelem = 4, =5
value = 2, 10
volume = 255

[State 5]
type = ChangeState
trigger1 = time = 800
value = 0


;==============================================================================================
[Statedef 11030]
type = S
movetype = I
velset = 0, 0
anim = 193

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -6, 6

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -6, 6

[State FireB]
type = Explod
trigger1 = time = [1050, 1054]
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 24, -90
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = -1/3*(var(52)), -1/3*var(53)

[State FireB]
type = Explod
trigger1 = time = [1050, 1054]
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 24, -90
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = -1/3*(var(53)), -1/3*var(52)

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -1, -4

[State FireB]
type = Explod
trigger1 = time = [22, 1050]
trigger1 = random <= 100
persistent = 1
anim = 12212
id = 12212
postype = p1
pos = 24, -90
random = 5, 5
scale = 1, 0.3
sprpriority = 5
ownpal = 1
vel = 0, var(51)

[State FireB]
type = Explod
trigger1 = time = [22, 1050]
trigger1 = random <= 400
persistent = 1
anim = 12215
id = 12212
scale = 1, 0.3
postype = p1
pos = 24, -90
random = 5, 5
sprpriority = 5
ownpal = 1
vel = 0, var(51)

[State blackbx]
type = explod
trigger1 = time = 70
anim = 12040
pos = 285, - 20
sprpriority = 33
removetime = 22
postype = left
supermovetime = -1
ownpal = 1
id = 12040
vel = 0, 2
scale = 35, 4

[State blackbx2]
type = explod
trigger1 = time = 70
anim = 12040
pos = 285, 285
sprpriority = 33
removetime = 22
postype = left
supermovetime = -1
ownpal = 1
id = 12041
vel = 0, -2
scale = 35, 4

[State blackbx]
type = explod
trigger1 = time = 92
anim = 12040
pos = 285, 24
sprpriority = 33
removetime = -1
postype = left
supermovetime = -1
ownpal = 1
id = 12040
scale = 35, 4

[State blackbx2]
type = explod
trigger1 = time = 92
anim = 12040
pos = 285, 241
sprpriority = 33
removetime = -1
postype = left
supermovetime = -1
ownpal = 1
id = 12041
scale = 35, 4

[State 4]
type = PlaySnd
trigger1 = time = 90
trigger1 = roundstate = 1
value = 2, 6
loop = 1
channel = 2
time = 10

[State 4]
type = StopSnd
trigger1 = roundstate = 2
channel = 2

[State 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 193

[State 2]
type = AssertSpecial
trigger1 = animelemtime(3) < 1200
flag = Intro
flag2 = nobardisplay

[State 3]
type = AssertSpecial
trigger1 = Time >=0
trigger1 = Time <=1050
flag = NoMusic

[State textbx]
type = explod
trigger1 = time = 40
anim = 11000
pos = 30, -100
sprpriority = 34
removetime = 1050
postype = left
supermovetime = -1
ownpal = 1
id = 11000
vel = 0, 10
accel = 0, -0.4
shadow = 10, 10, 10

[State textbx]
type = modifyexplod
trigger1 = time = 66
anim = 11000
pos = 30, 30
sprpriority = 34
bindtime = -1
removetime = 1050
postype = left
supermovetime = -1
ownpal = 1
id = 11000
shadow = 10, 10, 10

[State box delete]
type = removeexplod
trigger1 = time = 1050
id = 11000

[State textbx]
type = explod
trigger1 = time = 1050
anim = 11001
pos = 30, 30
sprpriority = 34
bindtime = 0
removetime = 100
postype = left
supermovetime = -1
ownpal = 1
id = 11001
accel = 0, -0.5
shadow = 10, 10, 10

[State text]
type = explod
trigger1 = time = 80
anim = 11003
pos = 220, 55
sprpriority = 35
postype = left
supermovetime = -1
bindtime = -1
ownpal = 1
ontop = 1
id = 11000

[State face evilken]
type = explod
trigger1 = time = 85
anim = 10700
pos = 38, 38
sprpriority = 35
postype = left
supermovetime = -1
removetime = 600
bindtime = -1
ownpal = 1
ontop = 1
id = 10700

[State face bbh]
type = explod
trigger1 = time = 685
anim = 10702
pos = 38, 38
sprpriority = 35
postype = left
removetime = -1
supermovetime = -1
bindtime = -1
ownpal = 1
ontop = 1
id = 10702

[State face delete]
type = removeexplod
trigger1 = time = 1050
id = 10702

[State 5]
type = ChangeAnim
trigger1 = time = 1050
value = 194

[State 8]
type = PlaySnd
trigger1 = time = 1050
value = 2, 7

[State 5]
type = ChangeState
trigger1 = time = 1062
value = 11021

[State blackbx]
type = explod
trigger1 = time = 1061
anim = 12040
pos = 285, 24
sprpriority = 33
removetime = 20
postype = left
supermovetime = -1
ownpal = 1
id = 12040
scale = 35, 4
vel = 0, -2

[State blackbx2]
type = explod
trigger1 = time = 1061
anim = 12040
pos = 285, 241
sprpriority = 33
removetime = 20
postype = left
supermovetime = -1
ownpal = 1
id = 12041
scale = 35, 4
vel = 0, 2

[State bkbox delete]
type = removeexplod
trigger1 = time = 1061
id = 12040

[State bkbox delete]
type = removeexplod
trigger1 = time = 1061
id = 12041


;==============================================================================================
[Statedef 11021]
type = S
movetype = I
velset = 0, 0
anim = 11020

[State groundshockwave] 
type = explod
trigger1 = animelem = 4
anim = 10050
pos = -52, 0
sprpriority = -5
postype = p1
ownpal = 1
scale = 1.0, 0.5

[State 4]
type = PlaySnd
trigger1 = animelem = 4
value = 1, 0	
volume = 255

[State 5]
type = PlaySnd
trigger1 = animelem = 4
value = 1, 2

[State 5]
type = EnvShake
trigger1 = animelem = 4
persistent = 0
time = 20
ampl = -5
freq = 100
phase = 10

[State Dragon]
type = Helper
trigger1 = animelem = 4, = 5
helpertype = normal
name = "Dragon"
id = 3
pos = -8, -30
postype = p1
stateno =1011
ownpal = 1
pausemovetime = 9999
size.xscale = 0.8
size.yscale = 0.8

[State 3]
type = BGPalfx
trigger1 = animelem = 4, =5
supermovetime = -1
time = 99
add = 0, 0, 0
sinadd = -400, -400, -400, 200

[State Randomizer]
type = varrandom
trigger1 = 1
v = 46
range = -80, 80

[State Randomizer]
type = varrandom
trigger1 = 1
v = 47
range = -80, 80

[State Geyser]
type = Helper
triggerall = timemod = 9, 8
trigger1 = animelem = 4, = [0, 30]
helpertype = normal
name = "Geyser"
id = 3
pos = var(46), 2
postype = p1
stateno = 1015
ownpal = 1
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State Geyser]
type = Helper
triggerall = timemod = 9, 8
trigger1 = animelem = 4, = [0, 30]
helpertype = normal
name = "Geyser"
id = 3
pos = var(47), 2
postype = p1
stateno = 1015
ownpal = 1
pausemovetime = 9999
size.xscale = 0.8
size.yscale = 0.8

[State this means shinryuken]
type = PlaySnd
triggerall = timemod = 9, 8
trigger1 = animelem = 4, = [0, 30]
channel = 3
value = 2, 7

[State 8]
type = PlaySnd
trigger1 = animelem = 4, =5
value = 2, 10
volume = 255

[State 5]
type = ChangeState
trigger1 = time = 800
value = 0


;==============================================================================================
[Statedef 11040]
type = S
movetype = I
velset = 5, 0
anim = 9999

[State Camera]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0

[State Camera]
type = helper
trigger1 = !numhelper(9998)
helpertype = normal
stateno = 9998
ID = 9998
name = "Camera"
postype = p1

[State 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 9999

[State 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 2]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 6]
type = AfterImage
trigger1 = time = 50
time = 110
length = 17
PalBright = 0, 0, 0
PalContrast = 148, 148, 148
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 4
Trans = Add1

[State 2]
type = Changeanim
trigger1 = time = 50
value = 3891

[State 2]
type = posset
trigger1 = time = 50
x = 200 * facing

[State 2]
type = turn 
trigger1 = time = 50

[State 2]
type = velset
trigger1 = time = 50
x = 12

[State 2]
type = VelAdd
trigger1 = Time > 50
trigger1 = Time < 80
x = -0.2

[State 3]
type = AssertSpecial
trigger1 = Time >=0
trigger1 = Time <=1050
flag = NoMusic

[State 8]
type = PlaySnd
trigger1 = time = 50
value = 2, 4

[State 3]
type = Turn
trigger1 = time = 70

[State 3]
type = Velset
trigger1 = time = 70
x = -6

[State 2]
type = VelAdd
trigger1 = Time > 70
trigger1 = time < 104
x = 0.4

[State 4]
type = Velset
trigger1 = time = 104
x = 0

[State 4]
type = posset
trigger1 = time = 104
x = -36 * facing

[State 2]
type = Changeanim
trigger1 = time = 104
value = 3893

[State 3]
type = BGPalFx
trigger1 = time = [53, 127]
add = 0 + ceil((time - 53) * 5.41), -255 + ceil((time - 53) * 5.41), -255 + ceil((time - 53) * 5.41)
invertall = 1
time = 2

[State 5]
type = EnvColor
trigger1 = time = [127, 192]
value = 0, 0, 0
time = 2

[State 5]
type = Explod
trigger1 = time >= 127
trigger1 = TimeMod = 4, 3
trigger1 = time <= 180
trigger1 = random <= 500
Anim = 9420
scale = 0.7, 0.7
pos = 30, -50
random = 100, 50
ontop = 1

[State 5]
type = PlaySnd
trigger1 = time >= 127
trigger1 = TimeMod = 4, 3
trigger1 = time <= 180
trigger1 = random <= 500
value = 6, 3

[State 5]
type = Explod
trigger1 = time >= 127
trigger1 = TimeMod = 4, 3
trigger1 = time <= 180
trigger1 = random <= 500
Anim = 9300
scale = 0.7, 0.7
pos = 30, -50
random = 100, 50
ontop = 1

[State 5]
type = PlaySnd
trigger1 = time >= 127
trigger1 = TimeMod = 4, 3
trigger1 = time <= 180
trigger1 = random <= 500
value = S0, 100

[State 2]
type = Changeanim
trigger1 = time = 180
value = 3892

[State 5]
type = Explod
trigger1 = time = 180
Anim = 9420
scale = 2, 2
pos = 75, -60
ontop = 1

[State 5]
type = Explod
trigger1 = time = 180
Anim = 9300
scale = 2, 2
pos = 75, -60
ontop = 1

[State 5]
type = PlaySnd
trigger1 = time = 178
value = S7, 2

[State 5]
type = PlaySnd
trigger1 = time = 178
value = S10, 4

[State 2]
type = posadd
trigger1 = time = 180
x = -30
389
[State Pos]
type = posset
trigger1 = time = 180 && numhelper(9998)
x = ceil(helper(9998), pos x)
y = 0

[State 2]
type = poweradd
trigger1 = time = 180
value = 3000

[State 5]
type = ChangeState
trigger1 = time = 300
value = 0


;==============================================================================================
[Statedef 196]
type = S
movetype = I
physics = S
anim = 196
velset = 0
ctrl = 0
poweradd = 0

[State 5]
type = PlaySnd
trigger1 = time = 15
value = 1, 0

[State 5]
type = PlaySnd
trigger1 = time = 15
value = 1, 1
channel = 0

[State groundshockwave] 
type = explod
trigger1 = time = 16
anim = 10050
pos = -52, 0
sprpriority = -5
postype = p1
ownpal = 1
scale = 1.0, 0.5

[State 5]
type = EnvShake
trigger1 = time = 16
persistent = 0
time = 20
ampl = -5
freq = 100
phase = 10

[State Defense Bonus]
type = varadd
trigger1 = animtime = 0
var(44) = 1

[State 5]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 40]
type = S
physics = S
anim = 40
ctrl = 0
facep2 = 1
sprpriority = 1

[State 40, 1]
type = VarSet
trigger1 = time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = Animtime = 0
x = ifelse(sysvar(1) = 0, const(velocity.jump.neu.x), ifelse(sysvar(1) = 1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, 6]
type = ChangeState
trigger1 = Animtime = 0
value = 50
ctrl = 1


;==============================================================================================
[Statedef 41]
type = S
physics = S
anim = 40
ctrl = 0
facep2 = 1
sprpriority = 1

[State Super D]
type = Afterimage
trigger1 = var(10) = 0
trigger1 = time = 0
time = 15
length = 8
PalBright = 0, 0, 0
PalContrast = 128, 128, 128
PalAdd = 0, 0, 0
PalMul = 1, 1, 1
FrameGap = 2
Trans = Add1

[State 41, 1]
type = VarSet
trigger1 = time = 0
sysvar(1) = 0

[State 41, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 41, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 41, 4]
type = VelSet
trigger1 = Animtime = 0
x = ifelse(sysvar(1) = 0, 0, ifelse(sysvar(1) = 1, const(velocity.runjump.fwd.x), const(velocity.runjump.back.x)))
y = ifelse(sysvar(1) = 0, const(velocity.runjump.y), const(velocity.jump.y))

[State 41, 6]
type = ChangeState
trigger1 = Animtime = 0
value = 50
ctrl = 1


;==============================================================================================
[Statedef 42]
type = S
physics = S
anim = 40
ctrl = 0
facep2 = 1
sprpriority = 1

[State 40, 4]
type = ChangeState
trigger1 = time = 0 && !AIlevel
value = 41

[State Super D]
type = Afterimage
trigger1 = var(10) = 0
trigger1 = time = 0
time = 15
length = 8
PalBright = 0, 0, 0
PalContrast = 128, 128, 128
PalAdd = 0, 0, 0
PalMul = 1, 1, 1
FrameGap = 2
Trans = Add1

[State 40, 4]
type = VelSet
trigger1 = Animtime = 0
x = const(velocity.runjump.back.x)
y = const(velocity.jump.y)

[State 40, 6]
type = ChangeState
trigger1 = Animtime = 0
value = 50
ctrl = 1


;==============================================================================================
[Statedef 120]
type = U
physics = U
anim = 120 + (statetype = C) + (statetype = A) * 2

[State 120, Type]
type = statetypeset
trigger1 = !time && statetype = S
physics = S

[State 120, Type]
type = statetypeset
trigger1 = !time && statetype = C
physics = C

[State 120, Type]
type = statetypeset
trigger1 = !time && statetype = A
physics = A

[State 120, Vel]
type = velset
trigger1 = !time && statetype != A
x = 0
y = 0

[State 120, High to Low]
type = statetypeset
trigger1 = !AIlevel && statetype = S && command = "holddown"
trigger2 = AIlevel && statetype = S && (enemynear, movetype = A) && (enemynear, statetype = C)
statetype = C
physics = C

[State 120, Low to High]
type = statetypeset
trigger1 = !AIlevel && statetype = C && command != "holddown"
trigger2 = AIlevel && statetype = C && (enemynear, movetype = A) && (enemynear, statetype != C)
statetype = S
physics = S

[State 120, AI fix]
type = ctrlset
trigger1 = AIlevel && numenemy
value = (enemynear, time >= 60 || time >= 20)

[State 120, End]
type = changestate
trigger1 = !animtime || AIlevel
value = 130 + (statetype = C) + (statetype = A) * 2

[State 120, Stop]
type = changestate
trigger1 = (!AIlevel && command != "holdback")
trigger2 = !inguarddist
trigger3 = AIlevel && numenemy
trigger3 = enemynear, hitdefattr = SCA, AT
value = 140


[Statedef 130]
type = S
physics = S

[State 130, Anim]
type = changeanim
trigger1 = anim != 130
value = 130

[State 130, AI fix]
type = ctrlset
trigger1 = AIlevel && numenemy
value = (enemynear, time >= 60 || time >= 20)

[State 130, High to Low]
type = changestate
trigger1 = !AIlevel && command = "holddown"
trigger2 = AIlevel && random < (500 * (AIlevel ** 2 / 64.0))
trigger2 = (enemynear, movetype = A) && (enemynear, statetype = C)
value = 131

[State 130, Stop Guarding]
type = changestate
trigger1 = (!AIlevel && command != "holdback")
trigger2 = !inguarddist
trigger3 = AIlevel && numenemy
trigger3 = enemynear, hitdefattr = SCA, AT
value = 140

[State 130, Snd]
type = playsnd
trigger1 = !time
trigger1 = prevstateno = 132 || (prevstateno = [154, 155])
value = 0, 0


[Statedef 131]
type = C
physics = C

[State 131, Anim]
type = changeanim
trigger1 = anim != 131
value = 131

[State 131, Low to High]
type = changestate
trigger1 = !AIlevel && command != "holddown"
trigger2 = AIlevel && random < (500 * (AIlevel ** 2 / 64.0))
trigger2 = (enemynear, movetype = A) && (enemynear, statetype != C)
value = 130

[State 131, AI fix]
type = ctrlset
trigger1 = AIlevel && numenemy
value = (enemynear, time >= 60 || time >= 20)

[State 131, Stop Guarding]
type = changestate
trigger1 = (!AIlevel && command != "holdback")
trigger2 = !inguarddist
trigger3 = AIlevel && numenemy
trigger3 = enemynear, hitdefattr = SCA, AT
value = 140


[Statedef 132]
type = A
physics = N

[State 132, Anim]
type = changeanim
trigger1 = anim != 132
value = 132

[State 132, Accel]
type = veladd
trigger1 = 1
y = const(movement.yaccel)

[State 132, Var]
type = varset
trigger1 = 1
sysvar(0) = (pos y >= 0 && vel y > 0)

[State 132, Vel]
type = velset
trigger1 = sysvar(0)
y = 0

[State 132, Pos]
type = posset
trigger1 = sysvar(0)
y = 0

[State 132, AI fix]
type = ctrlset
trigger1 = AIlevel && numenemy
value = (enemynear, time >= 60 || time >= 20)

[State 132, End]
type = changestate
trigger1 = sysvar(0) && inguarddist
trigger1 = (!AIlevel && command = "holdback") || AIlevel
value = 130

[State 132, End]
type = changestate
trigger1 = sysvar(0)
value = 52

[State 132, stop guarding]
type = changestate
trigger1 = (!AIlevel && command != "holdback")
trigger2 = !inguarddist
trigger3 = AIlevel && numenemy
trigger3 = enemynear, hitdefattr = SCA, AT
value = 140


[Statedef 140]
type = U
physics = U
ctrl = 1

[State 140, Anim]
type = changeanim
trigger1 = !time
value = 140 + (statetype = C) + (statetype = A) * 2

[State 140, Type]
type = statetypeset
trigger1 = !time && statetype = S
physics = S

[State 140, Type]
type = statetypeset
trigger1 = !time && statetype = C
physics = C

[State 140, Type]
type = statetypeset
trigger1 = !time && statetype = A
physics = A

[State 140, High to Low]
type = statetypeset
trigger1 = !AIlevel && statetype = S && command = "holddown"
trigger2 = AIlevel && random < (500 * (AIlevel ** 2 / 64.0))
trigger2 = statetype = S && (enemynear, movetype = A) && (enemynear, statetype = C)
statetype = C
physics = C

[State 140, Low to High]
type = statetypeset
trigger1 = !AIlevel && statetype = C && command != "holddown"
trigger2 = AIlevel && random < (500 * (AIlevel ** 2 / 64.0))
trigger2 = statetype = C && (enemynear, movetype = A) && (enemynear, statetype != C)
statetype = S
physics = S

[State 140, End]
type = changestate
trigger1 = !animtime
value = (statetype = C) * 11 + (statetype = A) * 51


[Statedef 150]
type = S
movetype = H
physics = N
velset = 0, 0

[State 150, Anim]
type = changeanim
trigger1 = 1
value = 150

[State 150, End]
type = changestate
trigger1 = hitshakeover
value = 151 + 2 * ((!AIlevel && command = "holddown") || (AIlevel && (enemynear, movetype = A) && (enemynear, statetype = C)))

[State 150, High to Low]
type = statetypeset
trigger1 = !AIlevel && statetype = S && command = "holddown"
trigger2 = AIlevel && random < (500 * (AIlevel ** 2 / 64.0))
trigger2 = statetype = S && (enemynear, movetype = A) && (enemynear, statetype = C)
statetype = C
physics = C

[State 150, Low to High]
type = statetypeset
trigger1 = !AIlevel && statetype = C && command != "holddown"
trigger2 = AIlevel && random < (500 * (AIlevel ** 2 / 64.0))
trigger2 = statetype = C && (enemynear, movetype = A) && (enemynear, statetype != C)
statetype = S
physics = S


[Statedef 151]
type = S
physics = S
movetype = H
anim = 130

[State 151, Vel]
type = hitvelset
trigger1 = !time
x = 1

[State 151, Vel]
type = velset
trigger1 = time = gethitvar(slidetime)
trigger2 = hitover
x = 0

[State 151, Ctrl]
type = ctrlset
trigger1 = time = gethitvar(ctrltime)
value = 1

[State 151, High to Low]
type = statetypeset
trigger1 = !AIlevel && statetype = S && command = "holddown"
trigger2 = AIlevel && random < (500 * (AIlevel ** 2 / 64.0))
trigger2 = statetype = S && (enemynear, movetype = A) && (enemynear, statetype = C)
statetype = C
physics = C

[State 151, Low to High]
type = statetypeset
trigger1 = !AIlevel && statetype = C && command != "holddown"
trigger2 = AIlevel && random < (500 * (AIlevel ** 2 / 64.0))
trigger2 = statetype = C && (enemynear, movetype = A) && (enemynear, statetype != C)
statetype = S
physics = S

[State 151, End]
type = changestate
trigger1 = hitover
value = 130
ctrl = 1


[Statedef 152]
type = C
physics = N
movetype = H
velset = 0, 0

[State 152, Anim]
type = changeanim
trigger1 = 1
value = 151

[State 152, End]
type = changestate
trigger1 = hitshakeover
value = 151 + 2 * ((!AIlevel && command = "holddown") || (AIlevel && (enemynear, movetype = A) && (enemynear, statetype = C)))

[State 152, High to Low]
type = statetypeset
trigger1 = !AIlevel && statetype = S && command = "holddown"
trigger2 = AIlevel && random < (500 * (AIlevel ** 2 / 64.0))
trigger2 = statetype = S && (enemynear, movetype = A) && (enemynear, statetype = C)
statetype = C
physics = C

[State 152, Low to High]
type = statetypeset
trigger1 = !AIlevel && statetype = C && command != "holddown"
trigger2 = AIlevel && random < (500 * (AIlevel ** 2 / 64.0))
trigger2 = statetype = C && (enemynear, movetype = A) && (enemynear, statetype != C)
statetype = S
physics = S


[Statedef 153]
type = C
physics = C
movetype = H
anim = 131

[State 153, Vel]
type = hitvelset
trigger1 = !time
x = 1

[State 153, Vel]
type = velset
trigger1 = time = gethitvar(slidetime)
trigger2 = hitover
x = 0

[State 153, Ctrl]
type = ctrlset
trigger1 = time = gethitvar(ctrltime)
value = 1

[State 153, High to Low]
type = statetypeset
trigger1 = !AIlevel && statetype = S && command = "holddown"
trigger2 = AIlevel && random < (500 * (AIlevel ** 2 / 64.0))
trigger2 = statetype = S && (enemynear, movetype = A) && (enemynear, statetype = C)
statetype = C
physics = C

[State 153, Low to High]
type = statetypeset
trigger1 = !AIlevel && statetype = C && command != "holddown"
trigger2 = AIlevel && random < (500 * (AIlevel ** 2 / 64.0))
trigger2 = statetype = C && (enemynear, movetype = A) && (enemynear, statetype != C)
statetype = S
physics = S

[State 153, End]
type = changestate
trigger1 = hitover
value = 131
ctrl = 1


[Statedef 154]
type = A
physics = N
movetype = H
velset = 0, 0

[State 154, Anim]
type = changeanim
trigger1 = 1
value = 152

[State 154, End]
type = changestate
trigger1 = hitshakeover
value = 155


[Statedef 155]
type = A
physics = N
movetype = H
anim = 132

[State 155, Vel]
type = hitvelset
trigger1 = !time
x = 1
y = 1

[State 155, Vel]
type = veladd
trigger1 = 1
y = const(movement.yaccel)

[State 155, Ctrl]
type = ctrlset
trigger1 = time = gethitvar(ctrltime)
value = 1

[State 155, Var]
type = varset
trigger1 = 1
sysvar(0) = (pos y >= 0 && vel y > 0)

[State 155, Vel]
type = velset
trigger1 = sysvar(0)
y = 0

[State 155, Pos]
type = posset
trigger1 = sysvar(0)
y = 0

[State 155, End]
type = changestate
trigger1 = sysvar(0) && inguarddist
trigger1 = (!AIlevel && command = "holdback") || AIlevel
value = 130

[State 155, End]
type = changestate
trigger1 = sysvar(0)
value = 52


;==============================================================================================
[Statedef 201]
type = S
movetype = A
physics = S
juggle = 4
velset = 0, 0
ctrl = 0
poweradd = (Var(10)=0) * 20
sprpriority = 2
anim = 201

[State 1]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 25
animtype = Light
getpower = (Var(10)=0) * 30, (Var(10)=0) * 15
givepower = 15, 8
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 8, 8
sparkno = 0
sparkxy = -10, -25
guard.sparkno = 40; S9100
hitsound = S6, 2
guardsound = S0, 100
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -3
air.velocity = -1, -3
down.velocity = -1, -3
ground.cornerpush.veloff = -3
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(4) >= 0
movetype = I

[State 2]
type = PlaySnd
trigger1 = animelem = 1, =1
value = 0, 2

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 206]
type = S
movetype = A
physics = S
juggle = 4
velset = 0, 0
ctrl = 0
poweradd = (Var(10)=0) * 15
sprpriority = 2
anim = 206

[State 1]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
damage = 20
animtype = Light
getpower = (Var(10)=0) * 20, (Var(10)=0) * 10
givepower = 15, 8
guardflag = HA
hitflag = MAFD
priority = 4, Hit
pausetime = 8, 8
sparkno = 0
guard.sparkno = 40; S9100
sparkxy = 5, -75
hitsound = S6, 1
guardsound = S0, 100
guard.velocity = -4
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -3
air.type = Low
air.velocity = -1, -3
air.hittime = 10
down.velocity = -1, -3
ground.cornerpush.veloff = -3
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(3) >= 0
movetype = I

[State 2]
type = PlaySnd
trigger1 = time = 1
value = 0, 1

[State var(41)Miss memory]
type = varadd
trigger1 = animtime = 0
trigger1 = movecontact = 0
v = 41
value = 1

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 209]
type = S
movetype = A
physics = S
juggle = 10
poweradd = (Var(10)=0) * 40
ctrl = 0
velset = 0, 0
anim = 209
sprpriority = 2

[State w1]
type = width
trigger1 = animelem = 1, >= 0
value = 16

[State w2]
type = width
trigger1 = animelem = 2, >= 0
value = 20

[State w3]
type = width
trigger1 = animelem = 3, >= 0
value = 24

[State 2]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype = Hard
getpower = (Var(10)=0) * 30
givepower = 20
damage = 40
hitflag = MAFD
guardflag = MA
priority = 4, Hit
pausetime = 12, 12
sparkno = 1
sparkxy = -10, -55
guard.sparkno = 40; S9100
hitsound = S6, 6
guardsound = S0, 100
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
guard.velocity = -6
air.velocity = -3, -4
down.velocity = -5, -3
ground.cornerpush.veloff = -5
forcenofall = 1
forcestand = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(4) >= 0
movetype = I

[State AttackVoice]
type = PlaySnd
trigger1 = animelem = 2, =1
value = 4, 8
volume = 25
channel = 0

[State WhiffSound]
type = PlaySnd
trigger1 = animelem = 2, =1
value = 0, 3

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 210]
type = S
movetype = A
physics = S
juggle = 5
poweradd = (Var(10)=0) * 30
ctrl = 0
velset = 0, 0
anim = 210
sprpriority = 2

[State w1]
type = width
trigger1 = animelem = 1, >= 0
value = 20

[State w2]
type = width
trigger1 = animelem = 2, >= 0
value = 23

[State w3]
type = width
trigger1 = animelem = 3, >= 0
value = 26

[State var(2) reset]
type = varset
trigger1 = time = 0
v = 2
value = 0

[State var(2) add]
type = varadd
trigger1 = command = "c"
v = 2
value = 1

[State WhiffSound]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 3

[State 2]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
animtype = Medium
getpower = (Var(10)=0) * 20, (Var(10)=0) * 15
givepower = 15, 8
damage = 40
hitflag = MAFD
guardflag = MA
priority = 4, Hit
pausetime = 10, 10
sparkno = 1
guard.sparkno = 40; S9100
sparkxy = -10, -50
hitsound = S6, 4
guardsound = S0, 100
ground.type = low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -3
guard.velocity = -6
air.velocity = -2, -3.5
air.hittime = 15
down.velocity = -2, -3
ground.cornerpush.veloff = -3
forcenofall = 1

[State 3]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
damage = 10
animtype = Medium
getpower = (Var(10)=0) * 30, (Var(10)=0) * 15
givepower = 15, 8
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 10, 10
sparkno = 1
guard.sparkno = 40; S9100
sparkxy = -10, -75
hitsound = S6, 4
guardsound = S0, 100
ground.type = High
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -3
guard.velocity = -6
air.type = Low
air.velocity = -2, -3.5
air.hittime = 15
down.velocity = -2, -3
ground.cornerpush.veloff = -3
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(6) >= 0
movetype = I

[State 4]
type = PosAdd
trigger1 = Time < 6
x = 2

[State 8]
type = posadd
trigger1 = animtime = 0
x = 20

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 215]
type = S
movetype = A
physics = S
juggle = 10
velset = 0, 0
ctrl = 0
anim = 215
poweradd = (Var(10)=0) * 50
sprpriority = 2

[State 1]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
damage = 25
animtype = Medium
getpower = (Var(10)=0) * 30, (Var(10)=0) * 15
givepower = 15, 8
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 10, 10
sparkno = 1
guard.sparkno = 40; S9100
sparkxy = 10, -70
hitsound = S6, 3
guardsound = S0, 100
ground.type = high
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -4
guard.velocity = -6
air.type = low
air.velocity = -3, -3.5
air.hittime = 15
down.velocity = -3, -3
ground.cornerpush.veloff = -4
forcenofall = 1
forcestand = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(4) >= 0
movetype = I

[State 2]
type = PlaySnd
trigger1 = time = 0
value = 0, 3

[State 7]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 217]
type = S
movetype = A
physics = S
juggle = 5
velset = 0, 0
ctrl = 0
anim = 240
poweradd = (Var(10)=0) * 70
sprpriority = 2

[State 1]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 45
animtype = Medium
getpower = (Var(10)=0) * 60, (Var(10)=0) * 30
givepower = 30, 20
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 10, 10
sparkno = 1
guard.sparkno = 40; S9100
sparkxy = -10, -66
hitsound = S6, 3
guardsound = S0, 100
ground.type = low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -3
air.velocity = -2, -4
air.hittime = 15
down.velocity = -2, -3
ground.cornerpush.veloff = -3
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(4) >= 0
movetype = I

[State 2]
type = PlaySnd
trigger1 = time = 0
value = 4, 7
channel = 0

[State 2]
type = PlaySnd
trigger1 = time = 0
value = 0, 4

[State 7]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 220]
type = S
movetype = A
physics = S
juggle = 10
poweradd = (Var(10)=0) * 70
ctrl = 0
velset = 0, 0
anim = 220
sprpriority = 2

[State w1]
type = width
trigger1 = animelem = 1, >= 0
value = 20

[State w2]
type = width
trigger1 = animelem = 2, >= 0
value = 23

[State w3]
type = width
trigger1 = animelem = 3, >= 0
value = 26

[State w4]
type = width
trigger1 = animelem = 4, >= 0
value = 29

[State w5]
type = width
trigger1 = animelem = 5, >= 0
value = 32

[State RoundHouse]
type = PlaySnd
trigger1 = animelem = 5
value = 4, 10
channel = 0

[State 1]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 4

[State 2]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
animtype = Hard
getpower = (Var(10)=0) * 60, (Var(10)=0) * 30
givepower = 40, 20
damage = 70
hitflag = MAFD
guardflag = MA
priority = 4, Hit
pausetime = 12, 12
sparkno = 2
guard.sparkno = 40; S9100
sparkxy = 5, -50
hitsound = S6, 6
guardsound = S0, 100
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
guard.velocity = -6
air.velocity = -3, -4
down.velocity = -5, -3
ground.cornerpush.veloff = -6
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(6) >= 0
movetype = I

[State 4]
type = PosAdd
trigger1 = Time < 4
x = 2

[State 5]
type = PosAdd
trigger1 = animtime = 0
x = 20

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 225]
type = S
movetype = A
physics = S
juggle = 10
velset = 0, 0
ctrl = 0
anim = 255
poweradd = (Var(10)=0) * 80
sprpriority = 2

[State WhiffSound]
type = posadd
trigger1 = time = 0
x = 10

[State 1]
type = HitDef
trigger1 = animelem = 4
attr = S, NA
damage = 60
animtype = Hard
getpower = (Var(10)=0) * 40, (Var(10)=0) * 20
givepower = 30, 15
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 12, 12
sparkno = 2
guard.sparkno = 40; S9100
sparkxy = -10, -75
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
guard.velocity = -6
air.type = Low
air.velocity = -3, -4
down.velocity = -3, -3
ground.cornerpush.veloff = -5
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(5) >= 0
movetype = I

[State Fierce]
type = PlaySnd
trigger1 = animelem = 2
value = 4, 11
channel = 0

[State WhiffSound]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 4

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 230]
type = S
movetype = A
physics = S
juggle = 10
velset = 0, 0
ctrl = 0
anim = 230
poweradd = (Var(10)=0) * 80
sprpriority = 2

[State 1]
type = HitDef
trigger1 = animelem = 2
attr = S, NA
damage = 60
animtype = Hard
getpower = (Var(10)=0) * 60, (Var(10)=0) * 30
givepower = 30, 20
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 12, 12
sparkno = 2
guard.sparkno = 40; S9100
sparkxy = -10, -75
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.type = Low
air.velocity = -3.0, -5
down.velocity = -3, -3
ground.cornerpush.veloff = -5
forcenofall = 1
forcestand = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(4) >= 0
movetype = I

[State WhiffSound]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 4

[State 7]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 240]
type = S
movetype = A
physics = S
juggle = 5
velset = 0, 0
ctrl = 0
anim = 225
poweradd = (Var(10)=0) * 70
sprpriority = 2

[State 1]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 40
animtype = Medium
getpower = (Var(10)=0) * 60, (Var(10)=0) * 30
givepower = 30, 20
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 10, 10
sparkno = 1
guard.sparkno = 40; S9100
sparkxy = -10, -65
hitsound = S6, 3
guardsound = S0, 100
ground.type = low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -3
air.velocity = -2, -4
air.hittime = 15
down.velocity = -2, -3
ground.cornerpush.veloff = -3
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(4) >= 0
movetype = I

[State 2]
type = PlaySnd
trigger1 = time = 0
value = 0, 4

[State 7]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 250]
type = S
movetype = A
physics = S
juggle = 10
poweradd = (Var(10)=0) * 120
ctrl = 0
velset = 0, 0
anim = 250
sprpriority = 2

[State PrevCheck]
type = ChangeAnim
trigger1 = prevstateno = 210
value = 250
elem = 3
persistent = 0

[State w1]
type = Width
trigger1 = time <= 5
value = 25

[State w2]
type = Width
trigger1 = time = [6, 10]
value = 30

[State w3]
type = Width
trigger1 = time = [11, 15]
value = 35

[State w4]
type = Width
trigger1 = time = [15, 23]
value = 40

[State Whiff]
type = PlaySnd
trigger1 = animelem = 5
value = 0, 4

[State Attack Sound]
type = PlaySnd
trigger1 = animelem = 5
value = 4, 7
channel = 0

[State 2]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
animtype = Hard
getpower = (Var(10)=0) * 70, (Var(10)=0) * 35
givepower = 40, 20
damage = 70, 0
hitflag = MAFD
guardflag = MA
priority = 4, Hit
pausetime = 14, 14
sparkxy = -10, -55
sparkno = 2
guard.sparkno = 40; S9100
hitsound = S6, 6
guardsound = S0, 100
ground.type = Low
ground.slidetime = 30
ground.hittime = 25
ground.velocity = -5, -2.5
air.velocity = -5, -2.5
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 120
yaccel = 0.25
down.velocity = -5, -3
ground.cornerpush.veloff = -5

[State Idle]
type = statetypeset
trigger1 = animelemtime(7) >= 0
movetype = I

[State 4]
type = PosAdd
trigger1 = time = [16, 21]
x = 4

[State 5]
type = PosAdd
trigger1 = animtime = 0
x = 12

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 275]
type = S
movetype = A
physics = S
poweradd = (Var(10)=0) * 100
ctrl = 0
velset = 0, 0
anim = 270
sprpriority = 2

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State width]
type = width
trigger1 = 1
value = 15

[State PosAdd]
type = posadd
trigger1 = animelem = 1
x = 16

[State PosAdd]
type = posadd
trigger1 = animelem = 2
x = 7

[State 9]
type = ChangeState
trigger1 = animelem = 4
value = 271


;==============================================================================================
[Statedef 271]
type = A
movetype = A
physics = N
juggle = 5
velset = 0, -3
sprpriority = 2

[State width]
type = width
trigger1 = time >=0
value = 25

[State PosAdd]
type = Posadd
trigger1 = 1
x = 3

[State VelAdd]
type = VelAdd
trigger1 = 1
y = 0.20

[State WhiffSoundRoundhouse]
type = PlaySnd
trigger1 = animelem = 4 || animelem = 11
value = 0, 4
volume = 25

[State AttackVoice2]
type = PlaySnd
trigger1 = animelem = 9
value = 4, 0
channel = 0

[State Hitdef1]
type = HitDef
trigger1 = animelem = 5
attr = A, SA
animtype = Medium
getpower = (Var(10)=0) * 70, (Var(10)=0) * 35
givepower = 40, 20
damage = 40
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 7, 12
sparkno = 2
sparkxy = 5, -45
guard.sparkno = 40; S9100
hitsound = S6, 4
guardsound = S0, 100
ground.type = low
ground.slidetime = 14
ground.hittime = 14
ground.velocity = -8
air.velocity = -4, -4
air.fall = 1
fall = 0
fall.recover = (var(10) <= 0)
fall.recovertime = 120
forcestand = 1

[State Hitdef2]
type = HitDef
trigger1 = animelem = 12
attr = A, SA
getpower = (Var(10)=0) * 70, (Var(10)=0) * 35
givepower = 40, 20
animtype = Hard
damage = 50
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 12, 12
sparkxy = -10, -67
sparkno = 2
guard.sparkno = 40; S9100
hitsound = S6, 6
guardsound = S0, 100
ground.type = high
ground.slidetime = 5
ground.hittime = 10
ground.velocity = -6, -6
air.velocity = -6, -5
air.type = low
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 120
forcestand = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(13) >= 0
movetype = I

[State 9]
type = ChangeState
trigger1 = time > 5
trigger1 = pos y >= -5
value = 272


;==============================================================================================
[Statedef 272]
type = S
movetype = I
physics = S
velset = 2, 0
anim = 271

[State PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State PosAdd]
type = PosAdd
trigger1 = time = 0
x = -15

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 273]
type = S
movetype = I
physics = S
velset = 2, 0
anim = 3872

[State PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 270]
type = S
movetype = A
physics = N
juggle = 5
velset = 0, 0
sprpriority = 2
anim = 3956
ctrl = 0

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State width]
type = width
trigger1 = time >=0
value = 25

[State charge sound]
type = playsnd
trigger1 = time = 0
value = 4, 8

[State WhiffSoundRoundhouse]
type = PlaySnd
trigger1 = animelem = 6
value = 0, 4
volume = 25

[State Hitdef2]
type = HitDef
trigger1 = animelem = 7
attr = S, SA
getpower = (Var(10)=0) * 70, (Var(10)=0) * 35
givepower = 40, 20
animtype = Up
air.animtype = Up
fall.animtype = Up
damage = 50
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 10, 12
sparkxy = -10, -67
sparkno = 2
guard.sparkno = 40; S9100
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
ground.slidetime = 5
ground.hittime = 10
air.hittime = 40
ground.velocity = 1, -9
air.velocity = 1, -9
fall = 1
air.type = High
fall.recover = (var(10) <= 0)
fall.recovertime = 120
forcestand = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(10) >= 0
movetype = I

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 280]
type = S
movetype = A
physics = S
juggle = 8
velset = 0, 0
sprpriority = -2
anim = 12130
ctrl = 0

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State WhiffSoundRoundhouse]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 4
volume = 25

[State width]
type = width
trigger1 = time >=0
value = 25

[State width]
type = posadd
trigger1 = time =0
x = -9

[State width]
type = velset
trigger1 = animelem = 3
x = 2

[State Hitdef2]
type = HitDef
trigger1 = animelem = 5
attr = S, SA
getpower = (Var(10)=0) * 70, (Var(10)=0) * 35
givepower = 40, 20
animtype = Hard
damage = 40, 5
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 8, 8
sparkxy = -10, -67
sparkno = 2
guard.sparkno = 40; S9100
hitsound = S6, 4
guardsound = S0, 100
ground.type = Low
ground.slidetime = 36
ground.hittime = 36
guard.hittime = 20
air.hittime = 40
ground.velocity = 4, 0
air.velocity = 1, -3
fall.recovertime = 100
air.type = High
fall.recover = (var(10) <= 0)
fall.recovertime = 120
sprpriority = -2
forcestand = 1

[State 9]
type = Varset
trigger1 = time = 0
v = 49
value = 0

[State 9]
type = Varset
triggerall = time > 0
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
v = 49
value = 1

[State 9]
type = ChangeState
triggerall = Animtime = 0
trigger1 = var(49) >= 1
value = 281
ctrl = 0

[State 9]
type = ChangeState
triggerall = Animtime = 0
trigger1 = var(49) = 0
value = 250
ctrl = 0
 


;==============================================================================================
[Statedef 281]
type = S
movetype = A
physics = S
juggle = 0
velset = 0, 0
sprpriority = -2
anim = 12132
ctrl = 0

[State WhiffSoundRoundhouse]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 4
volume = 25

[State width]
type = velset
trigger1 = animelem = 3
x = 2

[State width]
type = width
trigger1 = time >=0
value = 25

[State Hitdef2]
type = HitDef
trigger1 = animelem = 5
attr = S, SA
getpower = (Var(10)=0) * 70, (Var(10)=0) * 35
givepower = 40, 20
animtype = Hard
damage = 40, 5
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 8, 8
sparkxy = -10, -67
sparkno = 2
guard.sparkno = 40; S9100
hitsound = S6, 4
guardsound = S0, 100
ground.type = High
ground.slidetime = 36
ground.hittime = 36
guard.hittime = 20
air.hittime = 40
ground.velocity = 4, 0
air.velocity = 1, -3
air.type = High
fall.recover = (var(10) <= 0)
fall.recovertime = 120
sprpriority = -2
forcenofall = 1
forcestand = 1

[State 9]
type = Varset
trigger1 = time = 0
v = 49
value = 0

[State 9]
type = Varset
triggerall = time > 0
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
v = 49
value = 1

[State 9]
type = ChangeState
triggerall = Animtime = 0
trigger1 = var(49) >= 1
value = 282
ctrl = 0

[State 9]
type = ChangeState
triggerall = Animtime = 0
trigger1 = var(49) = 0
value = 250
ctrl = 0
 


;==============================================================================================
[Statedef 282]
type = A
movetype = A
physics = N
juggle = 0
velset = 5, -4
sprpriority = -2
anim = 12133
ctrl = 0

[State width]
type = posadd
trigger1 = time =0
x = 5
y = -5

[State WhiffSoundRoundhouse]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 4
volume = 25

[State width]
type = width
trigger1 = time >=0
value = 25

[State charge sound]
type = playsnd
trigger1 = animelem = 1
value = 4, 8

[State Hitdef2]
type = HitDef
trigger1 = animelem = 5
attr = A, SA
getpower = (Var(10)=0) * 80, (Var(10)=0) * 40
givepower = 40, 20
animtype = Hard
damage = 40, 5
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 12, 12
sparkxy = -10, -67
sparkno = 2
guard.sparkno = 40; S9100
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
ground.slidetime = 30
ground.hittime = 30
air.hittime = 40
ground.velocity = -9, -4
air.velocity = -9, -4
fall.recovertime = 100
air.type = High
fall.recover = (var(10) <= 0)
fall.recovertime = 120
fall = 1
sprpriority = -2
forcestand = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(6) >= 0
movetype = I

[State 9]
type = Veladd
trigger1 = 1
y = 0.44
x = -0.1

[State 9]
type = Varset
trigger1 = time = 0
v = 49
value = 0

[State 9]
type = Varset
triggerall = time > 0
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
v = 49
value = 1

[State 9]
type = ChangeState
triggerall = time > 8
trigger1 = pos y >= -5
value = 1803
ctrl = 0
 


;==============================================================================================
[Statedef 400]
type = C
movetype = A
physics = C
juggle = 1
ctrl = 0
anim = 400
poweradd = (Var(10)=0) * 20
sprpriority = 2

[State 1]
type = HitDef
trigger1 = animelem = 2
attr = C, NA
damage = 20
animtype = Light
getpower = (Var(10)=0) * 20, (Var(10)=0) * 10
givepower = 15, 8
guardflag = L
hitflag = MFD
priority = 4, Hit
pausetime =8, 8
sparkno = 0
guard.sparkno = 40; S9100
sparkxy = -10, -5
hitsound = S6, 2
guardsound = S0, 100
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -2
down.velocity = -1, -3
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(3) >= 0
movetype = I

[State WhiffSound]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 1

[State 7]
type = ChangeState
trigger1 = Animtime = 0
value = 11
ctrl = 1


;==============================================================================================
[Statedef 405]
type = C
movetype = A
physics = C
juggle = 1
ctrl = 0
anim = 405
poweradd = (Var(10)=0) * 15
sprpriority = 2

[State 1]
type = HitDef
trigger1 = animelem = 2
attr = C, NA
damage = 15
animtype = Light
getpower = (Var(10)=0) * 20, (Var(10)=0) * 10
givepower = 15, 8
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 8, 8
sparkno = 0
guard.sparkno = 40; S9100
sparkxy = -10, -48
hitsound = S6, 1
guardsound = S0, 100
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -2
air.velocity = -2, -3
air.hittime = 10
down.velocity = -2, -3
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(3) >= 0
movetype = I

[State whiffsound]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 1

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 11
ctrl = 1


;==============================================================================================
[Statedef 410]
type = C
movetype = A
physics = C
juggle = 5
ctrl = 0
anim = 412
poweradd = (Var(10)=0) * 60
sprpriority = 2

[State 1]
type = HitDef
trigger1 = animelem = 3
attr = C, NA
damage = 40
animtype = Medium
getpower = (Var(10)=0) * 30, (Var(10)=0) * 15
givepower = 15, 8
guardflag = L
hitflag = MFD
priority = 4, Hit
pausetime = 10, 10
sparkno = 1
guard.sparkno = 40; S9100
sparkxy = -10, -5
hitsound = S6, 4
guardsound = S0, 100
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -3
down.velocity = 0, -3
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(5) >= 0
movetype = I

[State Whiff]
type = PlaySnd
trigger1 = time = 3
value = 0, 3

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 11
ctrl = 1


;==============================================================================================
[Statedef 415]
type = C
movetype = A
physics = C
juggle = 5
ctrl = 0
anim = 415
poweradd = (Var(10)=0) * 40
sprpriority = 2

[State 1]
type = HitDef
trigger1 = animelem = 3
attr = C, NA
damage = 40
animtype = Medium
getpower = (Var(10)=0) * 30, (Var(10)=0) * 15
givepower = 15, 8
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 10, 10
sparkno = 1
guard.sparkno = 40; S9100
sparkxy = -10, -50
hitsound = S6, 3
guardsound = S0, 100
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -3
air.velocity = -2, -3.5
air.hittime = 15
down.velocity = -2, -3
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(4) >= 0
movetype = I

[State Whiff]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 3

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 11
ctrl = 1


;==============================================================================================
[Statedef 420]
type = C
movetype = A
physics = C
juggle = 4
poweradd = (Var(10)=0) * 90
ctrl = 0
anim = 420
sprpriority = 2

[State 2]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 4

[State 3]
type = HitDef
trigger1 = animelem = 2
attr = C, NA
damage = 60
getpower = (Var(10)=0) * 40, (Var(10)=0) * 20
givepower = 30, 15
hitflag = MFD
guardflag = L
priority = 4, Hit
pausetime = 12, 12
sparkxy = -10, -10
sparkno = 2
guard.sparkno = 40; S9100
hitsound = S6, 6
guardsound = S0, 100
ground.type = Trip
ground.slidetime = 18
ground.hittime = 18
ground.velocity = 0, -3
air.velocity = 0, -2
guard.velocity = -2
fall = 1
down.velocity = -2, -2
fall.recover = 1
fall.recovertime = 120

[State Idle]
type = statetypeset
trigger1 = animelemtime(3) >= 0
movetype = I

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 11
ctrl = 1


;==============================================================================================
[Statedef 425]
type = C
movetype = A
physics = C
juggle = 4
ctrl = 0
anim = 425
poweradd = (Var(10)=0) * 80
sprpriority = 2

[State 1]
type = HitDef
trigger1 = animelem = 2
attr = C, NA
damage = 50
animtype = Up
air.animtype = Up
fall.animtype = Up
getpower = (Var(10)=0) * 50, (Var(10)=0) * 25
givepower = 30, 15
guardflag = MA
hitflag = MAFD
priority = 4, Hit
pausetime = 12, 12
sparkno = 2
guard.sparkno = 40; S9100
sparkxy = -10, -60
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
ground.slidetime = 18
ground.hittime = 18
ground.velocity = 0, -9
air.type = High
air.velocity = -0, -9
fall.recover = (var(10) <= 0)
fall.recovertime = 44
fall = 1
down.velocity = 0, -9

[State Idle]
type = statetypeset
trigger1 = animelemtime(4) >= 0
movetype = I

[State Whiff]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 4

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 11
ctrl = 1


;==============================================================================================
[Statedef 600]
type = A
movetype = A
physics = A
juggle = 4
poweradd = (Var(10)=0) * 15
ctrl = 0
anim = 600
sprpriority =2

[State Whiff]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 1

[State 2]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage = 20
getpower = (Var(10)=0) * 10
givepower = 10
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 8, 8
sparkno = 0	
guard.sparkno = 40; S9100
sparkxy = -10, -40
hitsound = S6, 2
guardsound = S0, 100
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -4
air.type = low
air.velocity = -2, (vel Y)
air.hittime = 10
fall = (var(17) >= 10 && p2statetype != A && var(10) = 0)
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(4) >= 0
movetype = I


;==============================================================================================
[Statedef 603]
type = A
movetype = A
physics = A
juggle = 4
poweradd = (Var(10)=0) * 15
ctrl = 0
anim = 603
sprpriority = 2

[State 1]
type = PlaySnd
trigger1 = time = 1
value = 0, 1

[State 2]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage = 30
getpower = (Var(10)=0) * 10
givepower = 10
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 8, 8
sparkxy = -10, -70
sparkno = 0
guard.sparkno = 40; S9100
hitsound = S6, 2
guardsound = S0, 100
ground.type = High
ground.slidetime = 8
ground.hittime = 8
ground.velocity = -4
air.type = low
air.velocity = -2, -4
air.hittime = 10
fall.recovertime = 20
fall = (var(17) >= 10 && p2statetype != A && var(10) = 0)
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(3) >= 0
movetype = I


;==============================================================================================
[Statedef 605]
type = A
movetype = A
physics = A
juggle = 4
poweradd = (Var(10)=0) * 15
ctrl = 0
anim = 605
sprpriority = 2

[State 1]
type = PlaySnd
trigger1 = time = 1
value = 0, 1

[State 2]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage = 20
getpower = (Var(10)=0) * 10
givepower = 10
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 8, 8
sparkxy = -10, -50
sparkno = 0
guard.sparkno = 40; S9100
hitsound = S6, 1
guardsound = S0, 100
ground.type = High
ground.slidetime = 8
ground.hittime = 8
ground.velocity = -4
air.type = low
air.velocity = -2, (vel Y)
air.hittime = 10
fall.recovertime = 20
fall = (var(17) >= 10 && p2statetype != A && var(10) = 0)
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(3) >= 0
movetype = I


;==============================================================================================
[Statedef 610]
type = A
movetype = A
physics = A
juggle = 4
poweradd = (Var(10)=0) * 40
ctrl = 0
anim = 610
sprpriority = 2

[State 2]
type = PlaySnd
trigger1 = time = 2
value = 0, 3

[State 3]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
damage = 40
getpower = (Var(10)=0) * 50
givepower = 25
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 10, 10
sparkxy = -10, -51
sparkno = 1
guard.sparkno = 40; S9100
hitsound = S6, 4
guardsound = S0, 100
ground.type = High
ground.slidetime = 8
ground.hittime = 8
ground.velocity = -4
air.type = low
air.velocity = -3, (vel Y)
air.hittime = 15
fall.recovertime = 20
fall = (var(17) >= 10 && p2statetype != A && var(10) = 0)
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(5) >= 0
movetype = I


;==============================================================================================
[Statedef 613]
type = A
movetype = A
physics = A
juggle = 4
poweradd = (Var(10)=0) * 40
ctrl = 0
anim = 623
sprpriority = 2

[State 2]
type = PlaySnd
trigger1 = time = 2
value = 0, 2

[State 3]
type = HitDef
trigger1 = animelem = 2
attr = A, NA
damage = 45
getpower = (Var(10)=0) * 50
givepower = 25
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 10, 10
sparkxy = -10, -70
sparkno = 1
guard.sparkno = 40; S9100
hitsound = S6, 4
guardsound = S0, 100
ground.type = High
ground.slidetime = 8
ground.hittime = 8
ground.velocity = -4
air.type = Low
air.velocity = -2, -5.5
fall.recovertime = 20
fall = (var(17) >= 10 && p2statetype != A && var(10) = 0)
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(5) >= 0
movetype = I


;==============================================================================================
[Statedef 615]
type = A
movetype = A
physics = A
juggle = 4
poweradd = (Var(10)=0) * 50
ctrl = 0
anim = 615
sprpriority = 2

[State 2]
type = PlaySnd
trigger1 = time = 2
value = 0, 2

[State 3]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage = 40
getpower = (Var(10)=0) * 40
givepower = 25
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 10, 10
sparkxy = -10, -60
sparkno = 1
guard.sparkno = 40; S9100
hitsound = S6, 3
guardsound = S0, 100
ground.type = High
ground.slidetime = 8
ground.hittime = 8
ground.velocity = -4
air.type = low
air.velocity = -3, (vel Y)
fall.recovertime = 20
fall = (var(17) >= 10 && p2statetype != A && var(10) = 0)
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(6) >= 0
movetype = I


;==============================================================================================
[Statedef 620]
type = A
movetype = A
physics = A
juggle = 4
poweradd = (Var(10)=0) * 80
ctrl = 0
anim = 620
sprpriority = 2

[State Whiff]
type = PlaySnd
trigger1 = time = 2
value = 0, 4

[State 3]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage = 55
getpower = (Var(10)=0) * 30
givepower = 40
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 14, 14
sparkxy = -10, -50
sparkno = 2
guard.sparkno = 40; S9100
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -5
air.velocity = -7, 3
air.type = Low
airguard.velocity = -4, -4
air.fall = 1
fall.xvelocity = -3
fall = (var(17) >= 10 && p2statetype != A && var(10) = 0)
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(4) >= 0
movetype = I


;==============================================================================================
[Statedef 623]
type = A
movetype = A
physics = A
juggle = 4
poweradd = (Var(10)=0) * 80
ctrl = 0
anim = 626
sprpriority = 2

[State Whiff]
type = PlaySnd
trigger1 = time = 2
value = 0, 4

[State 3]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage = 65
getpower = (Var(10)=0) * 30
givepower = 40
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 14, 14
sparkxy = -10, -51
sparkno = 2
guard.sparkno = 40; S9100
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -4
air.velocity = -10, -2
airguard.velocity = -4, -4
air.type = low
air.fall = 0
fall.xvelocity = -3
fall = (var(17) >= 10 && p2statetype != A && var(10) = 0)
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(4) >= 0
movetype = I


;==============================================================================================
[Statedef 625]
type = A
movetype = A
physics = A
juggle = 4
poweradd = (Var(10)=0) * 80
ctrl = 0
anim = 625
sprpriority = 2

[State 2]
type = PlaySnd
trigger1 = time = 2
value = 0, 4

[State 3]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage = 100
getpower = (Var(10)=0) * 30
givepower = 40
guardflag = HA
hitflag = MAF
priority = 4, Hit
pausetime = 14, 14
sparkxy = -10, -60
sparkno = 2
guard.sparkno = 40; S9100
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
ground.slidetime = 10
ground.hittime = 10
ground.velocity = -5
air.velocity = -7.5, 5
airguard.velocity = -4, -4
air.type = low
air.fall = 1
fall.xvelocity = -5
fall = (var(17) >= 10 && p2statetype != A && var(10) = 0)
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(4) >= 0
movetype = I


;==============================================================================================
[Statedef 700]
type = S
movetype = A
physics = S
poweradd = (Var(10)=0) * 70
ctrl = 0
anim = 700
velset = 0, 0
sprpriority = 2

[State AttackSound]
type = PlaySnd
trigger1 = time = 10
value = 4, 0
channel = 0

[State w1]
type = Width
trigger1 = time <= 15
value = 18

[State w2]
type = Width
trigger1 = time > 15
trigger1 = time <= 20
value = 22

[State w3]
type = Width
trigger1 = time > 20
trigger1 = time <= 25
value = 25

[State 2]
type = HitDef
trigger1 = animelem = 9
attr = S, SA
animtype = Medium
getpower = (Var(10)=0) * 30, (Var(10)=0) * 15
givepower = 15, 8
damage = 40
hitflag = MA
guardflag = HA
priority = 4, Hit
pausetime = 10, 10
sparkxy = -10, -50
sparkno = 1
guard.sparkno = 40; S9100
hitsound = S6, 4
guardsound = S0, 100
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.velocity = -3, -3.5
air.hittime = 15
forcestand = 1

[State 3]
type = HitDef
trigger1 = animelem = 10
attr = S, SA
damage = 20
animtype = Medium
getpower = (Var(10)=0) * 30, (Var(10)=0) * 15
guardflag = HA
hitflag = MA
priority = 4, Hit
pausetime = 10, 10
sparkno = 1
guard.sparkno = 40; S9100
sparkxy = -10, -20
hitsound = S6, 4
guardsound = S0, 100
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.type = Low
air.velocity = -3, -3.5
air.hittime = 15
forcestand = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(11) >= 0
movetype = I

[State 4]
type = PosAdd
trigger1 = time = [17, 24]
x = 2.5

[State 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 720]
type = A
movetype = A
physics = S
poweradd = (Var(10)=0) * 100
ctrl = 0
velset =2, -1
anim = 3870
sprpriority = 2

[State PosAdd]
type = Posadd
trigger1 = time = 0
y = -17

[State AttackVoice1]
type = PlaySnd
trigger1 = animelem = 3
value = 1, 7
channel = 0

[State whiff]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 4
channel = 0

[State PosAdd]
type = Posadd
trigger1 = animelem = 2
y = -12

[State PosAdd]
type = posadd
trigger1 = animelem = 1
x = 3

[State PosAdd]
type = posadd
trigger1 = animelem = 3
x = 4

[State PosAdd]
type = posadd
trigger1 = animelem = 3
y = -1

[State 9]
type = ChangeState
trigger1 = animelem = 3
value = 721


;==============================================================================================
[Statedef 721]
type = A
movetype = A
physics = N
juggle = 5
velset = 0, -2
sprpriority = 2

[State PosAdd]
type = Posadd
trigger1 = animelem = 4
y = 18

[State PosAdd]
type = posadd
trigger1 = animelem = 4
x = 1

[State PosAdd]
type = Posadd
trigger1 = 1
x = 3

[State Gravity]
type = VelAdd
trigger1 = 1
y = 0.44

[State AttackVoice2]
type = PlaySnd
trigger1 = animelem = 9
value = 4, 0
channel = 0

[State Hitdef1]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
animtype = Medium
damage = 35, 0
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 13, 8
sparkno = 2
sparkxy = 5, -45
guard.sparkno = 40; S9100
hitsound = S6, 6
guardsound = S0, 100
ground.type = high
ground.slidetime = 14
ground.hittime = 10
ground.velocity = -5
air.velocity = -5, -4
forcenofall = 1

[State 9]
type = ChangeState
trigger1 = time > 5
trigger1 = pos y >= 6
value = 52


;==============================================================================================
[Statedef 750]
type = S
movetype = A
physics = S
poweradd = (Var(10)=0) * 45
ctrl = 0
anim = 750
velset = 0
sprpriority = 2

[State WhiffSound]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 3

[State 2]
type = HitDef
trigger1 = animelem = 5
attr = S, NA
damage = 40
anim = Medium
priority = 4, Hit
guardflag = HAF
hitflag = MA
sparkxy = -10, -35
sparkno = 1
guard.sparkno = 40; S9100
pausetime = 10, 10
getpower = (Var(10)=0) * 30
givepower = 15
hitsound = S6, 4
guardsound = S0, 100
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5
air.velocity = -4, -4
air.hittime = 15
forcenofall = 1

[State Idle]
type = statetypeset
trigger1 = animelemtime(6) >= 0
movetype = I

[State 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 900]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 900
sprpriority = 2

[State Do Not Guard]
type = attackdist
trigger1 = 1
value = 0

[State Tech]
type = varset
trigger1 = 1
var(27) = 0

[State Tech]
type = varset
trigger1 = numenemy
trigger1 = enemynear, statetype != A
trigger1 = (enemynear, stateno = [0, 999]) && (enemynear, stateno != [100, 119]) && (enemynear, stateno != [200, 799])
var(27) = 7

[State 2]
type = HitDef
trigger1 = !var(39)
trigger1 = animelem = 3
trigger1 = p2dist x >= 0 && P2Bodydist x <= 32
attr = S, NT 
p2facing = 1
p1facing = ifelse(command = "holdfwd", -1, 1)
hitflag = M-
priority = 1, Miss
sparkno = -1
hitsound = S0, 8
p1stateno = 920
p2stateno = 925
p2getp1state = 1
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 120
numhits = 0

[State Idle]
type = statetypeset
trigger1 = animelemtime(4) >= 0
movetype = I

[State grabmiss]
type = playsnd
trigger1 = animelem = 4
value = 1, 10
persistent = 0
channel = 0

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 905]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 900
sprpriority = 2

[State Do Not Guard]
type = attackdist
trigger1 = 1
value = 0

[State Tech]
type = varset
trigger1 = 1
var(27) = 0

[State Tech]
type = varset
trigger1 = numenemy
trigger1 = enemynear, statetype = S
trigger1 = (enemynear, stateno = [0, 899]) && (enemynear, stateno != [100, 119]) && (enemynear, stateno != [600, 799])
var(27) = 7

[State 2]
type = HitDef
trigger1 = !var(39)
trigger1 = animelem = 3
trigger1 = p2dist x >= 0 && P2Bodydist x <= 32
attr = S, NT 
p2facing = 1
p1facing = ifelse(command = "holdback", -1, 1)
hitflag = M-
priority = 1, Miss
sparkno = -1
hitsound = S0, 8
p1stateno = 930
p2stateno = 935
p2getp1state = 1
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 40
numhits = 0

[State Idle]
type = statetypeset
trigger1 = animelemtime(4) >= 0
movetype = I

[State grabmiss]
type = playsnd
trigger1 = animelem = 4
value = 1, 10
persistent = 0

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 920]
type = S
movetype = A
physics = S
anim = 920
velset = 0, 0
sprpriority = 2

[State Tech]
type = changestate
trigger1 = numtarget && var(27) > 0
trigger1 = (target, command = "holdfwd" || target, command = "holdback") && target, command != "holdup" && target, command != "holddown"
trigger1 = (target, command = "b" || target, command = "c" || target, command = "y" || target, command = "z")
value = 990

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State Type]
type = statetypeset
trigger1 = animelemtime(2) >= 0
statetype = A

[State Type]
type = statetypeset
trigger1 = animelemtime(15) >= 0
statetype = S

[State 1]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1, 1

[State CloseRH]
type = PlaySNd
trigger1 = time = 0
value = 4, 8
channel = 0

[State T1]
type = TargetBind
trigger1 = animelemtime(2) < 0
pos = 40, 0

[State Edge]
type = Width
trigger1 = animelemtime(2) >= 0 && animelemtime(12) < 0
edge = 50, 40

[State T2]
type = TargetBind
trigger1 = animelemtime(2) >= 0 && animelemtime(3) < 0
pos = 10, 0

[State T3]
type = targetbind
trigger1 = animelemtime(3) >= 0 && animelemtime(4) < 0
trigger2 = animelemtime(7) >= 0 && animelemtime(8) < 0
trigger3 = animelemtime(11) >= 0 && animelemtime(12) < 0
pos = 0, -60

[State T4]
type = targetbind
trigger1 = animelemtime(4) >= 0 && animelemtime(5) < 0
trigger2 = animelemtime(8) >= 0 && animelemtime(9) < 0
trigger3 = animelemtime(12) >= 0 && animelemtime(13) < 0
pos = -28, -77

[State T5]
type = TargetBind
trigger1 = animelemtime(5) >= 0 && animelemtime(6) < 0
trigger2 = animelemtime(9) >= 0 && animelemtime(10) < 0
trigger3 = animelemtime(13) >= 0 && animelemtime(14) < 0
pos = 10, -5

[State T6]
type = TargetBind
trigger1 = animelemtime(6) >= 0 && animelemtime(7) < 0
trigger2 = animelemtime(14) >= 0 && animelemtime(15) < 0
pos = 25, 0

[State 3]
type = VelSet
trigger1 = animelem = 3
y = -2.4

[State PosAdd]
type = PosAdd
trigger1 = time = [23, 64] 
x = -4

[State 4]
type = VelAdd
trigger1 = time = [29, 59]
y = 0.17

[State 6]
type = VelSet
trigger1 = animelem = 15
x = 0
y = 0

[State 7]
type = PosSet
trigger1 = animelem = 15
y = 0

[State 8]
type = envshake
trigger1 = animelem = 15
time = 15
ampl = -2
freq = 120

[State 7]
type = Playsnd
trigger1 = animelem = 4 || animelem = 7 || animelem = 11 || animelem = 15
value = 0, 4

[State T11]
type = TargetBind
trigger1 = animelemtime(15) >= 00 && animelemtime(16) < 0
pos = -10, -50

[State ThrowVoice]
type = PlaySnd
trigger1 = animelem = 15
value = 0, 10
channel = 0

[State TargetState]
type = TargetState
trigger1 = animelem = 16
value = 926

[State LifeMinus]
type = targetlifeadd
trigger1 = animelem = 16
value = floor(-129 * fvar(10))

[State Hit Count]
type = VarAdd
trigger1 = animelem = 16
var(17) = 1

[State HitCountAdd]
type = HitAdd
trigger1 = animelem = 16
value = 1

[State Turn]
type = Turn
trigger1 = Animtime = 0
value = 1

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 925]
type = A
movetype = H
physics = N
sprpriority = 0

[State 1]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0

[State 1]
type = ChangeAnim2
trigger1 = time = 0
value = 925


;==============================================================================================
[Statedef 926]
type = A
movetype = H
physics = N
sprpriority = 1

[State 1]
type = PosAdd
trigger1 = time = 0
y = -10
x = 10

[State 2]
type = VelSet
trigger1 = time = 0
x = 5
y = -3

[State 4]
type = SelfState
trigger1 = time = 4
value = 5050


;==============================================================================================
[Statedef 930]
type = S
movetype = A
physics = S
anim = 930
velset = 0, 0
sprpriority = 2

[State Tech]
type = changestate
trigger1 = numtarget && var(27) > 0
trigger1 = (target, command = "holdfwd" || target, command = "holdback") && target, command != "holdup" && target, command != "holddown"
trigger1 = (target, command = "b" || target, command = "c" || target, command = "y" || target, command = "z")
value = 990

[State TimeCountVar]
type = VarSet
trigger1 = time = 0 && var(3) = 0
v = 3
value = 0

[State TimeCount]
type = VarAdd
trigger1 = 1
v = 3
value = 1

[State TimeCount]
type = VarAdd
trigger1 = target, command = "a" || target, command = "b" || target, command = "c"
trigger2 = target, command = "x" || target, command = "y" || target, command = "z"
v = 3
value = 8

[State 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State ChangeState]
type = ChangeState
trigger1 = command = "a" || command = "b" || command = "c"
trigger1 = animelemtime(2) < 0
trigger2 = AILevel && p2life > 0
trigger2 = animelemtime(2) < 0
trigger2 = random < (1000 * (AIlevel ** 2 / 64.0))
value = 932

[State Edge]
type = Width
trigger1 = animelemtime(1) >= 0
edge = 65, 0

[State T1]
type = TargetBind
trigger1 = animelemtime(2) < 0
pos = 45, 0

[State T2]
type = TargetBind
trigger1 = animelemtime(2) >= 0 && animelemtime(3) < 0
pos = 45, -5

[State T3]
type = targetbind
trigger1 = animelemtime(3) >= 0 && animelemtime(4) < 0
pos = 45, -10

[State FierceVoice]
type = PlaySnd
trigger1 = animelem = 3
value = 4, 11
channel = 0

[State T4]
type = targetbind
trigger1 = animelemtime(4) >= 0 && animelemtime(5) < 0
pos = 45, -15

[State HitSound]
type = PlaySnd
trigger1 = animelem = 4
value = 6, 4

[State LifeMinus]
type = targetlifeadd
trigger1 = animelem = 4
value = floor(-25 * fvar(10))

[State Hit Count]
type = VarAdd
trigger1 = animelem = 4
var(17) = 1

[State HitCountAdd]
type = HitAdd
trigger1 = animelem = 4
value = 1

[State HitSpark]
type = Explod
trigger1 = animelem = 4
id = 930
anim = F2
pos = 60, -55
postype = p1
removetime = -2
sprpriority = 3
ownpal = 1

[State T5]
type = targetbind
trigger1 = animelemtime(5) >= 0 && animelemtime(6) < 0
pos = 50, -5

[State T6]
type = TargetBind
trigger1 = animelem = 6, >= 0
pos = 45, 0

[State TargetState]
type = TargetState
trigger1 = animtime = 0 && var(3) >= 160
value = 936

[State 9]
type = ChangeState
trigger1 = animtime = 0 && var(3) >= 160
value = 931


;==============================================================================================
[Statedef 932]
type = S
movetype = A
physics = S
anim = 932
velset = 0, 0
sprpriority = 2

[State Tech]
type = changestate
trigger1 = numtarget && var(27) > 0
trigger1 = (target, command = "holdfwd" || target, command = "holdback") && target, command != "holdup" && target, command != "holddown"
trigger1 = (target, command = "b" || target, command = "c" || target, command = "y" || target, command = "z")
value = 990

[State TargetStateChange]
type = Targetstate
trigger1 = time = 0
value = 937

[State TimeCount]
type = VarAdd
trigger1 = 1
v = 3
value = 1

[State TimeCount]
type = VarAdd
trigger1 = target, command = "a" || target, command = "b" || target, command = "c"
trigger2 = target, command = "x" || target, command = "y" || target, command = "z"
v = 3
value = 8

[State 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State FlashingFX]
type = PalFx
trigger1 = timemod = 3, 0
add = 48, 48, 48
time = 2

[State Edge]
type = Width
trigger1 = animelemtime(1) >= 0
edge = 65, 0

[State T1]
type = TargetBind
trigger1 = animelemtime(2) < 0
pos = 45, 0

[State T2]
type = TargetBind
trigger1 = animelemtime(2) >= 0 && animelemtime(3) < 0
pos = 45, -5

[State T3]
type = targetbind
trigger1 = animelemtime(3) >= 0 && animelemtime(4) < 0
pos = 45, -10

[State FierceVoice]
type = PlaySnd
trigger1 = animelem = 3
value = 4, 11
channel = 0

[State T4]
type = targetbind
trigger1 = animelemtime(4) >= 0 && animelemtime(5) < 0
pos = 45, -15

[State HitSound]
type = PlaySnd
trigger1 = animelem = 4
value = 6, 4

[State LifeMinus]
type = targetlifeadd
trigger1 = animelem = 4
value = floor(-25 * fvar(10))

[State Hit Count]
type = VarAdd
trigger1 = animelem = 4
var(17) = 1

[State HitCountAdd]
type = HitAdd
trigger1 = animelem = 4
value = 1

[State HitSpark]
type = Explod
trigger1 = animelem = 4
id = 930
anim = F2
pos = 60, -55
postype = p1
removetime = -2
sprpriority = 3
ownpal = 1

[State T5]
type = targetbind
trigger1 = animelemtime(5) >= 0 && animelemtime(6) < 0
pos = 50, -5

[State T6]
type = TargetBind
trigger1 = animelem = 6, >= 0
pos = 45, 0

[State TargetState]
type = TargetState
trigger1 = animtime = 0
value = ifelse(var(3)>= 160, 936, 935)

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = ifelse(var(3)>= 160, 931, 930)


;==============================================================================================
[Statedef 931]
type = S
movetype = I
physics = S
anim = 931
velset = 0, 0
sprpriority = 2

[State ResetVar(3)]
type = VarSet
trigger1 = time = 0
v = 3
value = 0

[State HitSpark]
type = Explod
trigger1 = animelem = 2
id = 930
anim = F2
pos = 60, -55
postype = p1
removetime = -2
sprpriority = 3
ownpal = 1

[State HitSound]
type = PlaySnd
trigger1 = animelem = 2
value = 6, 4

[State FRoundhouse]
type = PlaySNd
trigger1 = time = 2
value = 0, 10
channel = 0

[State LifeMinus]
type = targetlifeadd
trigger1 = animelem = 4
value = floor(-25 * fvar(10))

[State Hit Count]
type = VarAdd
trigger1 = animelem = 4
var(17) = 1

[State HitCountAdd]
type = HitAdd
trigger1 = animelem = 4
value = 1

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 935]
type = A
movetype = H
physics = N

[State FlashingFX]
type = PalFx
triggerall = timemod = 3, 0
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = command = "x" || command = "y" || command = "z"
add = 48, 48, 48
time = 2

[State 0]
type = sprpriority
trigger1 = time = 0
value = -1

[State 1]
type = ChangeAnim2
trigger1 = time = 0
value = 935


;==============================================================================================
[Statedef 937]
type = A
movetype = H
physics = N

[State FlashingFX]
type = PalFx
triggerall = timemod = 3, 0
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = command = "x" || command = "y" || command = "z"
add = 48, 48, 48
time = 2

[State 0]
type = sprpriority
trigger1 = time = 0
value = -1

[State 1]
type = ChangeAnim2
trigger1 = time = 0
value = 937


;==============================================================================================
[Statedef 936]
type = A
movetype = H
physics = N

[State 1]
type = ChangeAnim2
trigger1 = time = 0
value = 936

[State 1]
type = PosAdd
trigger1 = time = 7
y = -60
x = -20

[State 2]
type = VelSet
trigger1 = time = 6
x = -1
y = -5

[State 5]
type = PosAdd
trigger1 = time = 12
y = 30

[State 6]
type = SelfState
trigger1 = time = 12
value = 5050


;==============================================================================================
[Statedef 950]
type = A
movetype = A
physics = A
juggle = 4
poweradd = (Var(10)=0) * 0
ctrl = 0
anim = 950

[State Do Not Guard]
type = attackdist
trigger1 = 1
value = 0

[State 2]
type = HitDef
trigger1 = animelem = 1
trigger1 = p2dist x >= 0 && P2Bodydist x <= 24
attr = A, NT 
p2facing = 1
hitflag = AF
pausetime = 0, 0
priority = 1, Miss
sparkno = -1
hitsound = S0, 8
p1stateno = 955
p2stateno = 960
p2getp1state = 1
fall = 1
numhits = 0

[State grabmiss]
type = playsnd
trigger1 = animelem = 3
value = 1, 10
persistent = 0

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 50
ctrl = 1


;==============================================================================================
[Statedef 955]
type = A
movetype = A
physics = N
juggle = 0
poweradd= 0
ctrl = 0
anim = 955

[State 2]
type = turn
trigger1 = time = 0
trigger1 = vel x > 0

[State 2]
type = VelAdd
trigger1 = Time >= 8
trigger1 = pos y < 0
y = 0.35

[State 2]
type = posfreeze
trigger1 = Time < 8
value = 1

[State 2]
type = Velset
trigger1 = pos y >= 0 && time >= 8
trigger1 = Vel Y > 0
y = 0
x = -5

[State 2]
type = targetbind
trigger1 = animelem = 1
pos = 20, 0
time = 4

[State 3]
type = TargetBind
trigger1 = animelem = 2
pos = 20, 0
time = 4

[State 3]
type = TargetBind
trigger1 = animelem = 3
pos = -15, -60
time = 5

[State 3]
type = TargetBind
trigger1 = animelem = 4
pos = -15, -5
time = 5
 
[State 3]
type = TargetBind
trigger1 = animelem = 5
pos = 5, -10
time = 5

[State 3]
type = TargetBind
trigger1 = animelem = 6
pos = 15, -70
time = 5

[State 3]
type = TargetBind
trigger1 = animelem = 7
pos = -15, -60
time = 3

[State 3]
type = TargetBind
trigger1 = animelem = 8
pos = -15, -5
time = 3

[State 3]
type = TargetBind
trigger1 = animelem = 9
pos = 5, -10
time = 3

[State 3]
type = TargetBind
trigger1 = animelem = 10
pos = 15, -70
time = 3

[State 3]
type = TargetBind
trigger1 = animelem = 11
pos = -15, -60
time = 2
 
[State 3]
type = TargetBind 
trigger1 = animelem = 12
pos = -15, -5
time = 2

[State 3]
type = TargetBind
trigger1 = animelem = 13
pos = 5, -10
time = 2

[State 3]
type = TargetBind
trigger1 = animelem = 14
pos = 15, -70
time = 2

[State 2]
type = targetbind
trigger1 = animelem = 15
pos = 15, -115
time = 3

[State 2]
type = targetbind
trigger1 = animelem = 16
pos = -50, -50
time = 2

[State 2]
type = posset
trigger1 = animelem = 15
y = 0

[State 7]
type = Playsnd
trigger1 = animelem = 4 || animelem = 7 || animelem = 11 || animelem = 15
value = 0, 4

[State CloseRH]
type = PlaySNd
trigger1 = time = 0
value = 4, 8
channel = 0

[State CloseRH]
type = PlaySNd
trigger1 = animelem = 15
value = 0, 10
channel = 0

[State 2]
type = targetstate
trigger1 = animelem = 16
value = 961

[State LifeMinus]
type = targetlifeadd
trigger1 = animelem = 16
value = floor(-129 * fvar(10))

[State Hit Count]
type = VarAdd
trigger1 = animelem = 16
var(17) = 1

[State HitCountAdd]
type = HitAdd
trigger1 = animelem = 16
value = 1

[State 2]
type = targetDrop
trigger1 = animelem = 16, 1

[State 2]
type = Velset
trigger1 = animelem = 16
x = 0

[State 2]
type = Turn
trigger1 = Animtime = 0

[State 3]
type = posset
trigger1 = time = 86
y = 0

[State 2]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 960]
type = A
movetype= H
physics = N

[State 2]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0

[State 2]
type = turn
trigger1 = time = 0
trigger1 = vel x < 0

[State 2]
type = Velset
trigger1 = pos y >= 0
trigger1 = Vel Y > 0
y = 0

[State 1]
type = ChangeAnim2
trigger1 = time = 0
value = 960

[State 3]
type = sprpriority
trigger1 = time = 0
value = -1


;==============================================================================================
[Statedef 961]
type = A
movetype= H
physics = N

[State 0]
type = velset
trigger1 = time = 0
x = 5
y = -5

[State 0]
type = Posadd
trigger1 = animelem = 18
y = 20

[State 0]
type = Veladd
trigger1 = 1
y = 0.35

[State 4]
type = SelfState
trigger1 = time = 4
value = 5050


;==============================================================================================
[Statedef 970]
type = A
movetype = A
physics = A
juggle = 4
poweradd = (Var(10)=0) * 0
ctrl = 0
anim = 970

[State Do Not Guard]
type = attackdist
trigger1 = 1
value = 0

[State 2]
type = HitDef
trigger1 = animelem = 1
trigger1 = p2dist x >= 0 && P2Bodydist x <= 24
attr = A, NT 
p2facing = 1
hitflag = AF
priority = 1, Miss
sparkno = -1
hitsound = S0, 8
p1stateno = 971
p2stateno = 975
p2getp1state = 1
fall = 1
numhits = 0

[State grabmiss]
type = playsnd
trigger1 = animelem = 3
value = 1, 10
persistent = 0

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 50
ctrl = 1


;==============================================================================================
[Statedef 971]
type = A
movetype = A
physics = N
juggle = 0
poweradd= 0
velset = 0, 0
ctrl = 0
anim = 971

[State 3]
type = Playsnd
trigger1 = time = 0
value = 4, 8

[State 7]
type = Playsnd
trigger1 = animelem = 4
value = 0, 4

[State 3]
type = posadd
trigger1 = animelem = 4
x = 15

[State 3]
type = TargetBind
trigger1 = animelem = 1 || animelem = 2
pos = 20, 0
time = 4

[State 3]
type = TargetBind
trigger1 = animelem = 4
pos = -20, -70
time = 4

[State 3]
type = TargetBind
trigger1 = animelem = 5
pos = 0, -80
time = 5

[State 3]
type = TargetBind
trigger1 = animelem = 6
pos = 10, -60
time = 99

[State 3]
type = sprpriority
trigger1 = animelem = 6
value = -1

[State 3]
type = PosFreeze
trigger1 = time < 10

[State 3]
type = Velset
trigger1 = time = 10
y = -4

[State 3]
type = Velset
trigger1 = time = 10
x = 2.8

[State 3]
type = VelAdd
trigger1 = time > 10
y = 0.35

[State 2]
type = ChangeState
trigger1 = pos y >= 0
trigger1 = Vel Y > 0
value = 972


;==============================================================================================
[Statedef 972]
type = S
movetype = A
physics = S
juggle = 0
poweradd= 0
velset = 0, 0
ctrl = 0
anim = 972

[State 3]
type = Playsnd
trigger1 = animelem = 2, -1
value = 3, 8
channel = 0

[State 3]
type = Playsnd
trigger1 = animelem = 2, -1
value = 6, 6

[State 4]
type = EnvShake
trigger1 = animelem = 2, -1
persistent = 0
time = 10
ampl = -5
freq = 100
phase = 10

[State 3]
type = TargetBind
trigger1 = animelem = 1
pos = 28, -30
time = 2

[State 3]
type = TargetState
trigger1 = time = 0
value = 976

[State 3]
type = sprpriority
trigger1 = animelem = 4
value = 0

[State 3]
type = PosFreeze
trigger1 = 1

[State 3]
type = TargetLifeAdd
trigger1 = animelem = 2
value = floor(-80 * fvar(10))

[State Hit Count]
type = VarAdd
trigger1 = animelem = 2
var(17) = 1

[State 5]
type = HitAdd
trigger1 = animelem = 2
value = 1

[State 4]
type = Explod
trigger1 = animelem = 2
persistent = 0
anim = F3
pos = 10, 10
postype = p2
supermovetime = -1
sprpriority = 2
ignorehitpause = 1
ownpal = 1

[State 3]
type = TargetBind
trigger1 = animelem = 2
pos = 30, -20
time = 8

[State 3]
type = posset
trigger1 = 1
y = 0

[State 2]
type = ChangeState
trigger1 = Animtime = 0
value = 11
ctrl = 1


;==============================================================================================
[Statedef 975]
type = A
movetype= H
physics = N

[State 3]
type = PosFreeze
trigger1 = time <= 10

[State 0]
type = velset
trigger1 = time = 0
x = 0
y = 0

[State 1]
type = ChangeAnim2
trigger1 = time = 0
value = 975

[State 3]
type = sprpriority
trigger1 = time = 0
value = -1

[State 3]
type = sprpriority
trigger1 = animelem = 4
value = 1


;==============================================================================================
[Statedef 976]
type = A
movetype= H
physics = N

[State 0]
type = velset
trigger1 = time = 0
x = 0
y = 0

[State 3]
type = ChangeAnim2
trigger1 = time = 0
value = 976

[State 3]
type = sprpriority
trigger1 = time = 0
value = 1

[State 3]
type = PosFreeze
trigger1 = time > 2
trigger1 = time <= 12

[State 3]
type = ChangeState
trigger1 = animtime = 0
value = 977


;==============================================================================================
[Statedef 977]
type = A
movetype= H
physics = N
velset = -6, -4

[State 1] 
type = ChangeAnim
trigger1 = Animtime = 0
trigger2 = time = 0 
trigger2 = Anim != 5035
value = 5050

[State 3]
type = VelAdd
trigger1 = 1
y = 0.35

[State 6]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = pos y >= 25
value = 5020


;==============================================================================================
[Statedef 990]
type = S
physics = N
movetype = I
anim = 5945
ctrl = 0
velset = 0,0
sprpriority = 1

[State 990, Bind]
type = targetbind
trigger1 = !time && numtarget
pos = 0,0
[State 990, p2state]
type = targetstate
trigger1 = !time && numtarget
value = 995
[State 990, Throw]
type = targetfacing
trigger1 = !time && numtarget
value = -1

[State 990, Pos]
type = posadd
trigger1 = !time
x = 24

[State 990, NHB]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 990, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 990, Pos]
type = posset
trigger1 = !time
y = 0
[State 990, Vel]
type = velset
trigger1 = 1
x = -1.425
y = 0

[State 990, Snd]
type = playsnd
trigger1 = time = 2
value = 10, 3
channel = 0

[State 990, FX]
type = playsnd
trigger1 = !time
value = 0, 100

[State 990, FX]
type = explod
trigger1 = !time
anim = F40
sprpriority = 5
postype = p1
pos = 0, -55
ownpal = 1
pausemovetime = -1
supermovetime = -1

[State 990, End]
type = changestate
trigger1 = time>= 27
value = 0
ctrl = 1


;==============================================================================================
[Statedef 995]
type = S
physics = N
movetype = I
ctrl = 0
velset = 0,0
sprpriority = 1

[State 995, Anim]
type = changeanim
trigger1 = !time
value = ifelse(selfanimexist(5945),5945,130)
[State 995, Anim]
type = changeanim
trigger1 = !time && !selfanimexist(5945) && selfanimexist(5910)
value = 5910
[State 995, Anim]
type = changeanim
trigger1 = time>= 20 && anim = 130
value = 140

[State 995, NHB]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 995, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 995, Pos]
type = posset
trigger1 = !time
y = 0
[State 995, Vel]
type = velset
trigger1 = 1
x = -1.425
y = 0

[State 995, End]
type = selfstate
trigger1 = time>= 27
value = 0
ctrl = 1


;==============================================================================================
[Statedef 1000]
type = S
movetype = A
physics = S
poweradd = (Var(10)=0) * 100
ctrl = 0
anim = 1000
velset = 0, 0
sprpriority = 2

[State Width]
type = width
trigger1 = animelemtime(3) >= 0 && animelemtime(4) < 0
value = 16, 0

[State Width]
type = width
trigger1 = animelemtime(4) >= -1 && animelemtime(13) < 0
value = 32, 0

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State Hadoken!]
type = PlaySnd
trigger1 = animelem = 2
value = 4, 3
channel = 0
volume = 255

[State SuperLight] 
type = Explod
trigger1 = animelem = 3
anim = 4803
pos = 5, 0
postype = p1
sprpriority = -4
postype = p1
supermovetime = -1
bindtime = 57
ownpal = 1
removeongethit = 1

[State SuperLight] 
type = Explod
trigger1 = animelem = 3
anim = 4803
pos = 6, 1
postype = p1
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 57
ownpal = 1
removeongethit = 1

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "hadouken"
id = 3
pos = 90, -56
postype = p1
stateno =1006
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1

[State FireB]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State HadokenWhiff]
type = playsnd
trigger1 = animelem = 4
value = 0, 7
volume = 50

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 1003]
type = S
movetype = A
physics = S
poweradd = (Var(10)=0) * 10
ctrl = 0
anim = 1000
velset = 0, 0
sprpriority = 2

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "hadouken"
id = 3
pos = 90, -56
postype = p1
stateno =1006
ownpal = 1
pausemovetime = 9999
size.xscale = 1.1
size.yscale = 1.1

[State FireB]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State Hadoken!]
type = PlaySnd
trigger1 = animelem = 2
value = 4, 3
channel = 0
volume = 255

[State SuperLight] 
type = Explod
trigger1 = animelem = 3
anim = 4803
pos = 5, 0
postype = p1
sprpriority = -4
postype = p1
supermovetime = -1
bindtime = 57
ownpal = 1
removeongethit = 1

[State SuperLight] 
type = Explod
trigger1 = animelem = 3
anim = 4803
pos = 6, 1
postype = p1
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 57
ownpal = 1
removeongethit = 1

[State HadokenWhiff]
type = playsnd
trigger1 = animelem = 4
value = 0, 7
volume = 50

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 1001]
type = S
movetype = A
physics = S
poweradd = (Var(10)=0) * 100
ctrl = 0
anim = 1000
velset = 0, 0
sprpriority = 2

[State Width]
type = width
trigger1 = animelemtime(3) >= 0 && animelemtime(4) < 0
value = 16, 0

[State Width]
type = width
trigger1 = animelemtime(4) >= -1 && animelemtime(13) < 0
value = 32, 0

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State HadokenVoice]
type = PlaySnd
trigger1 = time = 2
value = 4, 3
channel = 0
volume = 255

[State SuperLight] 
type = Explod
trigger1 = animelem = 3
anim = 4803
pos = 5, 0
postype = p1
sprpriority = -4
postype = p1
supermovetime = -1
bindtime = 57
ownpal = 1
removeongethit = 1

[State SuperLight] 
type = Explod
trigger1 = animelem = 3
anim = 4803
pos = 6, 1
postype = p1
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 57
ownpal = 1
removeongethit = 1

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "hadouken"
id = 3
pos = 90, -56
postype = p1
stateno =1007
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1

[State FireB]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State HadokenWhiff]
type = playsnd
trigger1 = animelem = 4
value = 0, 7
volume = 50

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 1004]
type = S
movetype = A
physics = S
poweradd = (Var(10)=0) * 10
ctrl = 0
anim = 1000
velset = 0, 0
sprpriority = 2

[State SuperLight] 
type = Explod
trigger1 = animelem = 3
anim = 4803
pos = 5, 0
postype = p1
sprpriority = -4
postype = p1
supermovetime = -1
bindtime = 57
ownpal = 1
removeongethit = 1

[State SuperLight] 
type = Explod
trigger1 = animelem = 3
anim = 4803
pos = 6, 1
postype = p1
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 57
ownpal = 1
removeongethit = 1

[State HadokenVoice]
type = PlaySnd
trigger1 = time = 2
value = 4, 3
channel = 0
volume = 255

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "hadouken"
id = 3
pos = 95, -56
postype = p1
stateno =1007
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1

[State FireB]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State HadokenWhiff]
type = playsnd
trigger1 = animelem = 4
value = 0, 7
volume = 50

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 1002]
type = S
movetype = A
physics = S
poweradd = (Var(10)=0) * 100
ctrl = 0
anim = 1000
velset = 0, 0
sprpriority = 2

[State Width]
type = width
trigger1 = animelemtime(3) >= 0 && animelemtime(4) < 0
value = 16, 0

[State Width]
type = width
trigger1 = animelemtime(4) >= -1 && animelemtime(13) < 0
value = 32, 0

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State HadokenVoice]
type = PlaySnd
trigger1 = time = 2
value = 4, 3
channel = 0
volume = 255

[State SuperLight] 
type = Explod
trigger1 = animelem = 3
anim = 4803
pos = 5, 0
postype = p1
sprpriority = -4
postype = p1
supermovetime = -1
bindtime = 57
ownpal = 1
removeongethit = 1

[State SuperLight] 
type = Explod
trigger1 = animelem = 3
anim = 4803
pos = 6, 1
postype = p1
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 57
ownpal = 1
removeongethit = 1

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "hadouken"
id = 3
pos = 90, -56
postype = p1
stateno =1008
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1

[State FireB]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State HadokenWhiff]
type = playsnd
trigger1 = animelem = 4
value = 0, 7
volume = 50

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 1005]
type = S
movetype = A
physics = S
poweradd = (Var(10)=0) * 10
ctrl = 0
anim = 1000
velset = 0, 0
sprpriority = 2
juggle = 15

[State SuperLight] 
type = Explod
trigger1 = animelem = 3
anim = 4803
pos = 5, 0
postype = p1
sprpriority = -4
postype = p1
supermovetime = -1
bindtime = 57
ownpal = 1
removeongethit = 1

[State SuperLight] 
type = Explod
trigger1 = animelem = 3
anim = 4803
pos = 6, 1
postype = p1
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 57
ownpal = 1
removeongethit = 1

[State HadokenVoice]
type = PlaySnd
trigger1 = time = 2
value = 4, 3
channel = 0
volume = 255

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal
name = "hadouken"
id = 3
pos = 95, -56
postype = p1
stateno =1008
ownpal = 1
pausemovetime = 9999
size.xscale = 1.1
size.yscale = 1.1

[State FireB]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State HadokenWhiff]
type = playsnd
trigger1 = animelem = 4
value = 0, 7
volume = 50

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 1016]
type = S
movetype = A
physics = N
poweradd = (Var(10)=0) * 10
ctrl = 0
anim = 1018
velset = 2, 2
sprpriority = 5

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 11241
id = 12213
postype = p1
pos = -20, -17
random = 20, 20
sprpriority = 5
ownpal = 1
vel = -1, -1

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 11240
id = 12213
postype = p1
pos = -20, -17
random = 20, 20
sprpriority = 5
ownpal = 1
vel = -1, -1

[State 5]
type = Hitdef
trigger1 = 1
attr = A, SP
damage = ceil(40 * root, fvar(10)), 5
animtype = Light
hitflag = MAFD
guardflag = MA
pausetime = 0, 9
guard.sparkno = 40; S9200
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4
air.type = High
air.velocity = -4, 4
forcestand = 1
palfx.time = 20
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall.recover = (var(10) <= 0)
fall.recovertime = 120
air.fall = 1
pausemovetime = 99
Supermovetime = 99
down.velocity = 0, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5

[State FireB]
type = Explod
trigger1 = projHit = 1
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10, -40
random = 50, 40
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = projHit = 1
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10, -80
random = 50, 40
bindtime = -1
sprpriority = 2
ownpal = 1

[State 1]
type = palfx
trigger1 = time = 0
time = 9999
add = 130, -70, -70
sinadd = 48, 48, 40, 120

[State 0]
type = VarSet
trigger1 = hitcount = 1
persistent = 0
v = 11
value = 50

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.55, .55, .55
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6, 5
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State NHB]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1022
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = projhit = 1
trigger2 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State Dissipate]
type = Changestate
trigger1 = movecontact
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1022

[State Dissipate]
type = changestate
trigger1 = pos y >= 2
value = 1023


;==============================================================================================
[Statedef 1017]
type = S
movetype = A
physics = N
poweradd = (Var(10)=0) * 10
ctrl = 0
anim = 1018
velset = 3, 3
sprpriority = 5
juggle = 0

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -1, -2

[State 0]
type = VarAdd
trigger1 = time = 0
v = 55
value = 1

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 11241
id = 12213
postype = p1
pos = -20, -17
random = 20, 20
sprpriority = 5
ownpal = 1
vel = -1, -1

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 11240
id = 12213
postype = p1
pos = -20, -17
random = 20, 20
sprpriority = 5
ownpal = 1
vel = -1, -1

[State 5]
type = Hitdef
trigger1 = var(55) < 3
attr = A, SP
damage = ceil(40 * root, fvar(10)), 5
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 10
guard.sparkno = 40; S9200
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -2
air.type = High
air.velocity = -2, -2
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
air.fall = 1
down.velocity = 0, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5

[State 5]
type = Hitdef
trigger1 = var(55) >= 3
attr = A, SP
damage = ceil(40 * root, fvar(10)), 5
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 10
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
ground.hittime = 18
ground.velocity = -6
air.type = Low
air.velocity = -6, -5
air.fall = 1
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
down.velocity = 0, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State 1]
type = palfx
trigger1 = time = 0
time = 9999
add = 130, -70, -70
sinadd = 48, 48, 40, 120

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.55, .55, .55
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[State 0]
type = VarAdd
trigger1 = moveguarded=1
persistent = 1
v = 4
value = 1

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6, 5
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1022
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = projhit = 1
trigger2 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State Dissipate]
type = Changestate
trigger1 = Var(55) < 3 && movecontact
value = ifelse(numtarget, 1890, 1022)

[State Dissipate]
type = changestate
trigger1 = pos y >= 2
value = 1023


;==============================================================================================
[Statedef 1890]
type = S
movetype = A
physics = N
poweradd = (Var(10)=0) * 10
ctrl = 0
velset = 3, 3
sprpriority = 5

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -1, -2

[State 0]
type = VarAdd
trigger1 = time = 0
v = 55
value = 1

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 11241
id = 12213
postype = p1
pos = -20, -17
random = 20, 20
sprpriority = 5
ownpal = 1
vel = -1, -1

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 11240
id = 12213
postype = p1
pos = -20, -17
random = 20, 20
sprpriority = 5
ownpal = 1
vel = -1, -1

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6, 5
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1022
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = projhit = 1
trigger2 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 5]
type = Hitdef
trigger1 = var(55) < 2
attr = A, SP
damage = ceil(20 * root, fvar(10)), 3
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 10
guard.sparkno = 40; S9200
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4
air.type = High
air.velocity = -4, 5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
down.velocity = 0, 0
ground.cornerpush.veloff = 0
air.fall = 1
air.cornerpush.veloff = 0
p1sprpriority = 5

[State 5]
type = Hitdef
trigger1 = var(55) >= 2
attr = A, SP
damage = ceil(20 * root, fvar(10)), 3
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 4
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4
air.type = High
air.velocity = -4, 5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
air.fall = 1
down.velocity = 0, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State 1]
type = palfx
trigger1 = time = 0
time = 9999
add = 130, -70, -70
sinadd = 48, 48, 40, 120

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.55, .55, .55
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[State 0]
type = VarAdd
trigger1 = moveguarded=1
persistent = 1
v = 4
value = 1

[State Dissipate]
type = Changestate
trigger1 = Var(55) >= 3
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1022

[State Dissipate]
type = Changestate
trigger1 = Var(55) < 3 && movecontact
value = ifelse(numtarget, 1890, 1022)

[State Dissipate]
type = changestate
trigger1 = pos y >= 2
value = 1023


;==============================================================================================
[Statedef 1019]
type = S
movetype = A
physics = N
poweradd = (Var(10)=0) * 10
ctrl = 0
anim = 1018
velset = 4, 4
sprpriority = 5
juggle = 0

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -1, -2

[State 0]
type = VarAdd
trigger1 = time = 0
persistent = 1
v = 54
value = 1

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 11241
id = 12213
postype = p1
pos = -20, -17
random = 20, 20
sprpriority = 5
ownpal = 1
vel = -1, -1

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 11240
id = 12213
postype = p1
pos = -20, -17
random = 20, 20
sprpriority = 5
ownpal = 1
vel = -1, -1

[State 5]
type = Hitdef
trigger1 = var(54) < 4
attr = A, SP
damage = ceil(40 * root, fvar(10)), 5
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 10
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -2
air.type = High
air.velocity = -2, -5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
down.velocity = 0, 0
ground.cornerpush.veloff = 0
air.fall = 1
air.cornerpush.veloff = 0
p1sprpriority = 5

[State 5]
type = Hitdef
trigger1 = var(54) >= 4
attr = A, SP
damage = ceil(40 * root, fvar(10)), 5
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 10
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -6
air.type = Low
air.velocity = -6, -5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
down.velocity = 0, 0
air.fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State 1]
type = palfx
trigger1 = time = 0
time = 9999
add = 130, -70, -70
sinadd = 48, 48, 40, 120

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.55, .55, .55
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6, 5
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1022
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = projhit = 1
trigger2 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[State 0]
type = VarAdd
trigger1 = moveguarded=1
persistent = 1
v = 4
value = 1

[State Dissipate]
type = Changestate
trigger1 = Var(54) >= 4
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1022

[State Dissipate]
type = Changestate
trigger1 = Var(54) < 4 && movecontact
value = ifelse(numtarget, 1891, 1022)

[State Dissipate]
type = changestate
trigger1 = pos y >= 2
value = 1023


;==============================================================================================
[Statedef 1891]
type = S
movetype = A
physics = N
poweradd = (Var(10)=0) * 10
ctrl = 0
sprpriority = 5

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -1, -2

[State 0]
type = VarAdd
trigger1 = time = 0
persistent = 1
v = 54
value = 1

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 11241
id = 12213
postype = p1
pos = -20, -17
random = 20, 20
sprpriority = 5
ownpal = 1
vel = -1, -1

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 11240
id = 12213
postype = p1
pos = -20, -17
random = 20, 20
sprpriority = 5
ownpal = 1
vel = -1, -1

[State 5]
type = velset
trigger1 = 1
x = 3

[State 5]
type = Hitdef
trigger1 = var(54) < 3
attr = A, SP
damage = ceil(16 * root, fvar(10)), 2
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 10
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4
air.type = High
air.velocity = -4, 5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
air.fall = 1
Supermovetime = 99
down.velocity = 0, 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5

[State 5]
type = Hitdef
trigger1 = var(54) >= 3
attr = A, SP
damage = ceil(16 * root, fvar(10)), 2
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 6
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4
air.type = High
air.velocity = -4, 5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
down.velocity = 0, 0
ground.cornerpush.veloff = 0
air.fall = 1
air.cornerpush.veloff = 0
p1sprpriority = 5

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6, 5
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1022
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = projhit = 1
trigger2 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State 1]
type = palfx
trigger1 = time = 0
time = 9999
add = 130, -70, -70
sinadd = 48, 48, 40, 120

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.55, .55, .55
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[State 0]
type = VarAdd
trigger1 = moveguarded=1
persistent = 1
v = 4
value = 1

[State Dissipate]
type = Changestate
trigger1 = Var(54) >= 4
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1022

[State Dissipate]
type = Changestate
trigger1 = Var(54) < 4 && movecontact
value = ifelse(numtarget, 1891, 1022)

[State Dissipate]
type = changestate
trigger1 = pos y >= 2
value = 1023


;==============================================================================================
[Statedef 1012]
type = S
movetype = I
physics = S
poweradd = 0
ctrl = 0
anim = 1011
velset = 2, 0
sprpriority = 5

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2, 7
persistent = 0
freqmul = 1.2
ignorehitpause = 1
volume = -50

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -9, 9

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -9, 9

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = 1/2*(var(52)), 1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = 1/2*(var(52)), 1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12213
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = 1/2*(var(53)), 1/2*(var(52))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = 1/2*(var(53)), 1/2*(var(52))
ignorehitpause = 1
pausemovetime = 9999

[State Dissipate]
type = destroyself
trigger1 = time >= 18


;==============================================================================================
[Statedef 1009]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1026
velset = 2, 0
sprpriority = 5

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -3, 3

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State FireB]
type = Explod
trigger1 = time = [0, 6]
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45, -9
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(51)), 0

[State FireB]
type = Explod
trigger1 = time = [0, 6]
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -45, -9
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(52)), 0

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -1, -3

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 500
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45, -9
scale = 0.3, 1
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 500
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = -45, -9
scale = 0.3, 1
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 20
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.80, .80, .80
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10, -40
random = 50, 40
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10, -80
random = 50, 40
bindtime = -1
sprpriority = 2
ownpal = 1

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6, 5
persistent = 0
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
value = SCA, AP
time = -1
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1992
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 5]
type = velset
trigger1 = 1
x = 6

[State 5]
type = Hitdef
trigger1 = var(54) < 10
attr = S, HP
damage = ceil(18 * root, fvar(10)), 4
animtype = Hard
getpower = 0, 0
givepower = 80
guardflag = MA
pausetime = 0, 10
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -2, -5
air.type = Low
air.velocity = -2, -5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall.recover = 0
fall.recovertime = 120
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = (var(10) <= 0)
fall.recovertime = 120
p1sprpriority = 5

[State 5]
type = Hitdef
trigger1 = var(54) >= 10
attr = S, HP
damage = ceil(18 * root, fvar(10)), 4
animtype = Hard
getpower = 0, 0
givepower = 80
guardflag = MA
pausetime = 0, 10
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -2, -5
air.type = Low
air.velocity = -2, -5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall.recover = 0
fall.recovertime = 120
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = 0
fall.recovertime = 120
p1sprpriority = 5

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
trigger1 = ((Target, GetHitVar(hitcount)) % 2) = 1
var(17) = 1

[State Dissipate]
type = Changestate
trigger1 = Var(54) >= 9
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1012

[State Dissipate]
type = Changestate
trigger1 = Var(54) < 9 && movecontact
value = 1992


;==============================================================================================
[Statedef 1992]
type = S
movetype = A
physics = S
ctrl = 0
sprpriority = 5

[State 5]
type = velset
trigger1 = time > 3
x = 8

[State 5]
type = velset
trigger1 = time <= 3
x = 1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -1, -2

[State 0]
type = VarAdd
trigger1 = time = 0
persistent = 1
v = 54
value = 1

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45, -7
scale = 0.3, 0.8
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = -45, -7
scale = 0.3, 0.8
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State 5]
type = Hitdef
trigger1 = var(54) =0 || var(54) = 1 || var(54) = 4 || var(54) = 5 || var(54)= 8 || var(54) = 9 || var(54)= 12
trigger1 = var(54) < 10
attr = S, SP
damage = ceil(18 * root, fvar(10)), 4
animtype = Hard
guardflag = MA
pausetime = 0, 10
getpower = 0, 0
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -8, -6
air.type = Low
air.velocity = -8, -6
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = (var(10) <= 0)
fall.recovertime = 120
p1sprpriority = 5

[State 5]
type = Hitdef
trigger1 = var(54)=2 || var(54) = 3 || var(54)=6 || var(54) = 7 || var(54) = 10 || var(54)= 11 || var(54) = 14
trigger1 = var(54) < 10
attr = S, SP
damage = ceil(18 * root, fvar(10)), 4
animtype = Medium
guardflag = MA
pausetime = 0, 10
getpower = 0, 0
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -8, -6
air.type = Low
air.velocity = -8, -6
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = (var(10) <= 0)
fall.recovertime = 120
p1sprpriority = 5

[State 5]
type = Hitdef
trigger1 = var(54) >= 8
attr = S, SP
damage = ceil(18 * root, fvar(10)), 4
animtype = Hard
guardflag = MA
pausetime = 0, 10
guard.sparkno = 40; S9200
getpower = 0, 0
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -8, -6
air.type = Low
air.velocity = -8, -6
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = (var(10) <= 0)
fall.recovertime = 120
p1sprpriority = 5

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
trigger1 = ((Target, GetHitVar(hitcount)) % 2) = 1
var(17) = 1

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.55, .55, .55
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6, 5
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1992
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[State 0]
type = VarAdd
trigger1 = moveguarded=1
persistent = 1
v = 4
value = 1

[State Dissipate]
type = Changestate
trigger1 = Var(54) >= 9
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1012

[State Dissipate]
type = Changestate
trigger1 = Var(54) < 9 && movecontact
value = 1992


;==============================================================================================
[Statedef 1013]
type = S
movetype = A
physics = S
poweradd = 0
ctrl = 0
anim = 1026
velset = 2, 0
sprpriority = 5

[State Randomizer]
type = varrandom
trigger1 = 1
v = 35
range = -5, 5

[State Randomizer3]
type = varrandom
trigger1 = 1
v = 36
range = -4, -10

[State FireB]
type = Explod
trigger1 = random <= 300
persistent = 1
anim = 12216
id = 12213
postype = p1
pos = -45, -9
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(36), (var(35))
scale = 0.1, 0.75
accel = -(var(36))/5, -(var(35))/5

[State Randomizer4]
type = varrandom
trigger1 = 1
v = 37
range = -10, 10

[State Randomizer5]
type = varrandom
trigger1 = 1
v = 38
range = -4, -10

[State FireB]
type = Explod
trigger1 = random <= 300
persistent = 1
anim = 12216
id = 12213
postype = p1
pos = -45, -9
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(38), (var(37))
scale = 0.1, 0.75
accel = -(var(38))/6, -(var(37))/6

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -3, 3

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State FireB]
type = Explod
trigger1 = time = [0, 6]
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45, -9
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(51)), 0

[State FireB]
type = Explod
trigger1 = time = [0, 6]
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -45, -9
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(52)), 0

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -1, -7

[State FireB]
type = Explod
trigger1 = movecontact = 0
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45, -9
scale = 0.3, 1
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(53), 0

[State FireB]
type = Explod
trigger1 = movecontact = 0
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = -45, -9
scale = 0.3, 1
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(53), 0

[State 9]
type = EnvShake
trigger1 = movehit
persistent = 0
time = 20
ampl = -10
freq = 100
phase = 1

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 25
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.85, .85, .85
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State FireB]
type = Explod
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10, -40
random = 50, 40
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10, -80
random = 50, 40
bindtime = -1
sprpriority = 2
ownpal = 1

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 2, 9
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1013
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 1]
type = envcolor
trigger1 = movehit
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 1

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State 5]
type = velset
trigger1 = 1
x = 8

[State 5]
type = Hitdef
trigger1 = 1
attr = S, HP
damage = ceil(200 * root, fvar(10)), 25
animtype = Hard
getpower = 0, 0
givepower = 80
guardflag = MA
pausetime = 0, 0
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -6, -6
air.type = Low
air.velocity = -6, -6
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall.recover = 0
fall.recovertime = 120
air.fall = 1
fall = 1
pausemovetime = 99
Supermovetime = 99
p1sprpriority = 5

[State 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[State 0]
type = VarAdd
trigger1 = movecontact=1
persistent = 1
v = 4
value = 1

[State Dissipate]
type = Changestate
trigger1 = movecontact
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1993


;==============================================================================================
[Statedef 1993]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1011
velset = 2, 0
sprpriority = 5

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State Slow Motion]
type = Pause 
triggerall = roundstate = 2 && p2life > 0
trigger1 = 1
time = 1 
movetime = 1 
ignorehitpause = 1

[State PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2, 7
persistent = 0
freqmul = 1.2
ignorehitpause = 1
volume = -50

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -12, 12

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -12, 12

[State FireB]
type = Explod
trigger1 = time < 13
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = 1/2*(var(52)), 1/2*(var(53))

[State FireB]
type = Explod
trigger1 = time < 13
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = 1/2*(var(52)), 1/2*(var(53))

[State FireB]
type = Explod
trigger1 = time < 13
persistent = 1
anim = 12213
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = 1/2*(var(53)), 1/2*(var(52))

[State FireB]
type = Explod
trigger1 = time < 13
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = 1/2*(var(53)), 1/2*(var(52))

[State Dissipate]
type = destroyself
trigger1 = time >= 28


;==============================================================================================
[Statedef 1014]
type = S
movetype = A
physics = S
poweradd = 0
ctrl = 0
anim = 12205
sprpriority = 5

[State 5]
type = posset
trigger1 = time = 0
y = 0

[State 5]
type = velset
trigger1 = time = 0
y = -7

[State 5]
type = veladd
trigger1 = 1
y = -0.2

[State 1]
type = palfx
trigger1 = time = 0
time = 9999
add = 130, -70, -70
sinadd = 148, 48, 40, 20

[State 9]
type = EnvShake
trigger1 = movehit
persistent = 0
time = 20
ampl = -10
freq = 100
phase = 1

[State Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright = 0, 0, 0
PalContrast = 258, 48, 18
PalMul = 0.5, 0.5, 0.5
FrameGap = 1
Trans = add

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
trigger1 = ((Target, GetHitVar(hitcount)) % 3) = 1
var(17) = 1

[State FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10, -40
random = 50, 40
bindtime = -1
sprpriority = 2
ownpal = 1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = 1, 4

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = 12212
id = 12212
postype = p1
pos = -7, 300
random = 20, 200
sprpriority = 5
ownpal = 1
vel = 0, var(53)

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = 12215
id = 12212
postype = p1
pos = -7, 300
random = 20, 200
sprpriority = 5
ownpal = 1
vel = 0, var(53)

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = 3, 9

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -3, 3

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -7, 300
random = 20, 200
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(51)), -(var(51))/4

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -7, 300
random = 20, 200
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(52)), -(var(51))/4

[State FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
persistent = 1
anim = 2500
id = 2500
postype = p2
pos = -10, -80
random = 50, 40
bindtime = -1
sprpriority = 2
ownpal = 1

[State Spark] 
type = Explod
trigger1 = movehit
trigger2 = projhit = 1
persistent = 0
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 1, 1

[State Spark] 
type = Explod
trigger1 = projhit = 1
trigger2 = movehit
persistent = 1
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 1]
type = envcolor
trigger1 = movehit
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 1

[State HitBy]
type = nothitby
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1012
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State 8]
type = Hitdef
trigger1 = timemod = 4, 1
attr = A, HP
damage = ceil(5 * root, fvar(10)), 5
animtype = Hard
getpower = 0, 0
givepower = 10
hitflag = MAFDP
guardflag = MA
pausetime = 2, 0
guard.sparkno = 40; S9200
hitsound = S2, 9
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = 0, -2
air.type = Low
air.velocity = 0, -10
guard.velocity = -2
airguard.velocity = -2, -10
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall.recover = 0
fall.recovertime = 120
air.fall = 1
p1sprpriority = 5

[State Dissipate]
type = destroyself
trigger1 = time >= 100


;==============================================================================================
[Statedef 1006]
type = S
movetype = A
physics = S
poweradd = (parent, Var(10)=0) * 10
ctrl = 0
anim = 1015
velset = 2, 0
sprpriority = 5
juggle = 10

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45, -7
scale = 0.3, 1
random = 20, 20
sprpriority = 5
ownpal = 1
vel = -1, 0

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = -45, -7
scale = 0.3, 1
random = 20, 20
sprpriority = 5
ownpal = 1
vel = -1, 0

[State PlaySnd]
type = PlaySnd
trigger1 = !time
value = 1, 18

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6, 5
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1012
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = projhit = 1
trigger2 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 5]
type = velset
trigger1 = 1
x = 2

[State 5]
type = Hitdef
trigger1 = 1
attr = A, HP
damage = ceil(12 * root, fvar(10)), 3
animtype = Light
guardflag = MA
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
pausetime = 0, 9
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -2
air.type = Low
air.velocity = -2, -2
forcestand = 1
palfx.time = 20
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall.recover = (var(10) <= 0)
fall.recovertime = 120
juggle = 10
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5
p1sprpriority = 5

[State 1]
type = palfx
trigger1 = time = 0
time = 9999
add = 130, -70, -70
sinadd = 48, 48, 40, 120

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.55, .55, .55
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State 0]
type = VarSet
trigger1 = hitcount = 1
persistent = 0
v = 11
value = 50

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State Dissipate]
type = Changestate
trigger1 = movecontact
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1012


;==============================================================================================
[Statedef 1007]
type = S
movetype = A
physics = S
poweradd = (parent, Var(10)=0) * 10
ctrl = 0
anim = 1015
velset = 2, 0
sprpriority = 5
juggle = 10

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -1, -2

[State 0]
type = VarAdd
trigger1 = time = 0
v = 55
value = 1

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45, -7
scale = 0.3, 1
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = -45, -7
scale = 0.3, 1
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State 5]
type = velset
trigger1 = 1
x = 3

[State 5]
type = Hitdef
trigger1 = var(55) < 3
attr = S, SP
damage = ceil(40 * root, fvar(10)), 5
animtype = Hard
guardflag = MA
pausetime = 0, 10
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -2, -5
air.type = Low
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
air.velocity = -2, -5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5

[State 5]
type = Hitdef
trigger1 = var(55) >= 3
attr = S, SP
damage = ceil(40 * root, fvar(10)), 5
animtype = Hard
guardflag = MA
pausetime = 0, 10
guard.sparkno = 40; S9200
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -6, -5
air.type = Low
air.velocity = -6, -5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State 1]
type = palfx
trigger1 = time = 0
time = 9999
add = 130, -70, -70
sinadd = 48, 48, 40, 120

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.55, .55, .55
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6, 5
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1012
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[State 0]
type = VarAdd
trigger1 = moveguarded=1
persistent = 1
v = 4
value = 1

[State Dissipate]
type = Changestate
trigger1 = Var(55) >= 3
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1012

[State Dissipate]
type = Changestate
trigger1 = Var(55) < 3 && movecontact
value = ifelse(numtarget, 1990, 1012)


;==============================================================================================
[Statedef 1990]
type = S
movetype = A
physics = N
poweradd = (parent, Var(10)=0) * 10
ctrl = 0
sprpriority = 5

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -1, -2

[State 0]
type = VarAdd
trigger1 = time = 0
v = 55
value = 1

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45, -7
scale = 0.3, 1
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = -45, -7
scale = 0.3, 1
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State 5]
type = velset
trigger1 = 1
x = 3

[State 5]
type = Hitdef
trigger1 = var(55) < 2
attr = S, SP
damage = ceil(20 * root, fvar(10)), 3
animtype = Hard
guardflag = MA
pausetime = 0, 5
guard.sparkno = 40; S9200
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -2, -5
air.type = Low
air.velocity = -2, -5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5

[State 5]
type = Hitdef
trigger1 = var(55) >= 2
attr = S, SP
damage = ceil(20 * root, fvar(10)), 3
animtype = Hard
guardflag = MA
pausetime = 0, 5
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
ground.velocity = -6, -5
air.type = Low
air.velocity = -6, -5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State 1]
type = palfx
trigger1 = time = 0
time = 9999
add = 130, -70, -70
sinadd = 48, 48, 40, 120

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.55, .55, .55
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6, 5
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1012
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[State 0]
type = VarAdd
trigger1 = moveguarded=1
persistent = 1
v = 4
value = 1

[State Dissipate]
type = Changestate
trigger1 = Var(55) >= 3
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1012

[State Dissipate]
type = Changestate
trigger1 = Var(55) < 3 && movecontact
value = ifelse(numtarget, 1990, 1012)


;==============================================================================================
[Statedef 1008]
type = S
movetype = A
physics = S
poweradd = (parent, Var(10)=0) * 10
ctrl = 0
anim = 1015
velset = 3, 0
sprpriority = 5
juggle = 10

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -1, -2

[State 0]
type = VarAdd
trigger1 = time = 0
persistent = 1
v = 54
value = 1

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45, -7
scale = 0.3, 1
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = -45, -7
scale = 0.3, 1
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State 5]
type = velset
trigger1 = 1
x = 4

[State 5]
type = Hitdef
trigger1 = var(54) < 4
attr = S, SP
damage = ceil(40 * root, fvar(10)), 5
animtype = Hard
guardflag = MA
pausetime = 0, 10
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -2, -5
air.type = Low
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
air.velocity = -2, -5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5

[State 5]
type = Hitdef
trigger1 = var(54) >= 4
attr = S, SP
damage = ceil(40 * root, fvar(10)), 5
animtype = Hard
guardflag = MA
pausetime = 0, 10
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -6, -5
air.type = Low
air.velocity = -6, -5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State 1]
type = palfx
trigger1 = time = 0
time = 9999
add = 130, -70, -70
sinadd = 48, 48, 40, 120

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.55, .55, .55
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6, 5
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1012
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[State 0]
type = VarAdd
trigger1 = moveguarded=1
persistent = 1
v = 4
value = 1

[State Dissipate]
type = Changestate
trigger1 = Var(54) >= 4
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1012

[State Dissipate]
type = Changestate
trigger1 = Var(54) < 4 && movecontact
value = ifelse(numtarget, 1991, 1012)


;==============================================================================================
[Statedef 1991]
type = S
movetype = A
physics = S
poweradd = (parent, Var(10)=0) * 10
ctrl = 0
sprpriority = 5

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -1, -2

[State 0]
type = VarAdd
trigger1 = time = 0
persistent = 1
v = 54
value = 1

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -45, -7
scale = 0.3, 1
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 200
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = -45, -7
scale = 0.3, 1
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State 5]
type = velset
trigger1 = 1
x = 4

[State 5]
type = Hitdef
trigger1 = var(54) < 3
attr = S, SP
damage = ceil(16 * root, fvar(10)), 2
animtype = Hard
guardflag = MA
pausetime = 0, 10
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -2, -5
air.type = Low
air.velocity = -2, -5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5

[State 5]
type = Hitdef
trigger1 = var(54) >= 3
attr = S, SP
damage = ceil(16 * root, fvar(10)), 2
animtype = Hard
guardflag = MA
pausetime = 0, 7
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
ground.velocity = -6, -5
air.type = Low
air.velocity = -6, -5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State 1]
type = palfx
trigger1 = time = 0
time = 9999
add = 130, -70, -70
sinadd = 48, 48, 40, 120

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.55, .55, .55
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6, 5
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1012
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[State 0]
type = VarAdd
trigger1 = moveguarded=1
persistent = 1
v = 4
value = 1

[State Dissipate]
type = Changestate
trigger1 = Var(54) >= 4
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1012

[State Dissipate]
type = Changestate
trigger1 = Var(54) < 4 && movecontact
value = ifelse(numtarget, 1991, 1012)


;==============================================================================================
[Statedef 1022]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1019
velset = 2, 2
sprpriority = 5

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2, 7
persistent = 0
freqmul = 1.2
ignorehitpause = 1
volume = -50

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -9, 9

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -9, 9

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = 1/2*(var(52)), 1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = 1/2*(var(52)), 1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12213
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = 1/2*(var(53)), 1/2*(var(52))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = 1/2*(var(53)), 1/2*(var(52))
ignorehitpause = 1
pausemovetime = 9999

[State Dissipate]
type = destroyself
trigger1 = time >= 18


;==============================================================================================
[Statedef 1023]
type = S
movetype = I
physics = N
ctrl = 0
anim = 11243
velset = 0, 0
sprpriority = 5

[State Scale]
type = angledraw
trigger1 = 1
value = 0
scale = 0.7, 0.7

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 128
ignorehitpause = 1

[State PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2, 7
persistent = 0
freqmul = 1.2
ignorehitpause = 1
volume = -50

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -9, 9
//[State 1]
//type = PalFx
//trigger1 = time = [5, 20]
//time = 1
//add = Ceil(-Time/25.0*300), Ceil(-Time/25.0*300), Ceil(-Time/25.0*300)

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.60, .60, .60
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State charge sound]
type = playsnd
trigger1 = time = 0
value = 2, 7
freqmul = 0.6

[State charge sound]
type = playsnd
trigger1 = time = 0
value = 2, 7

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -9, 9

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = 1/2*(var(52)), 1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = 1/2*(var(52)), 1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12213
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = 1/2*(var(53)), 1/2*(var(52))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = 1/2*(var(53)), 1/2*(var(52))
ignorehitpause = 1
pausemovetime = 9999

[State Dissipate]
type = destroyself
trigger1 = time >= 24


;==============================================================================================
[Statedef 1010]
type = A
movetype = A
physics = S
poweradd = 0
ctrl = 0
anim = 10440
velset = 0, 0
sprpriority = 5
movehitpersist = 1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -3, -12

[State FireBa]
type = Explod
trigger1 = 1
persistent = 1
anim = 12212
id = 12212
postype = p1
pos = -7, -45
scale = 1, 0.3
random = 50, 20
sprpriority = 5
ownpal = 1
vel = 0, var(51)

[State FireBaa]
type = Explod
trigger1 = 1
persistent = 1
anim = 12215
id = 12212
postype = p1
pos = -7, -45
scale = 1, 0.3
random = 50, 20
sprpriority = 5
ownpal = 1
vel = 0, var(51)

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1010
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State 5]
type = velset
trigger1 = 1
y = 11.5

[State 5]
type = Hitdef
trigger1 = !((movecontact + movereversed) % 3)
attr = A, HP
damage = 0, 0
hitflag = MAFD
animtype = Hard
guardflag = MA
pausetime = 0, 8
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -7
air.type = Low
air.velocity = -7, -4
forcestand = 1
palfx.time = 20
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall = 1
fall.recover = 0
fall.recovertime = 120
p1sprpriority = 5

[State 1]
type = palfx
trigger1 = time = 0
time = 9999
add = 130, -70, -70
sinadd = 48, 48, 40, 120

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.55, .55, .55
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -9, 9

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -9, 9

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -7, -45
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = 1/2*(var(52)), 1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -7, -45
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = 1/2*(var(52)), 1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = 12213
id = 12212
postype = p1
pos = -7, -45
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = 1/2*(var(53)), 1/2*(var(52))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -7, -45
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = 1/2*(var(53)), 1/2*(var(52))
ignorehitpause = 1
pausemovetime = 9999

[State Dissipate]
type = destroyself
trigger1 = time >= 26


;==============================================================================================
[Statedef 1011]
type = S
movetype = A
physics = N
ctrl = 0
anim = 10070
velset = 0, 0
sprpriority = -5

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 128
ignorehitpause = 1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -3, -9

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -3, 3

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -7, -45
random = 50, 20
sprpriority = -5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(51)), 0

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -7, -45
random = 50, 20
sprpriority = -5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(52)), 0

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1

[State front]
type = velset
trigger1 = 1
Y = -0.5

[State 1]
type = palfx
trigger1 = time = 0
time = 9999
add = 130, -70, -70
sinadd = 48, 48, 40, 120

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.55, .55, .55
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State Dissipate]
type = destroyself
trigger1 = Animtime = 0


;==============================================================================================
[Statedef 1015]
type = S
movetype = A
physics = N
ctrl = 0
anim = 12200
velset = 0, 0

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -3, -12

[State FireBaa]
type = Explod
trigger1 = time < 25 && random <= 200
persistent = 1
anim = 12215
id = 12212
postype = p1
pos = -7, -45
scale = 1, 0.3
random = 10, 20
sprpriority = 5
ownpal = 1
vel = 0, var(51)
accel = 0, -0.2

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 9999

[State NHB]
type = posset
trigger1 = time = 0
y = 0

[State 5]
type = Hitdef
trigger1 = animelem = 1
attr = S, SP
damage = 10, 10
animtype = Hard
guardflag = MA
pausetime = 0, 0
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = 0, -2
air.type = Low
air.velocity = 0, -2
forcestand = 1
palfx.time = 20
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall.recover = (var(10) <= 0)
fall.recovertime = 120
p1sprpriority = 5

[State Randomizer]
type = varrandom
trigger1 = time = 0
v = 48
range = -5, 5

[State front]
type = sprpriority
trigger1 = time = 0
value = var(48)
ignorehitpause = 1

[State front]
type = velset
trigger1 = time = 0
Y = -0.5

[State 1]
type = palfx
trigger1 = time = 0
time = 9999
add = 130, -70, -70
sinadd = 48, 48, 40, 120

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.55, .55, .55
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State Dissipate]
type = destroyself
trigger1 = Animtime = 0


;==============================================================================================
[Statedef 1050]
type = S
movetype = I
physics = S
anim = 10900
velset = 0
ctrl = 0
sprpriority = 2

[State End] 
type = ChangeState 
trigger1 = time >= 20
value = 1051
ctrl = 0


;==============================================================================================
[Statedef 1051]
type = S
movetype = I
physics = S
velset = 0
ctrl = 0
sprpriority = 1

[State charge sound]
type = playsnd
trigger1 = time = 0
value = 7, 4
volume = -50

[State 2]
type = Playsnd
trigger1 = time = 0
value = 1, 3

[State Randomizer1]
type = varrandom
trigger1 = 1
v = 51
range = -2, -4

[State Randomizer2]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State FireB]
type = Explod
trigger1 = random <= 600
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p1
pos = 14, -6
random = 95, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = -(var(52))/3, (var(51))/10

[State Randomizer]
type = varrandom
trigger1 = 1
v = 35
range = -2, -4

[State Randomizer3]
type = varrandom
trigger1 = 1
v = 36
range = -3, -9

[State FireB]
type = Explod
trigger1 = random <= 600
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p1
pos = 2, -6
random = 95, 10
sprpriority = 5
ownpal = 1
vel = var(36), (var(35))
scale = 0.1, 0.75
accel = -(var(36))/3, (var(35))/10

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = 2, 10

[State FireBa]
type = Explod
trigger1 = time > 5 && random <= 400
persistent = 1
anim = 12212
id = 12212
postype = p1
pos = 0, -6
random = 50, 0
sprpriority = 5
ownpal = 1
vel = 0, -var(51)
scale = 1, 0.2

[State FireB]
type = Explod
trigger1 = time > 5 && random <= 200
persistent = 1
anim = 12215
id = 12212
postype = p1
pos = 0, -8
random = 80, 0
sprpriority = -5
ownpal = 1
vel = 0, -var(51)
scale = 1, 0.2

[State FireB]
type = Helper
trigger1 = time = 0
persistent = 0
ignorehitpause = 1
stateno = 94063
id = 2503
postype = p1
pos = 8, 9
sprpriority = -2
ownpal = 1

[State PowerAdd]
type = PowerAdd 
trigger1 = 1
value = ifelse(time>80, 12, ifelse(time>60, 10, ifelse(time>40, 8, ifelse(time>20, 6, 4))))

[State Blink] 
type = PalFX 
trigger1 = power >= powermax
time = 24
add = 155, 155, 155 
sinadd = -155, -155, -155, 100
persistent= 0

[State Remove Flaming Aura]
type = RemoveExplod
trigger1 = power >= powermax
trigger2 = time > 50
trigger2 = command != "hold_b" ||command != "hold_y" 
id = 9406

[State Remove Windy2]
type = RemoveExplod
trigger1 = power >= powermax
trigger2 = time > 50
trigger2 = command != "hold_b" ||command != "hold_y" 
id = 10

[State End] 
type = ChangeState 
trigger1 = power >= powermax
trigger2 = time > 50
trigger2 = command != "hold_b" ||command != "hold_y" 
value = 1052
ctrl = 0


;==============================================================================================
[Statedef 1052]
type = S
movetype = I
physics = S
anim = 10901
velset = 0
ctrl = 0
sprpriority = 2

[State Remove Windy2]
type = RemoveExplod
trigger1 = power = 3000
id = 10

[State End] 
type = ChangeState 
trigger1 = animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 94063]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
anim = 12030

[State 01]
type = sprpriority
trigger1 = 1
value = -2

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright = 0, 0, 0
PalContrast = 100, 80, 0
PalMul = 0.5, 0.5, 0.5
FrameGap = 1
Trans = add

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 9999

[State Dissipate]
type = destroyself
trigger1 = parent, stateno != 1051


;==============================================================================================
[Statedef 1055]
type = S
physics = N
ctrl = 0
anim = 40

[State 1]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State Shadows]
type = Afterimage
triggerall = var(10) = 0
trigger1 = time = 0
time = 22
length = 13
PalBright = 0, 0, 0
PalContrast = 148, 148, 148
paladd = 0, 0, 0
palmul = 1, 1, 1
FrameGap = 4
Trans = Add1

[State 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 9]
type = changestate
trigger1 = time = 2
value = 1056


;==============================================================================================
[Statedef 1056]
type = A
movetype = I
physics = N
anim = 100
velset = 4.5, -1
ctrl = 0

[State 1]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State PosAdd]
type = PosAdd
trigger1 = animelem = 2
y = -10

[State Spr]
type = sprpriority
trigger1 = 1
value = 1

[State VelAdd]
type = veladd
trigger1 = 1
y = 0.15

[State 9]
type = ChangeState
trigger1 = animelem = 3, >=0
trigger1 = vel y > 0
trigger1 = pos y >= -5
value = 1057


;==============================================================================================
[Statedef 1057]
type = S
movetype = I
physics = C
anim = 12120
ctrl = 0

[State VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 1]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State Slide Sound]
type = playsnd
trigger1 = animelem = 1
value = 0, 11
volume = -50

[State dust]
type = MakeDust
trigger1 = 1
pos = -10, -2
spacing = 5

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 1200]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1200
velset = 4, 0

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State 0]
type = posset
trigger1 = time = 0
y = 0

[State 1]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State HB]
type = HitBy
trigger1 = 1
value = SCA, AA, AP
time = 1

[State 9]
type = changestate
trigger1 = animtime = 0
value = 1201


;==============================================================================================
[Statedef 1201]
type = S
movetype = I
physics = N
anim = 1201
velset = 4, 0

[State 0]
type = posset
trigger1 = time = 0
y = 0

[State 1]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State HB]
type = HitBy
trigger1 = 1
value = SCA, AA, AP
time = 1

[State 3]
type = MakeDust
trigger1 = 1
pos = -10, -2
spacing = 5

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = 1202
ctrl = 0


;==============================================================================================
[Statedef 1202]
type = S
movetype = I
physics = C
ctrl = 0
anim = 11

[State 8]
type = turn
trigger1 = time = 5
trigger1 = p2dist x < -5

[State 9]
type = changestate
trigger1 = time = 5
value = 11
ctrl = 1 


;==============================================================================================
[Statedef 1210]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1200
velset = 4, 0

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State 0]
type = posset
trigger1 = time = 0
y = 0

[State 1]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State HB]
type = HitBy
trigger1 = 1
value = SCA, AA, AP
time = 1

[State 9]
type = changestate
trigger1 = animtime = 0
value = 1211


;==============================================================================================
[Statedef 1211]
type = S
movetype = I
physics = N
anim = 1211
velset = 4, 0

[State 0]
type = posset
trigger1 = time = 0
y = 0

[State 1]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State HB]
type = HitBy
trigger1 = 1
value = SCA, AA, AP
time = 1

[State 3]
type = MakeDust
trigger1 = 1
pos = -10, -2
spacing = 5

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = 1202
ctrl = 0


;==============================================================================================
[Statedef 1220]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1200
velset = 4, 0

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State 0]
type = posset
trigger1 = time = 0
y = 0

[State HB]
type = HitBy
trigger1 = 1
value = SCA, AA, AP
time = 1

[State 1]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 9]
type = changestate
trigger1 = animtime = 0
value = 1221


;==============================================================================================
[Statedef 1221]
type = S
movetype = I
physics = N
anim = 1221
velset = 4, 0

[State 0]
type = posset
trigger1 = time = 0
y = 0

[State 1]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State HB]
type = HitBy
trigger1 = 1
value = SCA, AA, AP
time = 1

[State 3]
type = MakeDust
trigger1 = 1
pos = -10, -2
spacing = 5

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = 1202
ctrl = 0


;==============================================================================================
[Statedef 3960]
type = S
movetype = I
physics = S
juggle = 0
poweradd = 0
ctrl = 0
anim = 3960
velset = 0, 0
sprpriority = -1

[State 2]
type = Playsnd
trigger1 = time = 0
value = 4, 5

[State 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State Shadows]
type = Afterimage
triggerall = var(10) = 0
trigger1 = time = 0
time = 300
length = 21
PalBright = 0, 0, 0
PalContrast = 128, 128, 128
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = add1

[State 6]
type = Velset
trigger1 = time = 0
x = 3

[State 6]
type = Velset
trigger1 = animelem = 5
x = -3

[State 3]
type = ChangeState
trigger1 = Animtime = 0
value = 3961


;==============================================================================================
[Statedef 3961]
type = S
movetype = I
physics = N
juggle = 0
poweradd = (Var(10)=0) * 0
ctrl = 0
anim = 3961
velset = 9, 0
sprpriority = -1

[State 2]
type = Width
trigger1 = 1
value = 10, 0

[State 5]
type = PlaySnd
trigger1 = time = 0
value = 2, 4
volume = 255

[State 2]
type = Playsnd
trigger1 = time = 0
value = 21, 6

[State 2]
type = Turn
trigger1 = p2dist x < 0

[State 2]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 2]
type = Velmul
trigger1 = Time >= 25
x = 0.92

[State 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3]
type = Velset
trigger1 = time = 45
trigger2 = frontedgedist <= 10
x = 0

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 33
trigger2 = frontedgedist <= 10
trigger3 = backedgedist <= 0
trigger3 = time > 4
time = 0

[State 3]
type = ChangeState
trigger1 = time = 45
trigger2 = frontedgedist <= 10
value = 3962
ctrl = 0

[State 3]
type = ChangeState
trigger1 = backedgedist <= 0
trigger1 = time > 4
value = 3962
ctrl = 0


;==============================================================================================
[Statedef 3962]
type = S
physics = S
movetype = I
ctrl = 0
anim = 3962
sprpriority = -1

[State HB]
type = HitBy
trigger1 = !time
value = SCA, AA, AP, AT
time = 0

[State 52, 1]
type = VelSet
trigger1 = time = 0
y = 0

[State 52, 3]
type = PosSet
trigger1 = time = 0
y = 0

[State 52, 4]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 3970]
type = S
movetype = I
physics = S
juggle = 0
poweradd = 0
ctrl = 0
anim = 3960
velset = 0, 0
sprpriority = -1

[State 2]
type = Playsnd
trigger1 = time = 0
value = 4, 5

[State 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State Shadows]
type = Afterimage
triggerall = var(10) = 0
trigger1 = time = 0
time = 999
length = 21
PalBright = 0, 0, 0
PalContrast = 128, 128, 128
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State 6]
type = Velset
trigger1 = time = 0
x = 3

[State 6]
type = Velset
trigger1 = animelem = 5
x = -3

[State 3]
type = ChangeState
trigger1 = Animtime = 0
value = 3971


;==============================================================================================
[Statedef 3971]
type = S
movetype = I
physics = N
juggle = 0
poweradd = (Var(10)=0) * 0
ctrl = 0
anim = 3961
velset = 6.5, 0
sprpriority = -1

[State 2]
type = Width
trigger1 = 1
value = 10, 0

[State 5]
type = PlaySnd
trigger1 = time = 0
value = 2, 4
volume = 255

[State 2]
type = Playsnd
trigger1 = time = 0
value = 21, 6

[State 2]
type = Turn
trigger1 = p2dist x < 0

[State 2]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 2]
type = Velmul
trigger1 = Time >= 15
trigger1 = vel x > 0
x = 0.92

[State 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3]
type = Velset
trigger1 = time = 25
trigger2 = frontedgedist <= 10
x = 0

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 13
trigger2 = frontedgedist <= 10
trigger3 = backedgedist <= 0
trigger3 = time > 4
time = 0

[State 3]
type = ChangeState
trigger1 = time = 25
trigger2 = frontedgedist <= 10
value = 3962
ctrl = 0

[State 3]
type = ChangeState
trigger1 = backedgedist <= 0
trigger1 = time > 4
value = 3962
ctrl = 0


;==============================================================================================
[Statedef 3980]
type = S
movetype = I
physics = S
juggle = 0
poweradd = 0
ctrl = 0
anim = 3960
velset = 0, 0
sprpriority = -1

[State 2]
type = Playsnd
trigger1 = time = 0
value = 4, 5

[State 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State Shadows]
type = Afterimage
triggerall = var(10) = 0
trigger1 = time = 0
time = 999
length = 21
PalBright = 0, 0, 0
PalContrast = 128, 128, 128
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State 6]
type = Velset
trigger1 = time = 0
x = -3

[State 6]
type = Velset
trigger1 = animelem = 5
x = 3

[State 3]
type = ChangeState
trigger1 = Animtime = 0
value = 3981


;==============================================================================================
[Statedef 3981]
type = S
movetype = I
physics = N
juggle = 0
poweradd = (Var(10)=0) * 0
ctrl = 0
anim = 3961
velset = -9, 0
sprpriority = -1

[State 2]
type = Width
trigger1 = 1
value = 10, 0

[State 2]
type = Playsnd
trigger1 = time = 0
value = 21, 6

[State 5]
type = PlaySnd
trigger1 = time = 0
value = 2, 4
volume = 255

[State 2]
type = Turn
trigger1 = p2dist x < 0

[State 2]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 2]
type = Velmul
trigger1 = Time >= 25
trigger1 = vel x < 0
x = 0.92

[State 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3]
type = Velset
trigger1 = time = 45
trigger2 = frontedgedist <= 10
x = 0

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 33
trigger2 = frontedgedist <= 10
trigger3 = backedgedist <= 0
time = 0

[State 3]
type = ChangeState
trigger1 = time = 45
trigger2 = frontedgedist <= 10
value = 3962
ctrl = 0

[State 3]
type = ChangeState
trigger1 = backedgedist <= 0
trigger1 = time > 4
value = 3962
ctrl = 0


;==============================================================================================
[Statedef 3990]
type = S
movetype = I
physics = S
juggle = 0
poweradd = 0
ctrl = 0
anim = 3960
velset = 0, 0
sprpriority = -1

[State 2]
type = Playsnd
trigger1 = time = 0
value = 4, 5

[State 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State Shadows]
type = Afterimage
triggerall = var(10) = 0
trigger1 = time = 0
time = 999
length = 21
PalBright = 0, 0, 0
PalContrast = 128, 128, 128
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State 6]
type = Velset
trigger1 = time = 0
x = -3

[State 6]
type = Velset
trigger1 = animelem = 5
x = 3

[State 3]
type = ChangeState
trigger1 = Animtime = 0
value = 3991


;==============================================================================================
[Statedef 3991]
type = S
movetype = I
physics = N
juggle = 0
poweradd = (Var(10)=0) * 0
ctrl = 0
anim = 3961
velset = -6.5, 0
sprpriority = -1

[State 2]
type = Width
trigger1 = 1
value = 10, 0

[State 2]
type = Playsnd
trigger1 = time = 0
value = 21, 6

[State 2]
type = Turn
trigger1 = p2dist x < 0

[State 5]
type = PlaySnd
trigger1 = time = 0
value = 2, 4
volume = 255

[State 2]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 2]
type = Velmul
trigger1 = Time >= 15
trigger1 = vel x < 0
x = 0.92

[State 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3]
type = Velset
trigger1 = time = 25
trigger2 = frontedgedist <= 10
x = 0

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 13
trigger2 = frontedgedist <= 10
trigger3 = backedgedist <= 0
time = 0

[State 3]
type = ChangeState
trigger1 = time = 25
trigger2 = frontedgedist <= 10
value = 3962
ctrl = 0

[State 3]
type = ChangeState
trigger1 = backedgedist <= 0
trigger1 = time > 4
value = 3962
ctrl = 0


;==============================================================================================
[Statedef 1250]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1200
velset = 4, 0

[State 0]
type = posset
trigger1 = time = 0
y = 0

[State 1]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 9]
type = changestate
trigger1 = animtime = 0
value = 1251


;==============================================================================================
[Statedef 1251]
type = C
movetype = I
physics = N
anim = 1250

[State 0]
type = posset
trigger1 = time = 0
y = 0

[State 1]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 9]
type = changestate
trigger1 = animelem = 2
value = 1252


;==============================================================================================
[Statedef 1252]
type = L
movetype = I
physics = C

[State 0]
type = posset
trigger1 = time = 0
y = 0

[State 1]
type = playsnd
trigger1 = time = 0
value = F7, 0

[State 9]
type = changestate
trigger1 = animtime = 0
value = 1253


;==============================================================================================
[Statedef 1253]
type = A
movetype = I
physics = S
anim = 1253

[State 0]
type = posset
trigger1 = time = 0
y = 0

[State 9]
type = ChangeState
trigger1 = animelem = 4
value = 1254


;==============================================================================================
[Statedef 1254]
type = A
movetype = I
physics = A
velset = -3.5, -2.5

[State 9]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 1500]
type = S
movetype = A
physics = S
juggle = 20
poweradd = (Var(10)=0) * 100
anim = 1500
velset = 0, 0
ctrl = 0

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State 0]
type = VarSet
trigger1 = time = 0
v = 4
value = 0

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State Shoryuken]
type = PlaySnd
trigger1 = animelem = 2
value = 4, 0
channel = 0
volume = 255

[State 3]
type = HitDef
trigger1 = animelem = 2
attr = S, SA
damage = 35, 10
animtype = Medium
getpower = (Var(10)=0) * 30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 12, 12
sparkxy = -10, -45
hitsound = S6, 5
guardsound = S0, 100
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0, -9
air.velocity = 0, -9
fall.animtype = Hard
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 120
forcestand = 1

[State 3]
type = HitDef
trigger1 = animelem = 3
attr = S, SA
damage = 35, 10
animtype = Hard
getpower = (Var(10)=0) * 25
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 13, 15
sparkxy = -10, -60
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -1, -9
air.velocity = -1, -9
fall.animtype = Hard
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 120
forcestand = 1

[State Seoi Shoryuken]
type = VarSet
trigger1 = 1
v = 34
value = 20

[State 5]
type = ChangeState
trigger1 = animelem = 4
value = 1510


;==============================================================================================
[Statedef 1550]
type = S
movetype = A
physics = S
poweradd = (Var(10)=0) * 100
anim = 1600
velset = 0, 0
ctrl = 0

[State Remove Fist Fires]
type = RemoveExplod
trigger1 = 1
id = 2600

[State Remove Fist Fires]
type = RemoveExplod
trigger1 = 1
id = 2601

[State Remove Fist Fires]
type = RemoveExplod
trigger1 = 1
id = 2602

[State Remove Fist Fires]
type = RemoveExplod
trigger1 = 1
id = 2603

[State 3]
type = VarSet
trigger1 = time = 0
v = 34
value = 0

[State 0]
type = VarSet
trigger1 = time = 0
v = 4
value = 0

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State hnohn]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 5
channel = 0
volume = 255

[State 5]
type = ChangeState
trigger1 = !animtime
value = 1560


;==============================================================================================
[Statedef 1510]
type = A
movetype = A

[State 1]
type = NotHitBy
trigger1 = anim = 1500
value = , AP
time = 1

[State 1]
type = VelSet
trigger1 = time = 0
x = 4
y = -6

[State 4]
type = HitDef
trigger1 = animelem = 4
attr = A, SA
damage = 30, 10
animtype = Diagup
getpower = (Var(10)=0) * 30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 10, 12
sparkxy = -10, -80
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
air.type = High
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -3, -8
air.velocity = -3, -8
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 120
forcestand = 1

[State 2]
type = VelMul
trigger1 = 1
x = 0.88

[State 3]
type = VelAdd
trigger1 = 1
y = 0.40

[State 5]
type = ChangeAnim
trigger1 = vel y > -1
value = 1510
persistent = 0

[State 8]
type = velset
trigger1 = anim = 1510
x = 0
persistent = 0

[State Idle]
type = statetypeset
trigger1 = anim != 1500
movetype = I

[State 9]
trigger1 = vel y > 0
trigger1 = pos y >= 0
type = ChangeState
value = 1520


;==============================================================================================
[Statedef 1560]
type = A
movetype = A
anim = 1601

[State 1]
type = VelSet
trigger1 = time = 0
x = 6
y = -8

[State Randomizer]
type = varrandom
trigger1 = 1
v = 55
range = -20, 20

[State Randomizer]
type = varrandom
trigger1 = 1
v = 56
range = -100, -60

[State 4]
type = HitDef
trigger1 = command = "x" || command = "y" || command = "z"
attr = S, SA
damage = 10, 3
animtype = Hard
getpower = (Var(10)=0) * 50
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 3, 3
sparkxy = var(55), var(56)
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4, -14
air.velocity = -4, (vel Y) - 1
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 40
forcestand = 1

[State 4]
type = HitDef
trigger1 = animelem = 1
attr = S, SA
damage = 10, 3
animtype = Hard
getpower = (Var(10)=0) * 50
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 12, 12
sparkxy = var(55), var(56)
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4, -10
air.velocity = -4, -10
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 40
forcestand = 1

[State ChangeAnim]
type = ChangeAnim
triggerall = anim = 1601
trigger1 = command = "x" || command = "y" || command = "z"
trigger2 = AILevel && p2life > 0 && timemod = 2, 1 && time > 2
trigger2 = random < (1000 * (AIlevel ** 2 / 64.0))
value = anim
elem = ifelse(animelemtime(10)>=0, 2, animelemNo(0) + 1)

[State 7]
type = ChangeAnim
trigger1 = vel y > -1
value = 1610
persistent = 0

[State 2]
type = VelMul
trigger1 = 1
x = 0.88

[State 3]
type = VelAdd
trigger1 = 1
y = 0.40

[State 5]
type = ChangeAnim
trigger1 = vel y > -1
persistent = 0
value = 1610
persistent = 0

[State 8]
type = velset
trigger1 = anim = 1510
x = 0
persistent = 0

[State Idle]
type = statetypeset
trigger1 = anim != 1601
movetype = I

[State 9]
trigger1 = vel y > 0
trigger1 = pos y >= 0
type = ChangeState
value = 1570


;==============================================================================================
[Statedef 1520]
type = S
movetype = I
physics = S
anim = 1520
velset = 0, 0

[State 3]
type = PosSet
trigger1 = time = 0
y = 0

[State 3]
type = VarSet
trigger1 = time = 0
v = 34
value = 20

[State 52, Land SOund]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 9]
type = ChangeState
trigger1 = time = 3
value = 0
ctrl = 1


;==============================================================================================
[Statedef 1521]
type = S
movetype = I
physics = S
anim = 1520
velset = 0, 0

[State 3]
type = PosSet
trigger1 = time = 0
y = 0

[State 3]
type = VarSet
trigger1 = time = 0
v = 34
value = 20

[State 52, Land SOund]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 9]
type = ChangeState
trigger1 = time = 7
value = 0
ctrl = 1


;==============================================================================================
[Statedef 1570]
type = S
movetype = I
physics = S
anim = 1620
velset = 0, 0

[State 3]
type = PosSet
trigger1 = time = 0
y = 0

[State 52, Land SOund]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 9]
type = ChangeState
trigger1 = time = 3
value = 0
ctrl = 1


;==============================================================================================
[Statedef 1600]
type = S
movetype = A
juggle = 20
poweradd = (Var(10)=0) * 110
anim = 1500
velset = 0, 0
ctrl = 0

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State 3]
type = VarSet
trigger1 = time = 0
v = 34
value = 0

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State Shoryuken]
type = PlaySnd
trigger1 = animelem = 2
value = 4, 1
channel = 0
volume = 255

[State 3]
type = HitDef
trigger1 = animelem = 2
attr = S, SA
damage = 40, 10
animtype = Medium
getpower = (Var(10)=0) * 30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 12, 12
sparkxy = -10, -45
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0, -9
air.velocity = 0, -9
fall.animtype = Hard
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 120
forcestand = 1

[State 3]
type = HitDef
trigger1 = animelem = 3
attr = S, SA
damage = 40, 10
animtype = Hard
getpower = (Var(10)=0) * 25
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 13, 16
sparkxy = -0, -60
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0, -9
air.velocity = 0, -9
fall.animtype = Hard
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 120
forcestand = 1

[State Seoi Shoryuken]
type = VarSet
trigger1 = 1
v = 34
value = 20

[State 9]
type = ChangeState
trigger1 = animelem = 4
value = 1610


;==============================================================================================
[Statedef 1650]
type = S
movetype = A
poweradd = (Var(10)=0) * 110
anim = 1600
velset = 0, 0
ctrl = 0

[State Remove Fist Fires]
type = RemoveExplod
trigger1 = 1
id = 2600

[State Remove Fist Fires]
type = RemoveExplod
trigger1 = 1
id = 2601

[State Remove Fist Fires]
type = RemoveExplod
trigger1 = 1
id = 2602

[State Remove Fist Fires]
type = RemoveExplod
trigger1 = 1
id = 2603

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State hnohn]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 5
channel = 0
volume = 255

[State 5]
type = ChangeState
trigger1 = !animtime
value = 1660


;==============================================================================================
[Statedef 1610]
type = A
movetype = A

[State NHB]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 1

[State 1]
type = VelSet
trigger1 = time = 0
x = 13
y = -8.5

[State 2]
type = VelMul
trigger1 = 1
x = 0.85

[State 3]
type = VelAdd
trigger1 = 1
y = 0.44

[State 9]
type = HitDef
trigger1 = animelem = 4
attr = A, SA
damage = 35, 4
animtype = Hard
getpower = (Var(10)=0) * 30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 11, 13
sparkxy = -10, -80
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4, -9
air.velocity = -4, -9
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 120
forcestand = 1

[State 5]
type = ChangeAnim
trigger1 = vel y > -1
value = 1510
persistent = 0

[State 6]
type = velset
trigger1 = anim = 1510
x = 0
persistent = 0

[State Idle]
type = statetypeset
trigger1 = anim != 1500
movetype = I

[State 9]
trigger1 = vel y > 0
trigger1 = pos y >= 0
type = ChangeState
value = 1520


;==============================================================================================
[Statedef 1660]
type = A
movetype = A
anim = 1601

[State 1]
type = VelSet
trigger1 = time = 0
x = 15
y = -10.5

[State 2]
type = VelMul
trigger1 = 1
x = 0.85

[State 3]
type = VelAdd
trigger1 = 1
y = 0.44

[State Randomizer]
type = varrandom
trigger1 = 1
v = 55
range = -20, 20

[State Randomizer]
type = varrandom
trigger1 = 1
v = 56
range = -100, -60

[State 4]
type = HitDef
trigger1 = command = "x" || command = "y" || command = "z"
attr = S, SA
damage = 10, 3
animtype = Hard
getpower = (Var(10)=0) * 50
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 3, 3
sparkxy = var(55), var(56)
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4, -14
air.velocity = -4, (vel Y) - 1
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 40
forcestand = 1

[State 4]
type = HitDef
trigger1 = animelem = 1
attr = S, SA
damage = 10, 3
animtype = Hard
getpower = (Var(10)=0) * 50
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 12, 12
sparkxy = var(55), var(56)
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4, -12
air.velocity = -4, -12
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 40
forcestand = 1

[State ChangeAnim]
type = ChangeAnim
triggerall = anim = 1601
trigger1 = command = "x" || command = "y" || command = "z"
trigger2 = AILevel && p2life > 0 && timemod = 2, 1 && time > 2
trigger2 = random < (1000 * (AIlevel ** 2 / 64.0))
value = anim
elem = ifelse(animelemtime(10)>=0, 2, animelemNo(0) + 1)

[State 7]
type = ChangeAnim
trigger1 = vel y > -1
value = 1610
persistent = 0

[State 6]
type = velset
trigger1 = anim = 1510
x = 0
persistent = 0

[State Idle]
type = statetypeset
trigger1 = anim != 1601
movetype = I

[State 9]
trigger1 = vel y > 0
trigger1 = pos y >= 0
type = ChangeState
value = 1570


;==============================================================================================
[Statedef 1700]
type = S
movetype = A
juggle = 20
poweradd = (Var(10)=0) * 120
anim = 1500
velset = 0, 0
ctrl = 0
sprpriority = 2

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State 3]
type = VarSet
trigger1 = time = 0
v = 34
value = 0

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State Fist Fire Frame 1 & 2]
type = explod
trigger1 = animelem = 1 || animelem = 2
anim = ifelse(animelemtime(1)=0, 2600, 2601)
id = ifelse(animelemtime(1)=0, 2600, 2601)
pos = 0, 0
postype = p1
bindtime = -1
removetime = 15
sprpriority = 3
ownpal = 1
removeongethit = 1
supermovetime = 10

[State Fist Fire 3]
type = explod
trigger1 = animelem = 3
anim = 2602
id = 2602
pos = 0, 0
postype = p1
bindtime = -1
removetime = 15
sprpriority = 3
scale = ifelse(animelemtime(3)=0, 1, 0.8), 1
ownpal = 1
removeongethit = 1

[State Remove Fist Fire 1 & 2]
type = RemoveExplod
trigger1 = anim = 1500
trigger1 = animelem = 2 || animelem = 3
id = ifelse(animelemtime(2)=0, 2600, 2601)

[State Remove Fist Fire 3]
type = RemoveExplod
trigger1 = animelem = 4 && anim = 1500
id = 2602

[State Shoryuken]
type = PlaySnd
trigger1 = animelem = 2
value = 4, 2
channel = 0
volume = 255

[State 3]
type = HitDef
trigger1 = animelem = 2
attr = S, SA
damage = 45, 10
animtype = Medium
getpower = (Var(10)=0) * 30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 12, 12
sparkxy = -10, -45
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = 0, -9
air.velocity = 0, -9
fall.animtype = Hard
palfx.time = 7
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 120
forcestand = 1

[State 4]
type = HitDef
trigger1 = animelem = 3
attr = S, SA
damage = 55, 10
animtype = medium
getpower = (Var(10)=0) * 30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 13, 15
sparkxy = -10, -60
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -0 , -9
air.velocity = -0, -9
palfx.time = 7
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 120
forcestand = 1

[State FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2500
id = 2500
postype = p2
pos = -10, -40
random = 50, 40
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2500
id = 2500
postype = p2
pos = -10, -80
random = 50, 40
bindtime = -1
sprpriority = 2
ownpal = 1

[State 6]
type = PlaySnd
trigger1 = animelem = 2
value = 6, 9

[State Seoi Shoryuken]
type = VarSet
trigger1 = 1
v = 34
value = 20

[State 9]
type = ChangeState
trigger1 = animelem = 4
value = 1710


;==============================================================================================
[Statedef 1750]
type = S
movetype = A
poweradd = (Var(10)=0) * 120
anim = 1600
velset = 0, 0
ctrl = 0
sprpriority = 2

[State Remove Fist Fires]
type = RemoveExplod
trigger1 = 1
id = 2600

[State Remove Fist Fires]
type = RemoveExplod
trigger1 = 1
id = 2601

[State Remove Fist Fires]
type = RemoveExplod
trigger1 = 1
id = 2602

[State Remove Fist Fires]
type = RemoveExplod
trigger1 = 1
id = 2603

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State hnohn]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 5
channel = 0
volume = 255

[State 5]
type = ChangeState
trigger1 = !animtime
value = 1760


;==============================================================================================
[Statedef 1710]
type = A
movetype = A
velset = 14, -11
sprpriority = 2

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = 3, 9

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -3, 3

[State FireB]
type = Explod
trigger1 = vel Y < -1
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 18, -124
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(51)), -(var(51))/6

[State FireB]
type = Explod
trigger1 = vel Y < -1
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 18, -124
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(52)), -(var(51))/6

[State hadouken hit helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "hand fire"
pos = 0, 0
postype = p1
stateno =1062
ownpal = 1

[State 2]
type = VelMul
trigger1 = 1
x = 0.90

[State 3]
type = VelAdd
trigger1 = 1
y = 0.46

[State 4]
type = HitDef
trigger1 = animelem = 4
attr = A, SA
damage = 40, 5
animtype = Hard
getpower = (Var(10)=0) * 30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 10, 12
sparkxy = -10, -80
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5, -11
air.velocity = -5, -11
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 120
forcestand = 1

[State FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State 7]
type = ChangeAnim
trigger1 = vel y > -1
value = 1510
persistent = 0

[State Fist Fire Frame 5]
type = explod
trigger1 = anim = 1510
trigger1 = animelem = 1
anim = 2604
id = 2604
pos = 0, -10
postype = p1
bindtime = -1
sprpriority = 3
ownpal = 1
vel = 0, -0.1
accel = 0, -0.1
removeongethit = 1

[State 8]
type = velset
trigger1 = anim = 1510
x = 0
persistent = 0

[State Idle]
type = statetypeset
trigger1 = anim != 1500
movetype = I

[State 9]
trigger1 = vel y > 0
trigger1 = pos y >= 0
type = ChangeState
value = 1520


;==============================================================================================
[Statedef 1062]
type = S
movetype = A
physics = N
ctrl = 0
anim = 2603
velset = 0, 0
sprpriority = 3

[State bind]
type = Bindtoparent
trigger1 = 1
value = 1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = 3, 9

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -6, 6

[State FireB]
type = Explod
trigger1 = time < 12
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 18, -64
random = 5, 70
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = -1/3*(var(51)), -(var(51))/6

[State FireB]
type = Explod
trigger1 = time < 12
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 18, -64
random = 5, 70
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = -1/3*(var(52)), -(var(51))/6

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.60, .60, .60
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 9999

[State Dissipate]
type = destroyself
trigger1 = time >= 40
trigger2 = parent, vel y > -1


;==============================================================================================
[Statedef 4811]
type = S
movetype = I
physics = N
ctrl = 0
anim = 2
velset = 0, 0
sprpriority = 3

[State Sound]
type = playsnd
trigger1 = time = 0
value = 0, 7
freqmul = 0.85

[State bind]
type = Bindtoroot
trigger1 = 1
pos = 0, 0
facing = 1
time = -1

[State Randomizer1]
type = varrandom
trigger1 = 1
v = 51
range = -2, -4

[State Randomizer2]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State FireB]
type = Explod
trigger1 = random <= 600 && time < 30
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p1
pos = -55, -79
random = 5, 5
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = -(var(52))/3, (var(51))/10

[State Randomizer]
type = varrandom
trigger1 = 1
v = 35
range = -2, -4

[State Randomizer3]
type = varrandom
trigger1 = 1
v = 36
range = -3, -9

[State FireB]
type = Explod
trigger1 = random <= 600 && time < 30
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p1
pos = -55, -79
random = 5, 5
sprpriority = 5
ownpal = 1
vel = var(36), (var(35))
scale = 0.1, 0.75
accel = -(var(36))/3, (var(35))/10

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 20
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.60, .60, .60
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1

[State Dissipate]
type = destroyself
trigger1 = time >= 40
trigger2 = parent, anim != 1


;==============================================================================================
[Statedef 10620]
type = S
movetype = A
physics = N
ctrl = 0
anim = 2603
velset = 0, 0
sprpriority = 3

[State bind]
type = Bindtoparent
trigger1 = 1
value = 1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = 3, 9

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -6, 6

[State FireB]
type = Explod
trigger1 = time < 12
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 18, -64
random = 5, 70
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = -1/3*(var(51)), -(var(51))/6

[State FireB]
type = Explod
trigger1 = time < 12
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 18, -64
random = 5, 70
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = -1/3*(var(52)), -(var(51))/6

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 20
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.80, .80, .80
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 9999

[State Dissipate]
type = destroyself
trigger1 = time >= 40
trigger2 = parent, vel y > -1


;==============================================================================================
[Statedef 1063]
type = S
movetype = A
physics = N
ctrl = 0
anim = 13012
velset = -4, -(parent, vel Y)
sprpriority = -3

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = 0, 3

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -6, -9

[State FireB]
type = Explod
trigger1 = time < 6 && random < 500
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 0, 0
random = 35, 5
sprpriority = -4
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = 0.84, -0.94

[State FireB]
type = Explod
trigger1 = time < 6 && random < 500
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 0, 0
random = 35, 5
sprpriority = -4
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = 0.84, -0.94

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.55, .55, .55
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 9999

[State Dissipate]
type = destroyself
trigger1 = time >= 9


;==============================================================================================
[Statedef 1064]
type = S
movetype = A
physics = N
ctrl = 0
anim = 13010
velset = 4, -(parent, vel Y)
sprpriority = 3

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = 0, 3

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = 6, 9

[State FireB]
type = Explod
trigger1 = time < 6 && random < 500
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 0, 0
random = 35, 5
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = -0.84, -0.94

[State FireB]
type = Explod
trigger1 = time < 6 && random < 500
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 0, 0
random = 35, 5
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = -0.84, -0.94

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.60, .60, .60
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 9999

[State Dissipate]
type = destroyself
trigger1 = time >= 9


;==============================================================================================
[Statedef 1065]
type = S
movetype = A
physics = N
ctrl = 0
anim = 13013
velset = -6, 0
sprpriority = -3

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = 0, 3

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -6, -9

[State FireB]
type = Explod
trigger1 = time < 6 && random < 500
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 0, 0
random = 35, 5
sprpriority = -4
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = 0.84, -0.94

[State FireB]
type = Explod
trigger1 = time < 6 && random < 500
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 0, 0
random = 35, 5
sprpriority = -4
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = 0.84, -0.94

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.60, .60, .60
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 9999

[State Dissipate]
type = destroyself
trigger1 = time >= 15


;==============================================================================================
[Statedef 1066]
type = S
movetype = A
physics = N
ctrl = 0
anim = 13014
velset = 6, 0
sprpriority = 3

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = 0, 3

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = 6, 9

[State FireB]
type = Explod
trigger1 = time < 6
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 0, 0
random = 35, 5
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = -0.84, -0.94

[State FireB]
type = Explod
trigger1 = time < 6
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 0, 0
random = 35, 5
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = -0.84, -0.94

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 10
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.60, .60, .60
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 9999

[State Dissipate]
type = destroyself
trigger1 = time >= 15


;==============================================================================================
[Statedef 1760]
type = A
movetype = A
velset = 16, -13
sprpriority = 2
anim = 1601

[State 2]
type = VelMul
trigger1 = 1
x = 0.90

[State 3]
type = VelAdd
trigger1 = 1
y = 0.46

[State Randomizer]
type = varrandom
trigger1 = 1
v = 55
range = -20, 20

[State Randomizer]
type = varrandom
trigger1 = 1
v = 56
range = -100, -60

[State 4]
type = HitDef
trigger1 = command = "x" || command = "y" || command = "z"
attr = S, SA
damage = 10, 3
animtype = Hard
getpower = (Var(10)=0) * 50
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 3, 3
sparkxy = var(55), var(56)
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4, -14
air.velocity = -4, (vel Y) - 1
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 40
forcestand = 1

[State 4]
type = HitDef
trigger1 = animelem = 1
attr = A, SA
damage = 10, 3
animtype = Hard
getpower = (Var(10)=0) * 50
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 12, 12
sparkxy = var(55), var(56)
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -4, -14
air.velocity = -4, -14
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 40
forcestand = 1

[State ChangeAnim]
type = ChangeAnim
triggerall = anim = 1601
trigger1 = command = "x" || command = "y" || command = "z"
trigger2 = AILevel && p2life > 0 && timemod = 2, 1 && time > 2
trigger2 = random < (1000 * (AIlevel ** 2 / 64.0))
value = anim
elem = ifelse(animelemtime(10)>=0, 2, animelemNo(0) + 1)

[State 7]
type = ChangeAnim
trigger1 = vel y > -1
value = 1610
persistent = 0

[State 8]
type = velset
trigger1 = anim = 1510
x = 0
persistent = 0

[State Idle]
type = statetypeset
trigger1 = anim != 1601
movetype = I

[State 9]
trigger1 = vel y > 0
trigger1 = pos y >= 0
type = ChangeState
value = 1570


;==============================================================================================
[Statedef 1800]
type = S
movetype = A
juggle = 4
poweradd = (Var(10)=0) * 110
anim = 1800
velset = 0, 0
ctrl = 0
sprpriority = 2

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State TATSUMAKI!]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 7
channel = 0
volume = 255

[State 9]
type = ChangeState
trigger1 = animelem = 2
value = 1801


;==============================================================================================
[Statedef 1801]
type = A
movetype = A
velset = 3, -2
sprpriority = 2

[State 0]
type = posadd
trigger1 = animelem = 3
y = -7

[State 1]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
damage = 35, 10
animtype = Medium
getpower = (Var(10)=0) * 30
givepower = 20
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 10, 10
sparkxy = -10, -60
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -3.0
air.velocity = -2, -3
forcestand = 1

[State 9]
type = ChangeState
trigger1 = time = 10
value = 1802


;==============================================================================================
[Statedef 1802]
type = A
movetype = A
anim = 1810
velset = 3, 0
sprpriority = 2

[State 5]
type = ChangeAnim
trigger1 = animtime = 0
value = 1810

[State Sound]
type = playsnd
trigger1 = animelem = 1 || animelem = 3
value = 0, 4

[State 2]
type = HitDef
trigger1 = animelem = 1 || animelem = 3
attr = A, SA
damage = 70, 10
animtype = Hard
getpower = (Var(10)=0) * 30
givepower = 20
priority = 5, Hit
hitflag = HAF
guardflag = MA
pausetime = 10, 10
sparkxy = -10, -50
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -6
air.velocity = -4, -4
air.fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 40
forcestand = 1

[State 9]
type = ChangeState
trigger1 = time = 8
value = 1803


;==============================================================================================
[Statedef 1803]
type = A
movetype = I
physics = A

[State 1]
type = turn
trigger1 = animelem = 5 && p2dist x <0
persistent = 0

[State 1]
type = changeanim
trigger1 = time = 0
value = 1820


;==============================================================================================
[Statedef 1810]
type = S
movetype = A
juggle = 4
poweradd = (Var(10)=0) * 115
anim = 1800
velset = 0, 0
ctrl = 0
sprpriority = 2

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State TATSUMAKI]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 6
channel = 0
volume = 255

[State 9]
type = ChangeState
trigger1 = animelem = 2
value = 1811


;==============================================================================================
[Statedef 1811]
type = A
movetype = A
velset = 3, -2
sprpriority = 2

[State 0]
type = posadd
trigger1 = animelem = 3
y = -7

[State 1]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
damage = 35, 10
animtype = Medium
getpower = (Var(10)=0) * 30
givepower = 20
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 10, 10
sparkxy = -10, -60
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -3.0
air.velocity = -2, -3
air.fall = 1
forcestand = 1

[State 9]
type = ChangeState
trigger1 = time >= 10
value = 1812


;==============================================================================================
[Statedef 1812]
type = A
movetype = A
anim = 1810
velset = 3, 0
sprpriority = 2

[State Speed] 
type = ChangeAnim
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = AILevel && p2life > 0 && timemod = 3, 2 && var(10) = 0
trigger2 = random < (1000 * (AIlevel ** 2 / 64.0))
value = anim
elem = animelemNo(0) + 1

[State 5]
type = ChangeAnim
trigger1 = animtime = 0
value = 1810

[State Sound]
type = playsnd
trigger1 = animelem = 1 || animelem = 3
value = 0, 4

[State 9]
type = HitDef
trigger1 = animelem = 1 || animelem = 3
attr = A, SA
damage = 30, 10
animtype = Hard
getpower = (Var(10)=0) * 30
givepower = 20
priority = 5, Hit
hitflag = HAF
guardflag = MA
pausetime = 10, 10
sparkxy = -10, -50
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -3
air.velocity = -3, -4
air.fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 40
forcestand = 1

[State 5]
type = ChangeState
trigger1 = time = 24
value = 1803


;==============================================================================================
[Statedef 1820]
type = S
movetype = A
juggle = 4
poweradd = (Var(10)=0) * 120
anim = 1800
velset = 0, 0
ctrl = 0
sprpriority = 2

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State TATSUMAKI!]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 2
channel = 0
volume = 255

[State 9]
type = ChangeState
trigger1 = animelem = 2
value = 1821


;==============================================================================================
[Statedef 1821]
type = A
movetype = A
velset = 3, -2
sprpriority = 2

[State 0]
type = posadd
trigger1 = animelem = 3
y = -7

[State 1]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
damage = 35, 10
animtype = Medium
getpower = (Var(10)=0) * 30
givepower = 20
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 10, 10
sparkxy = -10, -60
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -3
air.velocity = -2, -4
forcestand = 1

[State 5]
type = ChangeState
trigger1 = time = 10
value = 1822


;==============================================================================================
[Statedef 1822]
type = A
movetype = A
anim = 1811
velset = 3, 0
sprpriority = 2

[State 5]
type = ChangeAnim
trigger1 = animtime = 0
value = 1811

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 1 && time < 38
helpertype = normal
name = "leg fire"
pos = 54, -56
postype = p1
stateno =1063
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 1 && time < 38
helpertype = normal
name = "leg fire"
pos = 44, -56
postype = p1
stateno =1064
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 3 && time < 38
helpertype = normal
name = "leg fire"
pos = 24, -53
postype = p1
stateno =1064
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 4 && time < 38
helpertype = normal
name = "leg fire"
pos = -16, -50
postype = p1
stateno =1064
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 5 && time < 38
helpertype = normal
name = "leg fire"
pos = -46, -53
postype = p1
stateno =1064
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 6 && time < 38
helpertype = normal
name = "leg fire"
pos = -44, -56
postype = p1
stateno =1064
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 7 && time < 38
helpertype = normal
name = "leg fire"
pos = -14, -59
postype = p1
stateno =1063
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 8 && time < 38
helpertype = normal
name = "leg fire"
pos = 26, -62
postype = p1
stateno =1063
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 1 && time < 38
helpertype = normal
name = "leg fire"
pos = 56, -59
postype = p1
stateno =1063
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State Sound]
type = playsnd
trigger1 = animelem = 1 || animelem = 5
value = 0, 4

[State 9]
type = HitDef
trigger1 = animelem = 1 || animelem = 5
attr = A, SA
damage = 20, 10
animtype = medium
getpower = (Var(10)=0) * 30
givepower = 20
priority = 5, Hit
hitflag = HAF
guardflag = MA
pausetime = 10, 10
sparkxy = -10, -50
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4
air.velocity = -4, -4
air.fall = 1
palfx.time = 50
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall.recover = (var(10) <= 0)
fall.recovertime = 40
forcestand = 1

[State FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State Sound]
type = playsnd
trigger1 = animelem = 1 || animelem = 5
value = 2, 7

[State 5]
type = ChangeState
trigger1 = time = 40
value = 1803


;==============================================================================================
[Statedef 1830]
type = A
movetype = A
juggle = 4
poweradd = (Var(10)=0) * 110
anim = 1830
velset = 2, -2
ctrl = 0
sprpriority = 2

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State TATSUMAKI!]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 7
channel = 0
volume = 255

[State 1800, 1]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
damage = 20, 5
animtype = Medium
getpower= (Var(10)=0)* 30
givepower = 20
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 10, 10
sparkxy = -10, -60
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = Low
ground.slidetime = 40
ground.hittime = 15
ground.velocity = -2, -5
air.velocity = -2, -5
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 120
air.hittime = 40

[State 0]
type = posadd
trigger1 = animelem = 3
y = -7

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 1832


;==============================================================================================
[Statedef 1832]
type = A
movetype = A
anim = 1810
velset = 3, -3
sprpriority = 2

[State 5]
type = ChangeAnim
trigger1 = animtime = 0
value = 1810

[State Sound]
type = playsnd
trigger1 = animelem = 1 || animelem = 3
value = 0, 4

[State 2]
type = HitDef
trigger1 = animelem = 1 || animelem = 3
attr = A, SA
damage = 20, 5
animtype = Hard
getpower = (Var(10)=0) * 30
givepower = 20
priority = 5, Hit
hitflag = HAF
guardflag = MA
pausetime = 10, 10
sparkxy = -10, -50
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -3, -6
air.velocity = -3, -5
air.hittime = 40
fall.recover = (var(10) <= 0)
fall.recovertime = 120

[State 9]
type = ChangeState
trigger1 = movecontact = 0
trigger1 = time = 8
value = 1803

[State 9]
type = ChangeState
trigger1 = movecontact
trigger1 = time = 8
value = 1833


;==============================================================================================
[Statedef 1833]
type = A
movetype = A
physics = A

[State 1]
type = changestate
trigger1 = time = 0
value = 1834


;==============================================================================================
[Statedef 1834]
type = A
movetype = A
physics = N
anim = 3950
velset = 0, 0
sprpriority = 2

[State 0]
type = posadd
trigger1 = time = 0
y = -8
x = -28

[State WhiffSound]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 3

[State HAH]
type = PlaySnd
trigger1 = animelem = 4
value = 4, 7
volume = 255

[State 2]
type = HitDef
trigger1 = animelem = 6 
attr = A, SA
damage = 40, 10
anim = Medium
priority = 4, Hit
guardflag = MAF
hitflag = MAFD
sparkxy = -10, -70
sparkno = 1
guard.sparkno = 40; S9100
pausetime = 10, 13
getpower = (Var(10)=0) * 30
givepower = 15
hitsound = S6, 4
guardsound = S0, 100
ground.type = Trip
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -1, 5
air.type = Trip
air.velocity = -1, 5
air.hittime = 15
air.fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 120
fall = 1
fall.yvelocity = -7
bounce = 1

[State 5]
type = ChangeState
trigger1 = Animtime = 0
value = 1839
ctrl = 0


;==============================================================================================
[Statedef 1839]
type = A
movetype = I
physics = A

[State 0]
type = posadd
trigger1 = time = 0
y = 8
x = 28

[State 1]
type = changeanim
trigger1 = time = 0
value = 3951


;==============================================================================================
[Statedef 1848]
type = A
movetype = A
physics = N

[State 0]
type = posadd
trigger1 = time = 0
y = 8
x = 28

[State Gravity]
type = VelAdd
trigger1 = 1
y = 0.44

[State 1]
type = changeanim
trigger1 = time = 0
value = 3951

[State 1]
type = AfterImageTime
trigger1 = pos y >= -5
time = 0

[State 1]
type = posadd
trigger1 = pos y >= -5
x = -20

[State 1]
type = changestate
trigger1 = pos y >= -5
value = 1874


;==============================================================================================
[Statedef 1849]
type = C
movetype = I
physics = C
Anim = 13033
ctrl = 0

[State 1]
type = posset
trigger1 = time = 0
y = 0

[State 1]
type = turn
trigger1 = p2bodydist x <= 0 && time = 4

[State 1]
type = velset
trigger1 = time = 0
y = 0

[State 52, Land SOund]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 1]
type = changestate
trigger1 = time = 9
value = 0
ctrl = 1


;==============================================================================================
[Statedef 1835]
type = A
movetype = A
juggle = 4
poweradd = (Var(10)=0) * 115
anim = 1830
velset = 3, -1.7
ctrl = 0
sprpriority = 2

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100
z
[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State TATSUMAKI]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 6
channel = 0
volume = 255

[State 1810, 1]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
damage = 20, 5
animtype = Medium
getpower= (Var(10)=0)* 30
givepower = 20
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 10, 10
sparkxy = -10, -60
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -2, -4.5
air.velocity = -2, -4.5
air.hittime = 40
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 120

[State 0]
type = posadd
trigger1 = animelem = 3
y = -7

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 1837


;==============================================================================================
[Statedef 1837]
type = A
movetype = A
anim = 1810
velset = 4, -2.7
sprpriority = 2

[State 5]
type = ChangeAnim
trigger1 = animtime = 0
value = 1810

[State Sound]
type = playsnd
trigger1 = animelem = 1 || animelem = 3
value = 0, 4

[State 9]
type = HitDef
trigger1 = animelem = 1 || animelem = 3
attr = A, SA
damage = 20, 5
animtype = Hard
getpower = (Var(10)=0) * 30
givepower = 20
priority = 5, Hit
hitflag = HAF
guardflag = MA
pausetime = 10, 10
sparkxy = -10, -50
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -3.5, -4.5
air.velocity = -3.5, -4.5
air.hittime = 40
fall.recover = (var(10) <= 0)
fall.recovertime = 120

[State 5]
type = ChangeState
trigger1 = movecontact = 0
trigger1 = time = 24
value = 1803

[State 5]
type = ChangeState
trigger1 = movecontact
trigger1 = time = 24
value = 1833


;==============================================================================================
[Statedef 1840]
type = A
movetype = A
juggle = 4
poweradd = (Var(10)=0) * 120
anim = 1830
velset = 4, -1.2
ctrl = 0
sprpriority = 2

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State TATSUMAKI!]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 2
channel = 0
volume = 255

[State 1820, 1]
type = HitDef
trigger1 = animelem = 2
attr = A, SA
damage = 20, 5
animtype = Medium
getpower= (Var(10)=0)* 30
givepower = 20
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 10, 10
sparkxy = -10, -60
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -3.5, -3.75
air.velocity = -3.5, -3.75
air.hittime = 40
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 120

[State 0]
type = posadd
trigger1 = animelem = 3
y = -7

[State 5]
type = ChangeState
trigger1 = Animtime = 0
value = 1842


;==============================================================================================
[Statedef 1842]
type = A
movetype = A
anim = 1811
velset = 5, -2.2
sprpriority = 2

[State 5]
type = ChangeAnim
trigger1 = animtime = 0
value = 1811

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 1 && time < 38
helpertype = normal
name = "leg fire"
pos = 54, -56
postype = p1
stateno =1063
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 1 && time < 38
helpertype = normal
name = "leg fire"
pos = 44, -56
postype = p1
stateno =1064
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 3 && time < 38
helpertype = normal
name = "leg fire"
pos = 24, -53
postype = p1
stateno =1064
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 4 && time < 38
helpertype = normal
name = "leg fire"
pos = -16, -50
postype = p1
stateno =1064
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 5 && time < 38
helpertype = normal
name = "leg fire"
pos = -46, -53
postype = p1
stateno =1064
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 6 && time < 38
helpertype = normal
name = "leg fire"
pos = -44, -56
postype = p1
stateno =1064
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 7 && time < 38
helpertype = normal
name = "leg fire"
pos = -14, -59
postype = p1
stateno =1063
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 8 && time < 38
helpertype = normal
name = "leg fire"
pos = 26, -62
postype = p1
stateno =1063
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 1 && time < 38
helpertype = normal
name = "leg fire"
pos = 56, -59
postype = p1
stateno =1063
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State Sound]
type = playsnd
trigger1 = animelem = 1 || animelem = 5
value = 0, 4

[State 9]
type = HitDef
trigger1 = animelem = 1 || animelem = 5
attr = A, SA
damage = 20, 5
animtype = medium
getpower = (Var(10)=0) * 30
givepower = 20
priority = 5, Hit
hitflag = HAF
guardflag = MA
pausetime = 10, 10
sparkxy = -10, -50
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5, -3.75
air.velocity = -5, -3.75
air.hittime = 40
palfx.time = 50
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall.recover = (var(10) <= 0)
fall.recovertime = 120

[State FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State Sound]
type = playsnd
trigger1 = animelem = 1 || animelem = 5
value = 2, 7

[State 5]
type = ChangeState
trigger1 = movecontact = 0
trigger1 = time = 40
value = 1803

[State 5]
type = ChangeState
trigger1 = movecontact
trigger1 = time = 40
value = 1833


;==============================================================================================
[Statedef 1850]
type = A
movetype = A
juggle = 4
anim = 1850
ctrl = 0
poweradd = (Var(10)=0) * 100
sprpriority = 2

[State Speed] 
type = ChangeAnim
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = AILevel && p2life > 0 && timemod = 3, 2 && var(10) = 0
trigger2 = random < (1000 * (AIlevel ** 2 / 64.0))
value = anim
elem = animelemNo(0) + 1

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State 5]
type = ChangeAnim
trigger1 = animtime = 0
value = 1810

[State TATSUMAKI]
type = PlaySnd
trigger1 = time = 1
value = 1, 7
channel = 0
volume = 255

[State Wind Sound]
type = playsnd
trigger1 = animelem = 1 || animelem = 3 || animelem = 5
value = 0, 4

[State 6]
type = VelAdd
trigger1 = 1
y = 0.30

[State 3]
type = VelAdd
trigger1 = vel x = 0
trigger1 = time = 0
x = 1.3

[State 5]
type = VelAdd
trigger1 = time = 0
trigger1 = vel x != 0
x = ifelse(vel x > 0, 1.1, 0)
y = ifelse(var(10) = 0, -3, -1.5)

[State 7]
type = HitDef
trigger1 = animelem = 1 || animelem = 3 || animelem = 5
attr = A, SA
damage = 50, 5
animtype = Hard
getpower = (Var(10)=0) * 30
givepower = 20
priority = 5, Hit
hitflag = HAF
guardflag = MA
pausetime = 10, 10
sparkxy = -10, -50
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -4, -4
air.fall = 1
air.cornerpush.veloff = -10
fall = (var(17) >= 10 && p2statetype != A && var(10) = 0)
fall.recover = (var(10) <= 0)
fall.recovertime = 40

[State 9]
type = ChangeState
trigger1 = time >= 8
trigger2 = pos y >= -5 && vel y > 0
value = 1803


;==============================================================================================
[Statedef 1851]
type = A
movetype = A
juggle = 4
anim = 1850
poweradd = (Var(10)=0) * 115
ctrl = 0
sprpriority = 2

[State Speed] 
type = ChangeAnim
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = AILevel && p2life > 0 && timemod = 3, 2 && var(10) = 0
trigger2 = random < (1000 * (AIlevel ** 2 / 64.0))
value = anim
elem = animelemNo(0) + 1

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State 5]
type = ChangeAnim
trigger1 = animtime = 0
value = 1810

[State TATSUMAKI]
type = PlaySnd
trigger1 = time = 1
value = 1, 6
channel = 0
volume = 255

[State wind sound]
type = playsnd
trigger1 = animelem = 1 || animelem = 3 || animelem = 5
value = 0, 4

[State 6]
type = VelAdd
trigger1 = 1
y = 0.30

[State 3]
type = VelAdd
trigger1 = vel x = 0
trigger1 = time = 0
x = 1.4

[State 5]
type = VelAdd
trigger1 = time = 0
trigger1 = vel x != 0
x = ifelse(vel x > 0, 1.1, 0.5)
y = ifelse(var(10) = 0, -3, -1.5)

[State 7]
type = HitDef
trigger1 = animelem = 3
trigger2 = animelem = 5
attr = A, SA
damage = 25, 5
animtype = Hard
getpower = (Var(10)=0) * 30
givepower = 20
priority = 5, Hit
hitflag = HAF
guardflag = MA
pausetime = 10, 10
sparkxy = -10, -50
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -4, -4
air.fall = 1
air.cornerpush.veloff = -10
fall = (var(17) >= 10 && p2statetype != A && var(10) = 0)
fall.recover = (var(10) <= 0)
fall.recovertime = 40

[State 8]
type = ChangeState
trigger1 = time >= 24
trigger2 = pos y >= -5 && vel y > 0
value = 1803


;==============================================================================================
[Statedef 1852]
type = A
movetype = A
juggle = 4
poweradd = (Var(10)=0) * 120
anim = 1851
ctrl = 0
sprpriority = 2

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State 5]
type = ChangeAnim
trigger1 = animtime = 0
value = 1811

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 3 && anim = 1851
trigger2 = animelem = 1 && anim = 1811
helpertype = normal
name = "leg fire"
pos = 54, -56
postype = p1
stateno =1063
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 4 && anim = 1851
trigger2 = animelem = 2 && anim = 1811
helpertype = normal
name = "leg fire"
pos = 44, -56
postype = p1
stateno =1064
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 5 && anim = 1851
trigger2 = animelem = 3 && anim = 1811
helpertype = normal
name = "leg fire"
pos = 24, -53
postype = p1
stateno =1064
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 6 && anim = 1851
trigger2 = animelem = 4 && anim = 1811
helpertype = normal
name = "leg fire"
pos = -16, -50
postype = p1
stateno =1064
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 7 && anim = 1851
trigger2 = animelem = 5 && anim = 1811
helpertype = normal
name = "leg fire"
pos = -46, -53
postype = p1
stateno =1064
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 8 && anim = 1851
trigger2 = animelem = 6 && anim = 1811
helpertype = normal
name = "leg fire"
pos = -44, -56
postype = p1
stateno =1064
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 9 && anim = 1851
trigger2 = animelem = 7 && anim = 1811
helpertype = normal
name = "leg fire"
pos = -14, -59
postype = p1
stateno =1063
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 10 && anim = 1851
trigger2 = animelem = 8 && anim = 1811
helpertype = normal
name = "leg fire"
pos = 26, -62
postype = p1
stateno =1063
ownpal = 1
size.xscale = 0.8
size.yscale = 0.6

[State TATSUMAKI]
type = PlaySnd
trigger1 = time = 1
value = 1, 2
channel = 0
volume = 255

[State wind sound]
type = playsnd
trigger1 = (animelem = 3 || animelem = 7) && anim = 1851
trigger2 = (animelem = 1 || animelem = 5) && anim = 1811
value = 0, 4

[State 6]
type = VelAdd
trigger1 = 1
y = 0.30

[State 3]
type = VelAdd
trigger1 = vel x = 0
trigger1 = time = 0
x = 1.5

[State 5]
type = VelAdd
trigger1 = time = 0
trigger1 = vel x != 0
x = ifelse(vel x > 0, 1.1, 0)
y = ifelse(var(10) = 0, -3, -1.5)

[State 7]
type = HitDef
trigger1 = (animelem = 3 || animelem = 7) && anim = 1851
trigger2 = (animelem = 1 || animelem = 5) && anim = 1811
attr = A, SA
damage = 20, 5
animtype = medium
getpower = (Var(10)=0) * 30
givepower = 20
priority = 5, Hit
hitflag = HAF
guardflag = MA
pausetime = 10, 10
sparkxy = -10, -50
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -4, -4
air.fall = 1
air.cornerpush.veloff = -10
palfx.time = 50
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall = (var(17) >= 10 && p2statetype != A && var(10) = 0)
fall.recover = (var(10) <= 0)
fall.recovertime = 40

[State FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State Sound]
type = playsnd
trigger1 = (animelem = 3 || animelem = 7) && anim = 1851
trigger2 = (animelem = 1 || animelem = 5) && anim = 1811
value = 2, 7

[State 8]
type = ChangeState
trigger1 = time >= 40
trigger2 = pos y >= -5 && vel y > 0
value = 1803


;==============================================================================================
[Statedef 1864]
type = C
movetype = I
physics = C
Anim = 13033
ctrl = 0

[State 1]
type = posadd
trigger1 = time = 0
x = 20

[State 1]
type = posset
trigger1 = time = 0
y = 0

[State 1]
type = turn
trigger1 = p2bodydist x <= 0 && time = 4

[State 1]
type = velset
trigger1 = time = 0
y = 0

[State 52, Land SOund]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 1]
type = changestate
trigger1 = time = 4
value = 12
ctrl = 1


;==============================================================================================
[Statedef 1874]
type = C
movetype = I
physics = C
Anim = 13034
ctrl = 0

[State 1]
type = posadd
trigger1 = time = 0
x = 20

[State 1]
type = posset
trigger1 = time = 0
y = 0

[State 1]
type = turn
trigger1 = p2bodydist x <= 0 && animelem = 2

[State 1]
type = velset
trigger1 = time = 0
y = 0

[State 52, Land SOund]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 1]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 1860]
type = A
movetype = A
poweradd = (Var(10)=0) * 120
anim = 13005
ctrl = 0
sprpriority = 2

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State TATSUMAKI]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 10
channel = 0
volume = 255

[State wind sound]
type = playsnd
trigger1 = animelem = 3
value = 0, 4

[State 6]
type = Velmul
trigger1 = time = [0, 9]
x = 0.83
y = 0.83

[State 6]
type = Velset
trigger1 = animelem = 2
x = 5
y = 8

[State 6]
type = VelAdd
trigger1 = Time >= 9
y = 0.30

[State 7]
type = HitDef
trigger1 = animelem = 3
attr = A, SA
damage = 40, 5
animtype = medium
getpower = (Var(10)=0) * 30
givepower = 10
priority = 5, Hit
hitflag = MAFD
guardflag = HA
pausetime = 8, 8
sparkxy = -10, -15
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
air.type = Trip
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
air.velocity = -5, 3
fall.recover = (var(10) <= 0)
fall.recovertime = 120
down.velocity = 0, 0
air.fall = 1
forcestand = 1

[State 8]
type = ctrlset
trigger1 = movecontact
value = 1
ignorehitpause = 1

[State 8]
type = ChangeState
trigger1 = pos y >= 5
value = 1864


;==============================================================================================
[Statedef 1861]
type = A
movetype = A
poweradd = (Var(10)=0) * 120
anim = 13005
ctrl = 0
sprpriority = 2

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State TATSUMAKI]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 10
channel = 0
volume = 255

[State wind sound]
type = playsnd
trigger1 = animelem = 3
value = 0, 4

[State 6]
type = Velmul
trigger1 = time = [0, 9]
x = 0.83
y = 0.83

[State 6]
type = Velset
trigger1 = animelem = 2
x = 5.5
y = 7.5

[State 6]
type = VelAdd
trigger1 = Time >= 9
y = 0.30

[State 7]
type = HitDef
triggerall = Var(10) = 0
trigger1 = animelem = 3
attr = A, SA
damage = 50, 6
animtype = medium
getpower = (Var(10)=0) * 30
givepower = 20
priority = 5, Hit
hitflag = MAFD
guardflag = HA
pausetime = 8, 10
sparkxy = -10, -15
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
air.type = Trip
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
air.velocity = -5, 3
fall.recover = (var(10) <= 0)
fall.recovertime = 120
down.velocity = 0, 0
air.fall = 1
forcestand = 1

[State 7]
type = HitDef
triggerall = var(10) >= 1
trigger1 = animelem = 3
attr = A, SA
damage = 50, 6
animtype = medium
getpower = (Var(10)=0) * 30
givepower = 20
priority = 5, Hit
hitflag = MAFD
guardflag = HA
pausetime = 8, 10
sparkxy = -10, -0
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
air.type = Light
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -5, -6
fall.recover = (var(10) <= 0)
fall.recovertime = 120
down.velocity = 0, 0
air.fall = 1
forcestand = 1

[State 8]
type = ChangeState
trigger1 = pos y >= 5
value = 1864

[State 8]
type = ChangeState
trigger1 = movecontact
value = 1863


;==============================================================================================
[Statedef 1863]
type = A
movetype = I
physics = N
anim = 13007
ctrl = 0
sprpriority = 2

[State 6]
type = VelAdd
trigger1 = 1
y = 0.30

[State 6]
type = Velset
trigger1 = time = 0
x = 5.2
y = -7

[State 8]
type = turn
trigger1 = animelem = 6
persistent = 0

[State 8]
type = ChangeState
trigger1 = pos y >= 0
value = 1803


;==============================================================================================
[Statedef 1862]
type = A
movetype = A
poweradd = (Var(10)=0) * 120
anim = 13005
ctrl = 0
sprpriority = 2

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State TATSUMAKI]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 10
channel = 0
volume = 255

[State Shoryuken]
type = PlaySnd
trigger1 = time = 10
value = 6, 9
volume = 255

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal
name = "leg fire"
pos = 0, 0
postype = p1
stateno =1060
ownpal = 1

[State wind sound]
type = playsnd
trigger1 = animelem = 3
value = 0, 4

[State 6]
type = Velmul
trigger1 = time = [0, 9]
x = 0.83
y = 0.83

[State 6]
type = Velset
trigger1 = animelem = 2
x = 6
y = 7

[State 6]
type = VelAdd
trigger1 = Time >= 9
y = 0.30

[State 7]
type = HitDef
trigger1 = animelem = 3
attr = A, SA
damage = 80, 10
animtype = medium
getpower = (Var(10)=0) * 30
givepower = 20
priority = 5, Hit
hitflag = MAFD
guardflag = HA
pausetime = 8, 10
sparkxy = -10, -15
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
air.type = Trip
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -5
air.velocity = -5, 3
fall.recover = (var(10) <= 0)
fall.recovertime = 120
down.velocity = 0, 0
palfx.time = 50
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
air.fall = 1
forcestand = 1

[State FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State 8]
type = ChangeAnim
trigger1 = movecontact
persistent = 0
value = 13006

[State 8]
type = ChangeState
triggerall = movecontact = 0
trigger1 = pos y >= 5
value = 1864

[State 8]
type = ChangeState
triggerall = movecontact
trigger1 = pos y >= 5
value = 1803


;==============================================================================================
[Statedef 1060]
type = S
movetype = A
physics = N
ctrl = 0
anim = 12222
velset = 0, 0
sprpriority = 3

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State bind]
type = Bindtoroot
trigger1 = 1
value = 1
facing = 1

[State FireB]
type = Explod
trigger1 = random <= 300 && time <= 10
persistent = 1
anim = 11241
id = 12213
postype = p1
pos = 50, -20
random = 10, 10
sprpriority = 5
ownpal = 1
vel = -1, -1

[State FireB]
type = Explod
trigger1 = random <= 300 && time <= 10
persistent = 1
anim = 11240
id = 12213
postype = p1
pos = 50, -20
random = 10, 10
sprpriority = 5
ownpal = 1
vel = -1, -1

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 20
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.80, .80, .80
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 9999

[State Dissipate]
type = destroyself
trigger1 = parent, pos y >= 5
trigger2 = parent, stateno != 1862
trigger2 = parent, stateno != 4055


;==============================================================================================
[Statedef 1061]
type = S
movetype = A
physics = N
ctrl = 0
anim = 12222
velset = 0, 0
sprpriority = 3

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State bind]
type = Bindtoroot
trigger1 = 1
facing = 1

[State FireB]
type = Explod
trigger1 = random <= 300 && time <= 10
persistent = 1
anim = 11241
id = 12213
postype = p1
pos = 50, -20
random = 10, 10
sprpriority = 5
ownpal = 1
vel = -1, -1

[State FireB]
type = Explod
trigger1 = random <= 300 && time <= 10
persistent = 1
anim = 11240
id = 12213
postype = p1
pos = 50, -20
random = 10, 10
sprpriority = 5
ownpal = 1
vel = -1, -1

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 30
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.90, .90, .90
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 9999

[State Dissipate]
type = destroyself
trigger1 = parent, pos y >= 5
trigger2 = parent, stateno != 4050


;==============================================================================================
[Statedef 1865]
type = A
movetype = A
juggle = 4
poweradd = (Var(10)=0) * 120
anim = 1022
ctrl = 0
sprpriority = 2

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State 6]
type = Velmul
trigger1 = time = 15
x = 0.53

[State FireA]
type = Explod
trigger1 = animelem = 5
ignorehitpause = 1
anim = 11242
scale = 0.5, 0.5
id = 2505
postype = p1
pos = 54, -59
sprpriority = 5
ownpal = 1

[State 6]
type = veladd
trigger1 = 1
y = 0.4

[State 6]
type = posfreeze
trigger1 = time = [15, 17]
value = 1

[State Hadoken!]
type = PlaySnd
trigger1 = animelem = 5
value = 4, 3
channel = 0
volume = 255

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "hadouken"
id = 7
pos = 56, -59
postype = p1
stateno =1016
ownpal = 1

[State FireB]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(7)
trigger1 = helper(7), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(7)
trigger1 = helper(7), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State 6]
type = posadd
trigger1 = pos y >= 17
x = -20

[State HadokenWhiff]
type = playsnd
trigger1 = animelem = 5
value = 0, 7
volume = 50

[State 8]
type = ChangeState
trigger1 = pos y >= 17
value = 1864


;==============================================================================================
[Statedef 1866]
type = A
movetype = A
juggle = 4
poweradd = (Var(10)=0) * 120
anim = 1022
ctrl = 0
sprpriority = 2

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State FireA]
type = Explod
trigger1 = animelem = 5
ignorehitpause = 1
anim = 11242
scale = 0.5, 0.5
id = 2505
postype = p1
pos = 54, -59
sprpriority = 5
ownpal = 1

[State 6]
type = VelAdd
trigger1 = time = 15
y = -3.5
x = -0.5

[State 6]
type = veladd
trigger1 = 1
y = 0.35

[State 6]
type = posfreeze
trigger1 = time = [15, 17]
value = 1

[State Hadoken!]
type = PlaySnd
trigger1 = animelem = 5
value = 4, 3
channel = 0
volume = 255

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "hadouken"
id = 7
pos = 56, -59
postype = p1
stateno =1017
ownpal = 1

[State FireB]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(7)
trigger1 = helper(7), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(7)
trigger1 = helper(7), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State 6]
type = posadd
trigger1 = pos y >= 17
x = -20

[State HadokenWhiff]
type = playsnd
trigger1 = animelem = 5
value = 0, 7
volume = 50

[State 8]
type = ChangeState
trigger1 = pos y >= 17
value = 1864


;==============================================================================================
[Statedef 1867]
type = A
movetype = A
juggle = 4
poweradd = (Var(10)=0) * 120
anim = 1022
ctrl = 0
sprpriority = 2

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State FireA]
type = Explod
trigger1 = animelem = 5
ignorehitpause = 1
anim = 11242
scale = 0.5, 0.5
id = 2505
postype = p1
pos = 54, -59
sprpriority = 5
ownpal = 1

[State 8]
type = veladd
trigger1 = 1
y = 0.3

[State 9]
type = VelAdd
trigger1 = time = 15
y = -4.5
x = -1.5

[State 10]
type = posfreeze
trigger1 = time = [15, 17]
value = 1

[State Hadoken!]
type = PlaySnd
trigger1 = animelem = 5
value = 4, 3
channel = 0
volume = 255

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 5
helpertype = normal
name = "hadouken"
id = 7
pos = 56, -59
postype = p1
stateno =1019
ownpal = 1

[State FireB]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(7)
trigger1 = helper(7), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(7)
trigger1 = helper(7), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State 6]
type = posadd
trigger1 = pos y >= 15
x = -20

[State HadokenWhiff]
type = playsnd
trigger1 = animelem = 5
value = 0, 7
volume = 50

[State 8]
type = ChangeState
trigger1 = pos y >= 15
value = 1864


;==============================================================================================
[Statedef 1868]
type = A
movetype = A
physics = N
poweradd = (Var(10)=0) * 100
juggle = 0
ctrl = 0
anim = 12220
sprpriority = 1

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -3, 3

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State FireB]
type = Explod
trigger1 = time = [11, 16]
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 45, -77
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(51)), 0

[State FireB]
type = Explod
trigger1 = time = [11, 18]
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 45, -77
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(52)), 0

[State fly]
type = Veladd
trigger1 = time = 16
x = -4

[State fly]
type = Velmul
trigger1 = time = 16
y = 0.3

[State fly]
type = Veladd
trigger1 = time = [0, 16]
y = 0

[State fly]
type = Veladd
trigger1 = time >= 16
y = 0.3

[State 0]
type = posadd
trigger1 = time = 30
x = 10
y = 8

[State 10]
type = posfreeze
trigger1 = time = [13, 16]
value = 1

[State hadouken hit helper]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "hadouken"
id = 3
pos = 45, -67
postype = p1
stateno =1030
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State FireB]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State hadouken hit helper]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "hadouken"
id = 3
pos = 45, -67
postype = p1
stateno =1031
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State HadokenWhiff]
type = playsnd
trigger1 = time = 5
value = 3, 2
volume = 250
freqmul = 1.5

[State HadokenWhiff]
type = playsnd
trigger1 = time = 5
value = 4, 7
channel = 0

[State 9]
type = ChangeAnim
trigger1 = time = 30
value = 10503
ctrl = 0

[State 1]
type = posadd
trigger1 = pos y >= 2
x = -10

[State 9]
trigger1 = pos y >= 2
type = ChangeState
value = 1864
ctrl = 0


;==============================================================================================
[Statedef 1040]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1021
velset = 5, 5
sprpriority = 5
juggle = 0

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -1, -3

[State 0]
type = VarAdd
trigger1 = time = 0
persistent = 1
v = 54
value = 1

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 500
persistent = 1
anim = 11241
id = 12213
postype = p1
pos = -20, -17
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), var(51)

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 500
persistent = 1
anim = 11240
id = 12213
postype = p1
pos = -20, -17
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), var(51)

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -5, -2

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State FireB]
type = Explod
trigger1 = time = [0, 6]
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -20, -17
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = -1/3*(var(53)), -1/3*(var(53))

[State FireB]
type = Explod
trigger1 = time = [0, 6]
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -20, -17
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = -1/3*(var(53)), -1/3*(var(53))

[State 5]
type = Hitdef
trigger1 = var(54) < 10
attr = A, HP
damage = ceil(18 * root, fvar(10)), 4
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 10
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
getpower = 0, 0
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -2, -5
air.type = Low
air.velocity = -2, -5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
down.velocity = 0, 0
air.hittime = 35
fall.recover = 0
fall.recovertime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5

[State 5]
type = Hitdef
trigger1 = var(54) >= 10
attr = A, HP
damage = ceil(18 * root, fvar(10)), 4
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 10
getpower = 0, 0
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -6, -5
air.type = Low
air.velocity = -6, -5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
down.velocity = 0, 0
air.hittime = 35
fall.recover = 0
fall.recovertime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
trigger1 = ((Target, GetHitVar(hitcount)) % 2) = 1
var(17) = 1

[State 1]
type = palfx
trigger1 = time = 0
time = 9999
add = 130, -70, -70
sinadd = 48, 48, 40, 120

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 20
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.80, .80, .80
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State Spark] 
type = Explod
trigger1 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[State 0]
type = VarAdd
trigger1 = moveguarded=1
persistent = 1
v = 4
value = 1

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6, 5
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1041
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = projhit = 1
trigger2 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State Dissipate]
type = Changestate
trigger1 = Var(54) >= 10
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1042

[State Dissipate]
type = Changestate
trigger1 = Var(54) < 10 && movecontact
value = 1041

[State Dissipate]
type = changestate
trigger1 = pos y >= 2
value = 1023


;==============================================================================================
[Statedef 1041]
type = S
movetype = A
physics = N
ctrl = 0
sprpriority = 5

[State 5]
type = velset
trigger1 = time > 3
x = 5
y = 5

[State 5]
type = velset
trigger1 = time <= 3
x = 1
y = 1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -1, -2

[State 0]
type = VarAdd
trigger1 = time = 0
persistent = 1
v = 54
value = 1

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 500
persistent = 1
anim = 11241
id = 12213
postype = p1
pos = -20, -17
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), var(51)

[State FireB]
type = Explod
trigger1 = vel x != 0 && random <= 500
persistent = 1
anim = 11240
id = 12213
postype = p1
pos = -20, -17
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), var(51)

[State 5]
type = Hitdef
trigger1 = var(54) < 10
attr = A, HP
damage = ceil(18 * root, fvar(10)), 4
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 10
getpower = 0, 0
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5, 5
air.type = Low
air.velocity = -5, 5
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
down.velocity = 0, 0
air.hittime = 35
fall.recover = 0
fall.recovertime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5

[State 5]
type = Hitdef
trigger1 = var(54)=2 || var(54) = 3 || var(54)=6 || var(54) = 7 || var(54) = 10 || var(54)= 11 || var(54) = 14
trigger1 = var(54) < 10
attr = A, HP
damage = ceil(18 * root, fvar(10)), 4
animtype = Medium
guardflag = MA
pausetime = 0, 10
getpower = 0, 0
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -8, -6
air.type = Low
air.velocity = -8, -6
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
fall.recover = (var(10) <= 0)
fall.recovertime = 120
p1sprpriority = 5

[State 5]
type = Hitdef
trigger1 = var(54) >= 9
attr = A, HP
damage = ceil(18 * root, fvar(10)), 4
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 10
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
getpower = 0, 0
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -10, 9
air.type = Low
air.velocity = -10, 9
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
fall = 1
down.velocity = 0, 0
air.hittime = 35
fall.recover = 0
fall.recovertime = 120
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
p1sprpriority = 5

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
trigger1 = ((Target, GetHitVar(hitcount)) % 2) = 1
var(17) = 1

[State 1]
type = palfx
trigger1 = time = 0
time = 9999
add = 130, -70, -70
sinadd = 48, 48, 40, 120

[State Spark] 
type = Explod
trigger1 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6, 5
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1041
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = projhit = 1
trigger2 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[State 0]
type = VarAdd
trigger1 = moveguarded=1
persistent = 1
v = 4
value = 1

[State Dissipate]
type = Changestate
trigger1 = Var(54) >= 10
trigger2 = frontedgedist < -70
trigger3 = backedgedist < -70
value = 1042

[State Dissipate]
type = Changestate
trigger1 = Var(54) < 10 && movecontact
value = 1041

[State Dissipate]
type = changestate
trigger1 = pos y >= 2
value = 1023


;==============================================================================================
[Statedef 1042]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1019
velset = 2, 0
sprpriority = 5

[State PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2, 7
persistent = 0
freqmul = 1.2
ignorehitpause = 1
volume = -50

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -9, 9

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -9, 9

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = 1/2*(var(52)), 1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = 1/2*(var(52)), 1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12213
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = 1/2*(var(53)), 1/2*(var(52))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = 1/2*(var(53)), 1/2*(var(52))
ignorehitpause = 1
pausemovetime = 9999

[State Dissipate]
type = destroyself
trigger1 = time >= 18


;==============================================================================================
[Statedef 1045]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1021
velset = 6, 6
sprpriority = 5
juggle = 0

[State 1]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1, 1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -1, -6

[State 0]
type = VarAdd
trigger1 = time = 0
persistent = 1
v = 54
value = 1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 54
range = -9, 9

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -9, 9

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -20, -17
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(54), (var(53))
scale = 0.1, 0.75
accel = 1/2*(var(54)), 1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -20, -17
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(54), (var(53))
scale = 0.1, 0.75
accel = 1/2*(var(54)), 1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = 12213
id = 12212
postype = p1
pos = -20, -17
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(54))
scale = 0.1, 0.75
accel = 1/2*(var(53)), 1/2*(var(54))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -20, -17
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(54))
scale = 0.1, 0.75
accel = 1/2*(var(53)), 1/2*(var(54))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = vel x != 0
persistent = 1
anim = 11241
id = 12213
postype = p1
pos = -20, -17
scale = 1.1, 1.1
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), var(51)

[State FireB]
type = Explod
trigger1 = vel x != 0
persistent = 1
anim = 11240
id = 12213
postype = p1
pos = -20, -17
scale = 1.1, 1.1
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), var(51)

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -5, -2

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State FireB]
type = Explod
trigger1 = time = [0, 6]
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -20, -17
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = -1/3*(var(53)), -1/3*(var(53))

[State FireB]
type = Explod
trigger1 = time = [0, 6]
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -20, -17
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = -1/3*(var(53)), -1/3*(var(53))

[State 5]
type = Hitdef
trigger1 = movecontact = 0
trigger1 = !(movereversed % 4)
attr = A, HP
damage = ceil(50 * root, fvar(10)), 10
animtype = Hard
hitflag = MAFD
guardflag = MA
pausetime = 0, 5
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = high
ground.slidetime = 32
ground.hittime = 32
ground.velocity = -12, 0
air.type = Low
air.velocity = -6, 0
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
getpower = 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
pausemovetime = 99
Supermovetime = 99
air.fall = 1
down.velocity = 0, 0
air.hittime = 35
fall.recover = 0
fall.recovertime = 120
p1sprpriority = 5

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State 1]
type = palfx
trigger1 = time = 0
time = 9999
add = 130, -70, -70
sinadd = 48, 48, 40, 120

[State Afterimage]
type = AfterImage
trigger1 = time = 0
length = 25
PalBright = 1, 1, 1
PalContrast = 255, 155, 25
PalAdd = 0, 0, 0
PalMul = 0.85, .85, .85
TimeGap = 1
FrameGap = 1
Trans = Add
time = 9999

[State Spark] 
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 0]
type = VarSet
trigger1 = time = 0
persistent = 0
v = 4
value = 1

[State 0]
type = VarAdd
trigger1 = moveguarded=1
persistent = 1
v = 4
value = 1

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6, 5
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1045
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = projhit = 1
trigger2 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State Dissipate]
type = changestate
trigger1 = pos y >= 2
value = 1047


;==============================================================================================
[Statedef 1047]
type = S
movetype = A
physics = N
ctrl = 0
anim = 11244
velset = 0, 0
sprpriority = 5

[State PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2, 7
persistent = 0
freqmul = 1.2
ignorehitpause = 1
volume = -50

[State Randomizer]
type = varrandom
trigger1 = 1
v = 35
range = -3, -9

[State Randomizer]
type = varrandom
trigger1 = 1
v = 36
range = 3, 7

[State FireB]
type = Explod
trigger1 = time < 12
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -7, -45
random = 50, 20
sprpriority = -5
ownpal = 1
vel = var(36), (var(35))
scale = 0.2, 1.5
accel = -1/3*(var(35)), -0.1

[State FireB]
type = Explod
trigger1 = time < 12
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -7, -45
random = 50, 20
sprpriority = -5
ownpal = 1
vel = var(36), (var(35))
scale = 0.2, 1.5
accel = -1/3*(var(36)), -0.1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 37
range = -3, -8

[State Randomizer]
type = varrandom
trigger1 = 1
v = 38
range = 5, 10

[State FireB]
type = Explod
trigger1 = time < 12
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -7, -45
random = 50, 20
sprpriority = -5
ownpal = 1
vel = var(38), (var(37))
scale = 0.2, 1.5
accel = -1/3*(var(37)), -0.1

[State FireB]
type = Explod
trigger1 = time < 12
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -7, -45
random = 50, 20
sprpriority = -5
ownpal = 1
vel = var(38), (var(37))
scale = 0.2, 1.5
accel = -1/3*(var(38)), -0.1

[State 1]
type = envcolor
trigger1 = movehit
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 1

[State 9]
type = EnvShake
trigger1 = movehit
persistent = 0
time = 20
ampl = -10
freq = 100
phase = 1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -9, 9

[State Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright = 0, 0, 0
PalContrast = 100, 80, 0
PalMul = 0.5, 0.5, 0.5
FrameGap = 1
Trans = add

[State 5]
type = Hitdef
trigger1 = time = 0
attr = S, HP
damage = ceil(150 * root, fvar(10)), 10
animtype = Hard
hitflag = MAFD
guardflag = MA
getpower = 0, 0
pausetime = 0, 5
guard.sparkno = 40; S9200
hitsound = S2, 7
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -9, -15
air.type = Low
air.velocity = -9, -15
forcestand = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
air.fall = 1
pausemovetime = 99
Supermovetime = 99
fall = 1
down.velocity = -9, -15
air.hittime = 35
fall.recover = 0
fall.recovertime = 120
p1sprpriority = 5

[State charge sound]
type = playsnd
trigger1 = time = 0
value = 2, 9
freqmul = 0.6

[State charge sound]
type = playsnd
trigger1 = time = 0
value = 2, 9

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -9, 9

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = 1/2*(var(52)), 1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = 1/2*(var(52)), 1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12213
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = 1/2*(var(53)), 1/2*(var(52))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = time < 4
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = 1/2*(var(53)), 1/2*(var(52))
ignorehitpause = 1
pausemovetime = 9999

[State Dissipate]
type = destroyself
trigger1 = time >= 23


;==============================================================================================
[Statedef 1030]
type = S
movetype = A
physics = S
ctrl = 0
anim = 12218
velset = 0, 0
sprpriority = 3
juggle = 10

[State bind]
type = Bindtoparent
trigger1 = time <= 5
value = 1
pos = 45, -67

[State 5]
type = Hitdef
trigger1 = animelem = 3
attr = S, SP
damage = ceil(100 * root, fvar(10)), 10
animtype = Light
guardflag = MA
pausetime = 0, 9
guard.sparkno = 40; S9200
guardsound = S0, 100
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
ground.type = low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -9, -3
air.type = Low
air.velocity = -9, -3
forcestand = 1
palfx.time = 20
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall.recover = (var(10) <= 0)
fall.recovertime = 120
juggle = 10
air.fall = 1
fall = 1
pausemovetime = 99
Supermovetime = 99
palfx.time = 50
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
p1sprpriority = 5

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6, 5
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1030
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = projhit = 1
trigger2 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 0]
type = VarSet
trigger1 = hitcount = 1
persistent = 0
v = 11
value = 50

[State Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright = 0, 0, 0
PalContrast = 100, 80, 0
PalMul = 0.5, 0.5, 0.5
FrameGap = 1
Trans = add

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State Dissipate]
type = destroyself
trigger1 = time >= 24
trigger2 = parent, pos y >= 2


;==============================================================================================
[Statedef 1032]
type = S
movetype = A
physics = S
ctrl = 0
anim = 12218
velset = 0, 0
sprpriority = 3
juggle = 10

[State bind]
type = Bindtoparent
trigger1 = time <= 5
value = 1
pos = 45, -67

[State 5]
type = Hitdef
trigger1 = animelem = 3
attr = S, SP
damage = ceil(100 * root, fvar(10)), 10
animtype = Light
guardflag = MA
pausetime = 0, 9
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -10, -4
air.type = Low
air.velocity = -10, -4
forcestand = 1
palfx.time = 20
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall.recover = (var(10) <= 0)
fall.recovertime = 120
air.fall = 1
fall = 1
pausemovetime = 99
Supermovetime = 99
palfx.time = 50
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
p1sprpriority = 5

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6, 5
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1030
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = projhit = 1
trigger2 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 0]
type = VarSet
trigger1 = hitcount = 1
persistent = 0
v = 11
value = 50

[State Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright = 0, 0, 0
PalContrast = 100, 80, 0
PalMul = 0.5, 0.5, 0.5
FrameGap = 1
Trans = add

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State Dissipate]
type = destroyself
trigger1 = time >= 24
trigger2 = parent, pos y >= 2


;==============================================================================================
[Statedef 1033]
type = S
movetype = A
physics = S
ctrl = 0
anim = 12218
velset = 0, 0
sprpriority = 3
juggle = 10

[State bind]
type = Bindtoparent
trigger1 = time <= 5
value = 1
pos = 45, -67

[State 5]
type = Hitdef
trigger1 = animelem = 3
attr = S, SP
damage = ceil(100 * root, fvar(10)), 10
animtype = Light
guardflag = MA
pausetime = 0, 9
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -11, -5
air.type = Low
air.velocity = -11, -5
forcestand = 1
getpower = (parent, Var(10)=0) * 10, (parent, Var(10)=0) * 5
palfx.time = 20
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall.recover = (var(10) <= 0)
fall.recovertime = 120
air.fall = 1
fall = 1
pausemovetime = 99
Supermovetime = 99
palfx.time = 50
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
p1sprpriority = 5

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 6, 5
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1030
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = projhit = 1
trigger2 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 0]
type = VarSet
trigger1 = hitcount = 1
persistent = 0
v = 11
value = 50

[State Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright = 0, 0, 0
PalContrast = 100, 80, 0
PalMul = 0.5, 0.5, 0.5
FrameGap = 1
Trans = add

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State Dissipate]
type = destroyself
trigger1 = time >= 24
trigger2 = parent, pos y >= 2


;==============================================================================================
[Statedef 1034]
type = S
movetype = A
physics = S
ctrl = 0
anim = 12227
velset = 0, 0
sprpriority = 3
juggle = 10

[State 1]
type = envcolor
trigger1 = movehit
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 9]
type = EnvShake
trigger1 = movehit
persistent = 0
time = 20
ampl = -10
freq = 100
phase = 1

[State bind]
type = Bindtoparent
trigger1 = time <= 5
value = 1
pos = 45, -67

[State 5]
type = Hitdef
trigger1 = animelem = 3
attr = A, HP
damage = ceil(180 * root, fvar(10)), 22
animtype = Light
getpower = 0, 0
guardflag = MA
pausetime = 0, 12
guard.sparkno = 40; S9200
guardsound = S0, 100
ground.type = low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -13, -6
air.type = Low
air.velocity = -13, -6
forcestand = 1
palfx.time = 20
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall.recover = 0
fall.recovertime = 120
air.fall = 1
fall = 1
pausemovetime = 99
Supermovetime = 99
palfx.time = 50
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
p1sprpriority = 3

[State PlaySnd]
type = PlaySnd
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = MoveContact
value = 2, 9
persistent = 0
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = 1
trans = addalpha
alpha = 256, 256
ignorehitpause = 1

[State HitBy]
type = HitBy
trigger1 = 1
time = -1
value = SCA, AP
ignorehitpause = 1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1034
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State Spark] 
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = projhit = 1
trigger2 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 0]
type = VarSet
trigger1 = hitcount = 1
persistent = 0
v = 11
value = 50

[State Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright = 0, 0, 0
PalContrast = 100, 80, 0
PalMul = 0.5, 0.5, 0.5
FrameGap = 1
Trans = add

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State Dissipate]
type = destroyself
trigger1 = time >= 24


;==============================================================================================
[Statedef 1035]
type = A
movetype = A
physics = S
ctrl = 0
anim = 12225
velset = 0, 0
sprpriority = 3
juggle = 10

[State Randomizer1]
type = varrandom
trigger1 = 1
v = 51
range = -3, 3

[State Randomizer2]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State FireB]
type = Explod
trigger1 = random <= 500
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 0, -10
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -(var(52))/4, -(var(51))/4

[State Randomizer]
type = varrandom
trigger1 = 1
v = 35
range = -5, 5

[State Randomizer3]
type = varrandom
trigger1 = 1
v = 36
range = 4, 10

[State FireB]
type = Explod
trigger1 = random <= 500
persistent = 1
anim = 12216
id = 12213
postype = p1
pos = 0, -10
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(36), (var(35))
scale = 0.2, 1.5
accel = -(var(36))/5, -(var(35))/5

[State Randomizer4]
type = varrandom
trigger1 = 1
v = 37
range = -10, 10

[State Randomizer5]
type = varrandom
trigger1 = 1
v = 38
range = 4, 10

[State FireB]
type = Explod
trigger1 = random <= 500
persistent = 1
anim = 12216
id = 12213
postype = p1
pos = 0, -10
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(38), (var(37))
scale = 0.2, 1.5
accel = -(var(38))/6, -(var(37))/6

[State bind]
type = Bindtoparent
trigger1 = 1
value = 1
pos = 45, -67

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 9999

[State 5]
type = Hitdef
trigger1 = timemod = 4, 3
attr = A, HP
damage = ceil(13 * root, fvar(10)), 3
getpower = 0, 0
animtype = Light
guardflag = MA
pausetime = 0, 0
guard.sparkno = 40; S9200
hitsound = S2, 7
guardsound = S0, 100
ground.type = low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = 2, -2
air.type = Low
air.velocity = 2, -2
forcestand = 1
palfx.time = 20
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall.recover = 0
fall.recovertime = 120
air.fall = 1
fall = 1
pausemovetime = 99
Supermovetime = 99
palfx.time = 50
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
p1sprpriority = 3

[State Spark] 
type = Explod
trigger1 = projhit = 1
trigger2 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 0]
type = VarSet
trigger1 = hitcount = 1
persistent = 0
v = 11
value = 50

[State Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright = 0, 0, 0
PalContrast = 100, 80, 0
PalMul = 0.5, 0.5, 0.5
FrameGap = 1
Trans = add

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State Dissipate]
type = destroyself
trigger1 = time >= 32


;==============================================================================================
[Statedef 1036]
type = S
movetype = A
physics = S
ctrl = 0
anim = 12226
velset = 0, 0
sprpriority = 2
juggle = 10

[State bind]
type = Bindtoparent
trigger1 = 1
value = 1
pos = 45, -67

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 9999

[State Spark] 
type = Explod
trigger1 = projhit = 1
trigger2 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 0]
type = VarSet
trigger1 = hitcount = 1
persistent = 0
v = 11
value = 50

[State Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright = 0, 0, 0
PalContrast = 100, 80, 0
PalMul = 0.5, 0.5, 0.5
FrameGap = 1
Trans = add

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State Dissipate]
type = destroyself
trigger1 = time >= 40
trigger2 = parent, pos y >= 2


;==============================================================================================
[Statedef 1031]
type = S
movetype = A
physics = S
ctrl = 0
anim = 12219
velset = 0, 0
sprpriority = 2
juggle = 10

[State bind]
type = Bindtoparent
trigger1 = time <= 5
value = 1
pos = 45, -67

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 9999

[State Spark] 
type = Explod
trigger1 = projhit = 1
trigger2 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 0]
type = VarSet
trigger1 = hitcount = 1
persistent = 0
v = 11
value = 50

[State Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright = 0, 0, 0
PalContrast = 100, 80, 0
PalMul = 0.5, 0.5, 0.5
FrameGap = 1
Trans = add

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
var(17) = 1

[State Dissipate]
type = destroyself
trigger1 = time >= 19
trigger2 = parent, pos y >= 2


;==============================================================================================
[Statedef 1869]
type = A
movetype = A
physics = N
poweradd = (Var(10)=0) * 100
juggle = 0
ctrl = 0
anim = 12220
sprpriority = 1

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -3, 3

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State HadokenWhiff]
type = playsnd
trigger1 = time = 5
value = 4, 7
channel = 0

[State FireB]
type = Explod
trigger1 = time = [11, 16]
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 45, -77
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(51)), 0

[State FireB]
type = Explod
trigger1 = time = [11, 18]
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 45, -77
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(52)), 0

[State fly]
type = Veladd
trigger1 = time = 16
x = -5

[State fly]
type = Velmul
trigger1 = time = 16
y = 0.3

[State fly]
type = Veladd
trigger1 = time = [0, 16]
y = 0

[State fly]
type = Veladd
trigger1 = time >= 16
y = 0.3

[State 0]
type = posadd
trigger1 = time = 30
x = 10
y = 8

[State 10]
type = posfreeze
trigger1 = time = [13, 16]
value = 1

[State hadouken hit helper]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "hadouken"
id = 3
pos = 45, -67
postype = p1
stateno =1032
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State FireB]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State hadouken hit helper]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "hadouken"
id = 3
pos = 45, -67
postype = p1
stateno =1031
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State HadokenWhiff]
type = playsnd
trigger1 = time = 5
value = 3, 2
volume = 250
freqmul = 1.5

[State 9]
type = ChangeAnim
trigger1 = time = 30
value = 10503
ctrl = 0

[State 1]
type = posadd
trigger1 = pos y >= 2
x = -10

[State 9]
trigger1 = pos y >= 2
type = ChangeState
value = 1864
ctrl = 0


;==============================================================================================
[Statedef 1870]
type = A
movetype = A
physics = N
poweradd = (Var(10)=0) * 100
juggle = 0
ctrl = 0
anim = 12220
sprpriority = 1

[State Hadoken!]
type = PlaySnd
trigger1 = time = 0 && var(28) > 0
value = 0, 12
volume = 255
freqmul = 1.5

[State 1]
type = Pause
trigger1 = time = 0 && var(28) > 0
time = 5
movetime = 5

[State skin fadeout]
type = PalFx
trigger1 = time = 0 && var(28) > 0
time = 24
add = 155, 55, 55 
sinadd = -155, -55, -55, 100

[State 1]
type = envcolor
trigger1 = time = 0 && var(28) > 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 5

[State 1]
type = AfterImageTime
triggerall = var(10) = 0
trigger1 = time = 0
time = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State HadokenWhiff]
type = playsnd
trigger1 = time = 5
value = 4, 7
channel = 0

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -3, 3

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State FireB]
type = Explod
trigger1 = time = [11, 16]
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 45, -77
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(51)), 0

[State FireB]
type = Explod
trigger1 = time = [11, 18]
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 45, -77
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(52)), 0

[State fly]
type = Veladd
trigger1 = time = 16
x = -6

[State fly]
type = Velmul
trigger1 = time = 16
y = 0.3

[State fly]
type = Veladd
trigger1 = time = [0, 16]
y = 0

[State fly]
type = Veladd
trigger1 = time >= 16
y = 0.3

[State 0]
type = posadd
trigger1 = time = 30
x = 10
y = 8

[State 10]
type = posfreeze
trigger1 = time = [13, 16]
value = 1

[State hadouken hit helper]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "hadouken"
id = 3
pos = 45, -67
postype = p1
stateno =1033
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State FireB]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State hadouken hit helper]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "hadouken"
id = 3
pos = 45, -67
postype = p1
stateno =1031
ownpal = 1
size.xscale = 0.7
size.yscale = 0.7

[State HadokenWhiff]
type = playsnd
trigger1 = time = 5
value = 3, 2
volume = 250
freqmul = 1.5

[State 9]
type = ChangeAnim
trigger1 = time = 30
value = 10503
ctrl = 0

[State 1]
type = posadd
trigger1 = pos y >= 2
x = -10

[State 9]
trigger1 = pos y >= 2
type = ChangeState
value = 1864
ctrl = 0


;==============================================================================================
[Statedef 2001]
type = C
physics = N
movetype = I
anim = 2001
velset = 0, 0
sprpriority = 2

[State 1]
type = Posset
trigger1 = time = 0
y = 0

[State 2]
type = PlayerPush
trigger1 = 1
value = 0

[State 3]
type = turn
trigger1 = time >= 8
trigger1 = p2dist x < 0

[State 4]
type = ChangeState
trigger1 = time >= 8
value = 11
ctrl = 1


;==============================================================================================
[Statedef 2002]
type = C
physics = N
movetype = I
anim = 2001
velset = 0, 0
sprpriority = 2

[State 1]
type = Posset
trigger1 = time = 0
y = 0

[State 1]
type = velset
trigger1 = time = 5
x = 7

[State 2]
type = PlayerPush
trigger1 = 1
value = 0

[State Dust]
type = MakeDust
trigger1 = time >= 5
pos = 0, 0
spacing = 4

[State 3]
type = turn
trigger1 = time >= 16
trigger1 = p2dist x < 0

[State 4]
type = ChangeState
trigger1 = time >= 16
value = 11
ctrl = 1


;==============================================================================================
[Statedef 2003]
type = C
physics = N
movetype = I
anim = 2001
velset = 0, 0
sprpriority = 2

[State 1]
type = Posset
trigger1 = time = 0
y = 0

[State 1]
type = velset
trigger1 = time = 5
x = 7

[State 2]
type = PlayerPush
trigger1 = 1
value = 0

[State Dust]
type = MakeDust
trigger1 = time >= 5
pos = 0, 0
spacing = 4

[State 3]
type = turn
trigger1 = time >= 24
trigger1 = p2dist x < 0

[State 4]
type = ChangeState
trigger1 = time >= 24
value = 11
ctrl = 1


;============================================================================================== 
[Statedef 2004]
type = A
movetype = H
physics = N

[State Anim]
type = changeanim
trigger1 = anim = 5035 && !animtime
value = 5050

[State Vel]
type = veladd
trigger1 = 1
y = gethitvar(yaccel)

[State End]
type = SelfState
trigger1 = vel y > 0 && pos y >= -10
value = 2001


;============================================================================================== 
[Statedef 2005]
type = A
movetype = H
physics = N

[State Anim]
type = changeanim
trigger1 = anim = 5035 && !animtime
value = 5050

[State Vel]
type = veladd
trigger1 = 1
y = gethitvar(yaccel)

[State End]
type = SelfState
trigger1 = vel y > 0 && pos y >= -10
value = 2002


;============================================================================================== 
[Statedef 2006]
type = A
movetype = H
physics = N

[State Anim]
type = changeanim
trigger1 = anim = 5035 && !animtime
value = 5050

[State Vel]
type = veladd
trigger1 = 1
y = gethitvar(yaccel)

[State End]
type = SelfState
trigger1 = vel y > 0 && pos y >= -10
value = 2003


;==============================================================================================
[Statedef 2100]
type = S
movetype = A
physics = S
juggle = 0
poweradd = (Var(10)=0) * -1000
ctrl = 0
anim = 2100
velset = 0, 0
sprpriority = 1
facep2 = 1

[State 1]
type = envcolor
trigger1 = time = 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 1

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 1]
type = Pause
trigger1 = time = 0
time = 20
movetime = 20

[State CounterSound]
type = PlaySnd
trigger1 = time = 0
value = 0, 9
volume = 255

[State 4]
type = explod
trigger1 = time = 0
anim = 2102
id = 9400
postype = p1
pos = 3, -46
sprpriority = 3
ownpal = 1
pausemovetime = -1

[State Damage Scaling]
type = varadd
trigger1 = animelem =3, =9
var(17) = 16

[State 9]
type = ChangeState
trigger1 = animelem =3, =9
value = 1700


;==============================================================================================
[Statedef 2200]
type = S
movetype = A
physics = S
juggle = 0 
poweradd = (Var(10)=0) * -1000
ctrl = 0
anim = 2100
velset = 0, 0
sprpriority = 1
facep2 = 1

[State 1]
type = envcolor
trigger1 = time = 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 1

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 1]
type = Pause
trigger1 = time = 0
time = 20
movetime = 20

[State CounterSound]
type = PlaySnd
trigger1 = time = 0
value = 0, 9
volume = 255

[State 4]
type = explod
trigger1 = time = 0
anim = 2102
id = 9400
postype = p1
pos = 3, -46
sprpriority = 3
ownpal = 1
pausemovetime = -1

[State Damage Scaling]
type = varadd
trigger1 = animelem =3, =9
var(17) = 16

[State 9]
type = ChangeState
trigger1 = animelem =3, =9
value = 1840


;==============================================================================================
[Statedef 2210]
type = A
movetype = A
physics = N
juggle = 0 
poweradd = (Var(10)=0) * -1000
ctrl = 0
anim = 2101
velset = 0, 0
sprpriority = 1
facep2 = 1

[State Pos Fix]
type = posset
trigger1 = time = 0
trigger1 = pos y > 0
y = 0

[State 1]
type = envcolor
trigger1 = time = 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 1

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 1]
type = Pause
trigger1 = time = 0
time = 20
movetime = 20

[State CounterSound]
type = PlaySnd
trigger1 = time = 0
value = 0, 9
volume = 255

[State 4]
type = explod
trigger1 = time = 0
anim = 2102
id = 9400
postype = p1
pos = 8, -84
sprpriority = 2
ownpal = 1
pausemovetime = -1

[State Damage Scaling]
type = varadd
trigger1 = animelem =3, =9
var(17) = 16

[State 9]
type = ChangeState
trigger1 = animelem =3, =9
value = 1852


;==============================================================================================
[Statedef 2211]
type = A
movetype = A
physics = N
juggle = 0 
poweradd = (Var(10)=0) * -1000
ctrl = 0
anim = 2101
velset = 0, 0
sprpriority = 1
facep2 = 1

[State Pos Fix]
type = posset
trigger1 = time = 0
trigger1 = pos y > 0
y = 0

[State 1]
type = envcolor
trigger1 = time = 0
value = 255, 10, 10
under = 1
ignorehitpause = 1
persistent = 0
time = 1

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 20

[State 1]
type = Pause
trigger1 = time = 0
time = 20
movetime = 20

[State CounterSound]
type = PlaySnd
trigger1 = time = 0
value = 0, 9
volume = 255

[State 4]
type = explod
trigger1 = time = 0
anim = 2102
id = 9400
postype = p1
pos = 8, -84
sprpriority = 2
ownpal = 1
pausemovetime = -1

[State 9]
type = posadd
trigger1 = animelem =3, =9
x = -6
y = -22

[State Damage Scaling]
type = varadd
trigger1 = animelem =3, =9
var(17) = 16

[State 9]
type = ChangeState
trigger1 = animelem =3, =9
value = 1870


;==============================================================================================
[Statedef 3450]
type = S
movetype = A
physics = N
juggle = 3
poweradd = (Var(10)=0) * -1000
anim = 3450
velset = 2, 0
ctrl = 0
sprpriority = 2
facep2 = 1

[State Randomizer]
type = varrandom
trigger1 = time = 0
v = 46
range = 0, 100

[State 0]
type = VarSet
trigger1 = time = 0
v = 4
value = 0

[State 0]
type = VarSet
trigger1 = time = 0
v = 21
value = 0

[State NHB]
type = NotHitBy
trigger1 = animelemtime(1) <= 0
trigger2 = Prevstateno != [3960, 3991]
trigger2 = Time < 10
value = SCA
time = 1

[State Ikuze]
type = PlaySnd
trigger1 = time = 0
value = 1, 3
volume = 255
channel = 0

[State Push]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State red fadeout]
type = BGPalFx
triggerall = var(28) = 0
trigger1 = animelem = 1
add = 100, 100, 100
mul = 200, 200, 300
sinadd = 100, 100, 100, 340
time = 53
ignorehitpause = 1
invertall = 1

[State red fadein]
type = BGPalFx
triggerall = var(28) = 1
trigger1 = animelem = 1
add = 100, 100, 150
sinadd = 305, -255, -355, 180
time = 32
invertall = 1
ignorehitpause = 1

[State white fadein]
type = BGPalFx
triggerall = var(28) > 1
trigger1 = animelem = 1
add = 255, -155, -155
sinadd = -255, -255, -255, 180
time = 32
ignorehitpause = 1
invertall = 1

[State Freeze]
type = superpause
trigger1 = animelem = 1
anim = S ifelse(var(28) > 0, 10061, 10060)
pos = 33, -39
time = ifelse(var(28) > 0, 33, 53)
movetime = 2
p2defmul = 1
darken = 0
sound = S ifelse(var(28) > 0, 0, 7), ifelse(var(28) > 0, 12, 3)

[State Wind effect] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 9402
scale = 0.7, 0.7
pos = 0, 0
sprpriority = 0
postype = p1
supermovetime = -1
bindtime = 18
ownpal = 1
pausemovetime = 9999

[State 0]
type = Varadd
trigger1 = time = 0
v = 28
value = 1

[State Shadows]
type = Afterimage
trigger1 = time = 0 && var(29) = 0
time = 93
length = 21
PalBright = 0, 0, 0
PalContrast = 148, 148, 148
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State Shadows]
type = Afterimage
triggerall = time = 0 && var(29) = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
time = 153
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State HitDefa]
type = HitDef
trigger1 = animelem = 3
attr = S, HA
damage = 30, 7
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 7, 9
sparkxy = -10, -50
sparkno = 3
getpower = 0, 0
guard.sparkno = 40; S9300
hitsound = S6, 5
guardsound = S0, 100
ground.type = Low
ground.slidetime = 20
ground.hittime = 25
ground.velocity = -1
air.velocity = -2, -6
ground.cornerpush.veloff = 0
fall.animtype = Hard
air.fall = 1
down.velocity = 0, -2
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State 3]
type = PlaySnd
trigger1 = animelem = 3
value = 4, 0
volume = 255

[State 9]
type = ChangeState
trigger1 = animelem = 4
value = 3454


;==============================================================================================
[Statedef 3454]
type = A
movetype = A
ctrl = 0

[State 0]
type = HitBy
trigger1 = 1
value = SCA, AA, AT
time = 1

[State 1]
type = VelSet
trigger1 = time = 0
x = 5
y = -4.5

[State HitDefb]
type = HitDef
trigger1 = animelem = 4
attr = S, HA
damage = 30, 7
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 7, 9
sparkxy = -10, -75
sparkno = 3
guard.sparkno = 40; S9300
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
ground.slidetime = 20
ground.hittime = 27
ground.velocity = -2
getpower = 0, 0
air.velocity = -2, -4
air.type = Low
fall.animtype = Hard
air.fall = 1
down.velocity = 0, -2
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State 2]
type = VelMul
trigger1 = 1
x = 0.85

[State 3]
type = VelAdd
trigger1 = 1
y = 0.44

[State 5]
type = ChangeAnim
trigger1 = vel y > -1
value = 1510
persistent = 0

[State 9]
trigger1 = vel y > 0
trigger1 = pos y >= 0
type = ChangeState
value = 3453


;==============================================================================================
[Statedef 3453]
type = S
movetype = I
physics = S
anim = 1520
velset = 1, 0
ctrl = 0

[State 3]
type = PosSet
trigger1 = time = 0
y = 0

[State 52, Land SOund]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 9]
type = ChangeState
trigger1 = time = 3
value = 3455
ctrl = 0


;==============================================================================================
[Statedef 3455]
type = S
movetype = A
physics = N
anim = 3400
velset = 2, 0
sprpriority = 2
ctrl = 0

[State 0]
type = VarSet
trigger1 = time = 0
v = 4
value = 0

[State Push]
type = playerpush
trigger1 = 1
value = 1
ignorehitpause = 1

[State HitDefa]
type = HitDef
trigger1 = animelem = 2
trigger2 = animelem = 3
attr = S, HA
damage = 30, 7
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 7, 9
sparkxy = -10, -50
sparkno = 3
guard.sparkno = 40; S9300
hitsound = S6, 5
guardsound = S0, 100
ground.type = Low
getpower = 0, 0
ground.slidetime = 20
ground.hittime = 25
ground.velocity = -2
air.velocity = -2, -3
ground.cornerpush.veloff = 0
fall.animtype = Hard
air.fall = 1
down.velocity = 0, -2
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State 6]
type = PlaySnd
trigger1 = animelem = 3
value = 4, 1
volume = 255

[State 9]
type = ChangeState
triggerall = animelem = 4
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 3456

[State 9]
type = ChangeState
triggerall = animelem = 4
trigger1 = var(46) < 90
trigger1 = var(28) < 3
value = 3451


;==============================================================================================
[Statedef 3451]
type = A
movetype = A
ctrl = 0

[State 1]
type = VelSet
trigger1 = time = 0
x = 5
y = -4.5

[State HitDefb]
type = HitDef
trigger1 = animelem = 4
attr = S, HA
damage = 30, 7
animtype = Back
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 7, 9
sparkxy = -10, -75
sparkno = 3
guard.sparkno = 40; S9300
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
air.type = High
ground.slidetime = 20
ground.hittime = 28
getpower = 0, 0
ground.velocity = -2
air.velocity = -2, -4
ground.cornerpush.veloff = 0
fall.animtype = Hard
air.fall = 1
down.velocity = 0, -2
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State 2]
type = VelMul
trigger1 = 1
x = 0.85

[State 3]
type = VelAdd
trigger1 = 1
y = 0.44

[State 5]
type = ChangeAnim
trigger1 = vel y > -1
value = 1510
persistent = 0

[State 9]
trigger1 = vel y > 0
trigger1 = pos y >= 0
type = ChangeState
value = 3452


;==============================================================================================
[Statedef 3456]
type = A
movetype = A
ctrl = 0
anim = 1501

[State 1]
type = VelSet
trigger1 = time = 0
x = 13
y = -8.5

[State 2]
type = VelMul
trigger1 = 1
x = 0.85

[State 3]
type = VelAdd
trigger1 = 1
y = 0.44

[State 9]
type = HitDef
trigger1 = animelem = 1
attr = S, SA
damage = 30, 7
animtype = Hard
getpower = (Var(10)=0) * 25
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 11, 13
sparkxy = -10, -80
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -3, -9
air.velocity = -2, -9
fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 120
forcestand = 1

[State 5]
type = ChangeAnim
trigger1 = vel y > -1
value = 1510
persistent = 0

[State 9]
trigger1 = vel y > 0
trigger1 = pos y >= 0
type = ChangeState
value = 3452


;==============================================================================================
[Statedef 3452]
type = S
movetype = I
physics = S
anim = 1520
velset = 1, 0
ctrl = 0

[State 3]
type = PosSet
trigger1 = time = 0
y = 0

[State 52, Land SOund]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 9]
type = ChangeState
trigger1 = time = 3
value = 3460
ctrl = 0


;==============================================================================================
[Statedef 3460]
type = S
movetype = A
physics = N
anim = 3410
velset = 10, 0
sprpriority = 2
ctrl = 0

[State FloorFire]
type = Explod
triggerall = time = 0
trigger1 = var(46) < 90
trigger1 = var(28) < 3
id = 2650
anim = 2650
postype = p1
pos = -40, -2
sprpriority = 3
ownpal = 1

[State VelSet]
type = VelSet
trigger1 = animelem = 2
x = 10

[State VelMul]
type = VelMul
trigger1 = 1
x = 0.95

[State Fist Fire Frame 1 & 2]
type = explod
triggerall = animelem = 1 || animelem = 2
trigger1 = var(46) < 90
trigger1 = var(28) < 3
anim = ifelse(animelemtime(1)=0, 2600, 2601)
id = ifelse(animelemtime(1)=0, 2600, 2601)
pos = 0, 0
postype = p1
bindtime = -1
removetime = 15
sprpriority = 3
ownpal = 1
removeongethit = 1

[State Remove Fist Fire 1 & 2]
type = RemoveExplod
trigger1 = animelem = 2 || animelem = 3
id = ifelse(animelemtime(2)=0, 2600, 2601)

[State Fist Fire 3]
type = explod
triggerall = animelem = 3
trigger1 = var(46) < 90
trigger1 = var(28) < 3
anim = 2602
id = 2603
pos = ifelse(animelemtime(3)=0, 0, -3), ifelse(animelemtime(3)=0, 0, -6)
postype = p1
bindtime = -1
removetime = 15
sprpriority = 3
scale = ifelse(animelemtime(3)=0, 1, 0.8), 1
ownpal = 1
removeongethit = 1

[State Remove Fist Fire 3]
type = RemoveExplod
trigger1 = animelem = 4
id = 2603

[State Fist Fire 4]
type = explod
triggerall = animelem = 4
trigger1 = var(46) < 90
trigger1 = var(28) < 3
anim = 2603
id = 2603
pos = ifelse(animelemtime(3)=0, 0, -3), ifelse(animelemtime(3)=0, 0, -6)
postype = p1
bindtime = -1
removetime = -1
sprpriority = 3
scale = ifelse(animelemtime(3)=0, 1, 0.8), 1
ownpal = 1
removeongethit = 1

[State Sound]
type = PlaySnd
triggerall = animelem = 2
trigger1 = var(46) < 90
trigger1 = var(28) < 3
value = 6, 9

[State 2]
type = PlaySnd
triggerall = time = 0
trigger1 = var(46) < 90
trigger1 = var(28) < 3
value = 4, 2
volume = 255

[State HitDef]
type = HitDef
trigger1 = animelem = 2
attr = S, HA
damage = 30, 7
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 2, 1
sparkxy = -10, -55
sparkno = 3
getpower = 0, 0
guard.sparkno = 40; S9300
hitsound = S6, 3
guardsound = S0, 100
ground.type = Low
ground.slidetime = 20
ground.hittime = 25
ground.velocity = -5
air.velocity = -5.5, -6
palfx.time = 7
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
air.fall = 1
fall.animtype = Hard
forcestand = 1
down.velocity = -1, -2
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State HitDef]
type = HitDef
trigger1 = animelem = 3
attr = S, HA
damage = 30, 7
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 2, 1
sparkxy = -10, -55
sparkno = 3
guard.sparkno = 40; S9300
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
ground.slidetime = 20
ground.hittime = 25
ground.velocity = -5, -2
air.velocity = -5.5, -2
getpower = 0, 0
palfx.time = 7
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
fall.animtype = Hard
air.fall = 1
forcestand = 1
down.velocity = -1, -2
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State FireB]
type = Explod
triggerall = movehit
triggerall = numexplod(2500) < 4
trigger1 = var(46) < 90
trigger1 = var(28) < 3
ignorehitpause = 1
anim = 2500
id = 2500
postype = p2
pos = -10, -40
random = 50, 40
bindtime = -1
sprpriority = 3
ownpal = 1

[State FireA]
type = Explod
triggerall = movehit
triggerall = numexplod(2500) < 4
trigger1 = var(46) < 90
trigger1 = var(28) < 3
ignorehitpause = 1
anim = 2500
id = 2500
postype = p2
pos = -10, -80
random = 50, 40
bindtime = -1
sprpriority = 3
ownpal = 1

[State attacksnd]
type = PlaySnd
triggerall = animelem = 2, 3
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
volume = 255
value = 0, 7

[State Bam]
type = PlaySnd
triggerall = animelem = 2, 3
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 2, 9
volume = 255

[State Bam]
type = PlaySnd
triggerall = animelem = 2, 3
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 3, 2
volume = 255

[State Implosion] 
type = Explod
triggerall = animelem = 2, 3
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
anim = 10451
sprpriority = 2
pos = 0, 10
postype = p1
ownpal = 1
persistent = 0
pausemovetime = 0
ontop = 1
scale = 1.3, 1.3
removeongethit = 1

[State 9]
type = ChangeState
triggerall = animelem = 3, 1
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 60053

[State 9]
type = ChangeState
triggerall = animelem = 4, 1
trigger1 = var(46) < 90
trigger1 = var(28) < 3
value = 3470


;==============================================================================================
[Statedef 3470]
type = A
movetype = A
physics = N
velset = 14, -13.5
sprpriority = 2
ctrl = 0

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = 3, 9

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -3, 3

[State FireB]
type = Explod
trigger1 = vel Y < -1
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 18, -124
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(51)), -(var(51))/6

[State FireB]
type = Explod
trigger1 = vel Y < -1
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 18, -124
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(52)), -(var(51))/6

[State 9]
type = HitDef
trigger1 = TimeMod = 2, 0
trigger1 = time < 10
attr = A, HA
damage = 7, 7
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 5, 4
sparkxy = -18, -80
getpower = 0, 0
guard.sparkno = 40; S9300
hitsound = S6, 10
guardsound = S0, 100
ground.type = High
ground.slidetime = 5
ground.hittime = 5
ground.velocity = -3, -14
air.velocity = -3, -14
fall = 1
fall.recover = 0
fall.recovertime = 120
fall.animtype = Hard
palfx.time = 7
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
down.velocity = -1, -2
forcestand = 1

[State Button Mashing!]
type = HitDef
triggerall = TimeMod = 2, 1
trigger1 = command = "x"
trigger2 = command = "y"
trigger3 = command = "z"
trigger4 = AILevel && p2life > 0
trigger4 = random < (1000 * (AIlevel ** 2 / 64.0))
attr = A, HA
damage = 7, 7
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 5, 4
sparkxy = -18, -80
guard.sparkno = 40; S9300
hitsound = S6, 10
guardsound = S0, 100
ground.type = High
getpower = 0, 0
ground.slidetime = 5
ground.hittime = 5
ground.velocity = -3, -14
air.velocity = -3, -14
fall = 1
fall.recover = 0
fall.recovertime = 120
fall.animtype = Hard
palfx.time = 7
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
down.velocity = -1, -2
forcestand = 1

[State FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State 3]
type = VelMul
trigger1 = time > 0
x = 0.88

[State 4]
type = VelAdd
trigger1 = 1
y = 0.44

[State 5]
type = ChangeAnim
trigger1 = vel y > -1
value = 1510
persistent = 0

[State RemoveFF_4]
type = RemoveExplod
trigger1 = animelem = 1
trigger1 = anim = 1510
id = 2603

[State hadouken hit helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "hand fire"
pos = 0, 0
postype = p1
stateno =10620
ownpal = 1

[State 6]
type = velset
trigger1 = anim = 1510
x = 0
persistent = 0

[State 0]
type = Varset
trigger1 = vel y > 0 && pos y >= 0
v = 28
value = 0

[State 9]
trigger1 = vel y > 0 && pos y >= 0
type = ChangeState
value = 1521

[State Idle]
type = statetypeset
trigger1 = anim = 1510
movetype = I


;==============================================================================================
[Statedef 3700]
type = S
movetype = A
juggle = 0
poweradd = (Var(10)=0) * -1000
anim = 3500
velset = 0, 0
ctrl = 0
sprpriority = 2
facep2 = 1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -6, 6

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -6, 6

[State FireB]
type = Explod
trigger1 = time >= 11
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 18, -39
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = -1/3*(var(53)), -1/3*var(53)

[State FireB]
type = Explod
trigger1 = time >= 11
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 18, -39
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = -1/3*(var(53)), -1/3*var(53)

[State Randomizer]
type = varrandom
trigger1 = time = 0
v = 46
range = 0, 100

[State 1]
type = NotHitBy
trigger1 = animelemtime(1) <= 0
trigger2 = Prevstateno != [3960, 3991]
value = SCA
time = 1

[State red fadeout]
type = BGPalFx
triggerall = var(28) = 0
trigger1 = animelem = 1
add = 100, 100, 100
mul = 200, 200, 300
sinadd = 100, 100, 100, 360
time = 65
ignorehitpause = 1
invertall = 1

[State red fadein]
type = BGPalFx
triggerall = var(28) = 1
trigger1 = animelem = 1
add = 100, 100, 150
sinadd = 305, -255, -355, 180
time = 32
invertall = 1
ignorehitpause = 1

[State white fadein]
type = BGPalFx
triggerall = var(28) > 1
trigger1 = animelem = 1
add = 255, -155, -155
sinadd = -255, -255, -255, 180
time = 32
ignorehitpause = 1
invertall = 1

[State Kurai]
type = PlaySnd
triggerall = var(28) = 0
trigger1 = time = 0
value = 3, 9
channel = 0

[State Push]
type = playerpush
trigger1 = animelemtime(6) >= 0
value = 0
ignorehitpause = 1

[State Shadows]
type = Afterimage
trigger1 = time = 0 && var(29) = 0
time = 90
length = 21
PalBright = 0, 0, 0
PalContrast = 148, 148, 148
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State Freeze]
type = superpause
trigger1 = animelem = 1
anim = S ifelse(var(28) > 0, 10061, 10060)
pos = 22, -27
time = ifelse(var(28) > 0, 32, 65)
movetime = 13
p2defmul = 1
darken = 0
sound = S ifelse(var(28) > 0, 0, 7), ifelse(var(28) > 0, 12, 3)

[State FC1] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10410
pos = 25, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 65
ownpal = 1
pausemovetime = 9999

[State FC2] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10411
pos = 25, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 65
ownpal = 1
pausemovetime = 9999

[State FC1] 
type = Explod
triggerall = var(28) > 0
trigger1 = time = 0
anim = 10412
pos = 25, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 65
ownpal = 1
pausemovetime = 9999

[State FC2] 
type = Explod
triggerall = var(28) > 0
trigger1 = time = 0
anim = 10413
pos = 25, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 65
ownpal = 1
pausemovetime = 9999

[State Fist Fire Frame 1]
type = explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 2610
id = 2600
pos = 0, 0
postype = p1
bindtime = -1
removetime = 120
sprpriority = 4
ownpal = 1
supermovetime = -1
pausemovetime = 9999

[State Fist Fire Frame 1]
type = explod
triggerall = var(28) > 0
trigger1 = time = 0
anim = 2611
id = 2600
pos = 0, 0
postype = p1
bindtime = -1
removetime = 120
sprpriority = 4
ownpal = 1
supermovetime = -1
pausemovetime = 9999

[State Remove Fist Fire 1]
type = RemoveExplod
trigger1 = animelem = 6
id = 2600

[State Wind effect] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 9402
scale = 0.7, 0.7
pos = 0, 0
sprpriority = 0
postype = p1
supermovetime = -1
bindtime = 18
ownpal = 1
pausemovetime = 9999

[State 0]
type = Varadd
trigger1 = animelem = 5
v = 28
value = 1

[State Shadows]
type = Afterimage
triggerall = animelem = 5 && var(29) = 0
trigger1 = var(46) >= 90 || var(28) >= 3
time = 100
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State Shinryuken]
type = PlaySnd
trigger1 = animelem = 7
value = 2, 10
channel = 0

[State Wind effect2] 
type = Explod
trigger1 = animelem = 7
anim = 9403
pos = -5, 0
sprpriority = 0
postype = p1
supermovetime = -1
ownpal = 1
pausemovetime = 9999

[State Rising Dragon] 
type = Explod
trigger1 = animelem = 6
anim = 10200
sprpriority = 0
pos = -2, 0
postype = p1
ownpal = 1
persistent = 0
pausemovetime = 0
scale = 1.3, 0.9
removeongethit = 1
ID = 911

[State Rising Dragon] 
type = Explod
trigger1 = animelem = 6
anim = 10201
sprpriority = 2
pos = -2, 0
postype = p1
ownpal = 1
persistent = 0
pausemovetime = 0
scale = 1.35, 0.95
removeongethit = 1
ID = 911

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -10, -30

[State FireB]
type = Explod
trigger1 = time > 14
persistent = 1
anim = 12212
id = 12212
postype = p1
pos = -2, -40
random = 50, 0
sprpriority = 5
ownpal = 1
vel = 0, var(51)

[State FireB]
type = Explod
trigger1 = time > 14
persistent = 1
anim = 12215
id = 12212
postype = p1
pos = -2, -40
random = 50, 0
sprpriority = 5
ownpal = 1
vel = 0, var(51)

[State Column Fire] 
type = Explod
trigger1 = animelem = 6
anim = 10101
pos = 6, 0
sprpriority = -1
postype = p1
ownpal = 1
id = 10100
removeongethit = 1

[State Fist Fire Frame 2]
type = explod
trigger1 = animelem = 6
anim = 2601
id = 2601
pos = 0, 0
postype = p1
bindtime = -1
removetime = 15
sprpriority = 3
ownpal = 1
removeongethit = 1
supermovetime = 10

[State Remove Fist Fire 2]
type = RemoveExplod
trigger1 = animelem = 7
id = 2601

[State Fist Fire 3]
type = explod
trigger1 = animelem = 7
anim = 2602
id = 2602
pos = ifelse(animelemtime(7)=0, 0, -3), ifelse(animelemtime(7)=0, 0, -6)
postype = p1
bindtime = -1
removetime = 4
sprpriority = 3
scale = ifelse(animelemtime(7)=0, 1, 0.8), 1
ownpal = 1
removeongethit = 1

[State Remove Fist Fire 3]
type = RemoveExplod
trigger1 = stateno = 3710
id = 2602

[State Randomizer]
type = varrandom
trigger1 = 1
v = 55
range = -20, 20

[State Randomizer]
type = varrandom
trigger1 = 1
v = 56
range = -20, 20

[State 3]
type = HitDef
trigger1 = animelem = 6
trigger2 = animelem = 7
attr = S, HA
damage = 50, 5
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 7, 0
sparkxy = var(55), var(56)
sparkno = 3
guard.sparkno = 9300
hitsound = S6, 5
getpower = 0, 0
guardsound = S0, 100
ground.type = Low
ground.slidetime = 16
ground.hittime = 16
ground.velocity = 3, -6
air.velocity = 3, -6
down.velocity = 3, -6
fall = 1
fall.animtype = Hard
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State 9]
type = ChangeState
triggerall = Animtime = 0
trigger1 = var(46) < 90
trigger1 = var(28) < 3
value = 3710

[State 9]
type = ChangeState
triggerall = Animtime = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 3711


;==============================================================================================
[Statedef 3710]
type = A
movetype = A
physics = N
anim = 3520
sprpriority = 2

[State Speed] 
type = ChangeAnim
triggerall = animelemtime(2) >= 0
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = AILevel && p2life > 0 && var(10) = 0
trigger2 = random < (500 * (AIlevel ** 2 / 64.0))
value = anim
elem = ifelse(animelemtime(6) >= 0, 2, animelemNo(0) + 1)
ignorehitpause = 1
persistent = 3

[State Randomizer1]
type = varrandom
trigger1 = 1
v = 52
range = -3, 3

[State Randomizer2]
type = varrandom
trigger1 = 1
v = 51
range = 3, 9

[State FireB]
type = Explod
trigger1 = random <= 500 && vel Y < 0
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 0, -110
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -(var(52))/4, -(var(51))/4

[State Randomizer]
type = varrandom
trigger1 = 1
v = 36
range = -5, 5

[State Randomizer3]
type = varrandom
trigger1 = 1
v = 35
range = 4, 10

[State FireB]
type = Explod
trigger1 = random <= 500 && vel Y < 0
persistent = 1
anim = 12216
id = 12213
postype = p1
pos = 0, -110
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(36), (var(35))
scale = 0.2, 1.5
accel = -(var(36))/5, -(var(35))/5

[State Randomizer4]
type = varrandom
trigger1 = 1
v = 38
range = -10, 10

[State Randomizer5]
type = varrandom
trigger1 = 1
v = 37
range = 4, 10

[State FireB]
type = Explod
trigger1 = random <= 500 && vel Y < 0
persistent = 1
anim = 12216
id = 12213
postype = p1
pos = 0, -110
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(38), (var(37))
scale = 0.2, 1.5
accel = -(var(38))/6, -(var(37))/6

[State 2]
type = velset
trigger1 = 1
x = 0

[State this means shinryuken]
type = PlaySnd
trigger1 = movehit
persistent = 0
value = 2, 3

[State Push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 1]
type = VelSet
trigger1 = time = 1
y = -13.3

[State 1]
type = palfx
trigger1 = time = 1
ignorehitpause = 1
time = 51
add = 0, 0, 0
sinadd = 512, 82, 0, 100

[State Randomizer]
type = varrandom
trigger1 = 1
v = 55
range = -20, 20

[State Randomizer]
type = varrandom
trigger1 = 1
v = 56
range = -120, -80

[State 7]
type = HitDef
trigger1 = time < 30
trigger1 = animelem = 1 || animelem = 2 || animelem = 3 || animelem = 4 || animelem = 5 || animelem = 6
p2facing = 1
attr = A, HA
damage = 12, 3
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
getpower = 0, 0
pausetime = 2, 0
hitsound = S6, 5
sparkxy = var(55), var(56)
guard.sparkno = 40; S9300
guardsound = S0, 100
ground.type = Low
ground.slidetime = 16
ground.hittime = 16
ground.velocity = ifelse(p2dist x > 8, 3, -3), -4
air.velocity = ifelse(p2dist x > 8, 3, -3), -4
fall = 1
fall.animtype = Hard
down.velocity = ifelse(p2dist x > 8, 3, -3), -4
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
guard.pausetime = 2, 0
guard.hittime = 0
guard.velocity = 0
airguard.velocity = -1, -7
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State 9]
type = HitDef
trigger1 = time = 30
trigger1 = animelem = 1 || animelem = 2 || animelem = 3 || animelem = 4 || animelem = 5 || animelem = 6
attr = A, HA
damage = 12, 3
animtype = Up
fall.animtype = Up
priority = 6, Hit
hitflag = MAFD
guardflag = MA
pausetime = 2, 0
hitsound = S6, 5
sparkxy = var(55), var(56)
getpower = 0, 0
guard.sparkno = 40; S9300
guardsound = S0, 100
ground.type = Low
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -3, -9
air.velocity = -3, -9
fall = 1
fall.animtype = Hard
down.velocity = -3, -9
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
guard.pausetime = 2, 0
guard.hittime = 0
guard.velocity = 0
airguard.velocity = -1, -7
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State 4]
type = VelAdd
trigger1 = Time > 5
y = 0.44

[State flame sound]
type = PlaySnd
triggerall = vel y < 0
triggerall = Hitcount < 20
trigger1 = movehit
trigger1 = timemod = 5, 4
value = 2, 8
volume = -255
channel = 3

[State flame sound]
type = PlaySnd
triggerall = vel y < 0
triggerall = Hitcount >= 20
trigger1 = movehit
trigger1 = timemod = 5, 4
value = 2, 9
volume = -255
channel = 3

[State 9]
type = EnvShake
triggerall = vel y < 0
trigger1 = timemod = 3, 2
trigger1 = movehit
ignorehitpause = 1
time = 4
ampl = -5
freq = 100
phase = 1

[State FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2500
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State Spark] 
type = Explod
triggerall = vel y < 0
trigger1 = timemod = 4, 3
trigger1 = movehit
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
ignorehitpause = 1
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 1]
type = envcolor
triggerall = vel y < 0
trigger1 = Hitcount >= 20
trigger1 = movehit
value = 255, 10, 10
under = 1
time = 1

[State 5]
type = ChangeAnim
trigger1 = vel y > -1
trigger1 = time > 1
value = 1510
persistent = 0

[State 0]
type = Varset
trigger1 = vel y > 0
trigger1 = pos y >= 0
v = 28
value = 0

[State 7]
trigger1 = vel y > 0
trigger1 = pos y >= 0
type = ChangeState
value = 1521

[State Idle]
type = statetypeset
trigger1 = anim = 1510
movetype = I


;==============================================================================================
[Statedef 3711]
type = A
movetype = A
physics = N
anim = 3520
sprpriority = 2

[State Randomizer1]
type = varrandom
trigger1 = 1
v = 52
range = -3, 3

[State Randomizer2]
type = varrandom
trigger1 = 1
v = 51
range = 3, 9

[State FireB]
type = Explod
trigger1 = random <= 500 && vel Y < 0
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 0, -110
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -(var(52))/4, -(var(51))/4

[State Randomizer]
type = varrandom
trigger1 = 1
v = 36
range = -5, 5

[State Randomizer3]
type = varrandom
trigger1 = 1
v = 35
range = 4, 10

[State FireB]
type = Explod
trigger1 = random <= 500 && vel Y < 0
persistent = 1
anim = 12216
id = 12213
postype = p1
pos = 0, -110
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(36), (var(35))
scale = 0.2, 1.5
accel = -(var(36))/5, -(var(35))/5

[State Randomizer4]
type = varrandom
trigger1 = 1
v = 38
range = -10, 10

[State Randomizer5]
type = varrandom
trigger1 = 1
v = 37
range = 4, 10

[State FireB]
type = Explod
trigger1 = random <= 500 && vel Y < 0
persistent = 1
anim = 12216
id = 12213
postype = p1
pos = 0, -110
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(38), (var(37))
scale = 0.2, 1.5
accel = -(var(38))/6, -(var(37))/6

[State 2]
type = velset
trigger1 = 1
x = 0

[State this means shinryuken]
type = PlaySnd
trigger1 = time = 0
trigger1 = movehit
value = 2, 3

[State Push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 1]
type = VelSet
trigger1 = time = 1
y = -13.3

[State 1]
type = palfx
trigger1 = time = 1
ignorehitpause = 1
time = 51
add = 0, 0, 0
sinadd = 512, 82, 0, 100

[State Randomizer]
type = varrandom
trigger1 = 1
v = 55
range = -20, 20

[State Randomizer]
type = varrandom
trigger1 = 1
v = 56
range = -150, -100

[State 7]
type = HitDef
trigger1 = hitcount < 20
trigger1 = (gametime%3) = 1
attr = A, HA
damage = 13, 3
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
getpower = 0, 0
pausetime = 2, 0
hitsound = S6, 5
sparkxy = var(55), var(56)
guard.sparkno = 40; S9300
guardsound = S0, 100
ground.type = Low
ground.slidetime = 16
ground.hittime = 16
ground.velocity = ifelse(p2dist x > 0, 1, -1), -5
air.velocity = ifelse(p2dist x > 0, 1, -1), -5
fall = 1
fall.animtype = Hard
down.velocity = ifelse(p2dist x > 0, 1, -1), -5
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
guard.pausetime = 2, 0
guard.hittime = 0
guard.velocity = 0
airguard.velocity = -1, -7
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State 4]
type = VelAdd
trigger1 = Time > 5
trigger1 = time < 40
y = 0.20

[State 4]
type = VelAdd
trigger1 = Time > 40
y = 0.44

[State flame sound]
type = PlaySnd
triggerall = vel y < 0
triggerall = Hitcount < 18
trigger1 = movehit
trigger1 = timemod = 5, 4
value = 2, 8
volume = -255
channel = 3

[State flame sound]
type = PlaySnd
triggerall = vel y < 0
triggerall = Hitcount >= 19
trigger1 = movehit
trigger1 = timemod = 5, 4
value = 2, 9
volume = -255
channel = 3

[State 9]
type = EnvShake
triggerall = vel y < 0
trigger1 = timemod = 3, 2
trigger1 = movehit
ignorehitpause = 1
time = 4
ampl = -5
freq = 100
phase = 1

[State FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2500
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State Spark] 
type = Explod
triggerall = vel y < 0
trigger1 = timemod = 4, 3
trigger1 = movehit
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
ignorehitpause = 1
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 0]
type = Varset
trigger1 = vel y > 0
trigger1 = pos y >= 0
v = 28
value = 0

[State 7]
type = ChangeState
trigger1 = movecontact
trigger1 = time >= 40
value = 3712

[State 7]
type = ChangeAnim
trigger1 = movecontact = 0
trigger1 = time >= 40 && anim != 1510
value = 1510

[State 7]
type = ChangeState
triggerall = movecontact = 0
trigger1 = time > 10
trigger1 = pos y >= -5
value = 1521

[State Idle]
type = statetypeset
trigger1 = anim = 1510
movetype = I


;==============================================================================================
[Statedef 3712]
type = A
movetype = A
physics = N
anim = 3521
sprpriority = -5

[State Randomizer1]
type = varrandom
trigger1 = 1
v = 52
range = -3, 3

[State Randomizer2]
type = varrandom
trigger1 = 1
v = 51
range = -3, -9

[State FireB]
type = Explod
trigger1 = random <= 100 && vel Y >0
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 0, 10
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -(var(52))/4, (var(51))/4

[State Randomizer]
type = varrandom
trigger1 = 1
v = 36
range = -5, 5

[State Randomizer3]
type = varrandom
trigger1 = 1
v = 35
range = -4, -10

[State FireB]
type = Explod
trigger1 = random <= 100 && vel Y > 0
persistent = 1
anim = 12216
id = 12213
postype = p1
pos = 0, 10
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(36), (var(35))
scale = 0.2, 1.5
accel = -(var(36))/5, (var(35))/5

[State Randomizer4]
type = varrandom
trigger1 = 1
v = 38
range = -10, 10

[State Randomizer5]
type = varrandom
trigger1 = 1
v = 37
range = -4, -10

[State FireB]
type = Explod
trigger1 = random <= 500 && vel Y > 0
persistent = 1
anim = 12216
id = 12213
postype = p1
pos = 0, 10
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(38), (var(37))
scale = 0.2, 1.5
accel = -(var(38))/6, (var(37))/6

[State Shadows]
type = Afterimage
trigger1 = time = 0 && var(29) = 0
time = 100
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State 2]
type = velset
trigger1 = 1
x = 0

[State this means shinryuken]
type = PlaySnd
trigger1 = time = 0
trigger1 = movehit
value = 2, 3

[State Push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 1]
type = VelSet
trigger1 = time = 1
y = 9

[State 1]
type = palfx
trigger1 = time = 1
ignorehitpause = 1
time = 51
add = 0, 0, 0
sinadd = 512, 82, 0, 100

[State Randomizer]
type = varrandom
trigger1 = 1
v = 55
range = -20, 20

[State Randomizer]
type = varrandom
trigger1 = 1
v = 56
range = 0, 50

[State 7]
type = HitDef
triggerall = pos y <= -65
triggerall = var(7) = 0
trigger1 = (gametime%3) = 1
attr = A, HA
damage = 13, 3
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
getpower = 0, 0
pausetime = 2, 0
hitsound = S6, 5
sparkxy = var(55), var(56)
guard.sparkno = 40; S9300
guardsound = S0, 100
ground.type = Trip
ground.slidetime = 16
ground.hittime = 16
ground.velocity = ifelse(p2dist x > 0, 1, -1), 8
air.velocity = ifelse(p2dist x > 0, 1, -1), 8
air.fall = 1
fall.animtype = Hard
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
guard.pausetime = 2, 0
guard.hittime = 0
guard.velocity = -2
airguard.velocity = -2, 3
down.velocity = 0, 0
down.hittime = 10
bounce = 0
down.bounce = 0
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State 7]
type = HitDef
trigger1 = pos y > -65
attr = A, HA
damage = 12, 3
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
getpower = 0, 0
pausetime = 2, 0
hitsound = S6, 5
sparkxy = var(55), var(56)
guard.sparkno = 40; S9300
guardsound = S0, 100
ground.type = Trip
ground.slidetime = 16
ground.hittime = 16
ground.velocity = 0, 30
air.velocity = -1, 30
fall = 1
fall.animtype = Hard
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
guard.pausetime = 2, 0
guard.hittime = 0
guard.velocity = -2
airguard.velocity = -2, 3
down.velocity = 0, 0
down.hittime = 70
bounce = 0
down.bounce = 0
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State 4]
type = VelAdd
trigger1 = Time > 0
y = 0.3

[State flame sound]
type = PlaySnd
triggerall = vel y > 0
trigger1 = movehit
trigger1 = timemod = 5, 4
value = 2, 8
volume = -255
channel = 3

[State 9]
type = EnvShake
trigger1 = pos y >= -5
ignorehitpause = 1
time = 40
ampl = -10
freq = 100
phase = 1

[State FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2500
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State Spark] 
type = Explod
triggerall = vel y > 0
trigger1 = timemod = 4, 3
trigger1 = movehit
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
ignorehitpause = 1
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 1]
type = envcolor
trigger1 = pos y >= -5
value = 255, 10, 10
under = 1
time = 3

[State Rising Dragon] 
type = Explod
trigger1 = time = 0
anim = 10202
sprpriority = 2
pos = 0, -50
postype = p1
ownpal = 1
persistent = 0
pausemovetime = 0
scale = 1.35, 0.95
removeongethit = 1

[State Rising Dragon] 
type = Explod
trigger1 = time = 0
anim = 10203
sprpriority = 0
pos = 0, -50
postype = p1
ownpal = 1
persistent = 0
pausemovetime = 0
scale = 1.3, 0.9
removeongethit = 1

[State 0]
type = Varset
trigger1 = pos y >= -5
v = 28
value = 0

[State Crash]
type = PlaySnd
trigger1 = pos y >= -5
value = 2, 9
volume = 255

[State Bam]
type = PlaySnd
trigger1 = pos y >= -5
value = 3, 3
volume = 255

[State Implosion] 
type = Explod
trigger1 = pos y >= -5
anim = 10451
sprpriority = 5
pos = 0, 10
postype = p1
ownpal = 1
persistent = 0
pausemovetime = 0
ontop = 1
scale = 1.3, 1.3
removeongethit = 1

[State 7]
trigger1 = pos y >= -5
type = ChangeState
value = 3713


;==============================================================================================
[Statedef 3713]
type = A
movetype = I
physics = N
anim = 1821
ctrl = 0
sprpriority = 2

[State FireB]
type = Explod
trigger1 = timemod = 4, 3
trigger1 = time < 70
trigger1 = numexplod(2500) < 4
postype = p2
ignorehitpause = 1
anim = 2500
id = 2500
pos = 0, -10
random = 80, 10
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = timemod = 4, 3
trigger1 = time < 70
trigger1 = numexplod(2500) < 4
postype = p2
ignorehitpause = 1
anim = 2501
id = 2500
pos = 0, -10
random = 80, 10
bindtime = -1
sprpriority = 2
ownpal = 1

[State Randomizer1]
type = varrandom
trigger1 = 1
v = 51
range = -2, -4

[State Randomizer2]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p1
pos = 10, -56
random = 95, 100
sprpriority = 5
ownpal = 1
vel = var(52), 0
scale = 0.1, 0.75
accel = -(var(52))/3, (var(51))/10

[State Randomizer]
type = varrandom
trigger1 = 1
v = 35
range = -2, -4

[State Randomizer3]
type = varrandom
trigger1 = 1
v = 36
range = -3, -9

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p1
pos = -10, -56
random = 95, 100
sprpriority = 5
ownpal = 1
vel = var(36), 0
scale = 0.1, 0.75
accel = -(var(36))/3, (var(35))/10

[State Slow Motion]
type = Pause 
triggerall = roundstate = 2 && p2life > 0
trigger1 = time < 30
time = 1
movetime = 0
ignorehitpause = 1

[State Shadows]
type = Afterimage
trigger1 = time = 0 && var(29) = 0
time = 40
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State 6]
type = VelAdd
trigger1 = 1
y = 0.44

[State 6]
type = Velset
trigger1 = time = 0
x = 5
y = -9

[State 8]
type = turn
trigger1 = time = 0
persistent = 0

[State 8]
type = ChangeState
triggerall = time > 5
trigger1 = pos y >= 0
value = 107
ctrl = 0


;==============================================================================================
[Statedef 3800]
type = S
movetype = A
juggle = 3
poweradd = (Var(10)=0) * -1000
anim = 3800
velset = 0, 0
ctrl = 0
sprpriority = 2
facep2 = 1

[State Randomizer]
type = varrandom
trigger1 = time = 0
v = 46
range = 0, 100

[State NHB]
type = NotHitBy
trigger1 = animelemtime(1) <= 0
trigger2 = Prevstateno != [3960, 3991]
trigger2 = animelemtime(5) < 1
value = SCA
time = 1

[State Shadows]
type = Afterimage
trigger1 = time = 0 && var(29) = 0
time = 300
length = 21
PalBright = 0, 0, 0
PalContrast = 148, 148, 148
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State Shadows]
type = Afterimage
triggerall = time = 0 && var(29) = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
time = 300
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State width]
type = width
trigger1 = animelem = 3, >= 0
value = 30

[State red fadeout]
type = BGPalFx
triggerall = var(28) = 0
trigger1 = animelem = 1
add = 100, 100, 100
mul = 200, 200, 300
sinadd = 100, 100, 100, 350
time = 57
ignorehitpause = 1
invertall = 1

[State red fadein]
type = BGPalFx
triggerall = var(28) = 1
trigger1 = animelem = 1
add = 100, 100, 150
sinadd = 305, -255, -355, 180
time = 32
invertall = 1
ignorehitpause = 1

[State white fadein]
type = BGPalFx
triggerall = var(28) > 1
trigger1 = animelem = 1
add = 255, -155, -155
sinadd = -255, -255, -255, 180
time = 32
ignorehitpause = 1
invertall = 1

[State Freeze]
type = superpause
trigger1 = animelem = 1
anim = S ifelse(var(28) > 0, 10061, 10060)
time = ifelse(var(28) > 0, 32, 57)
pos = -22, -26
movetime = 4
p2defmul = 1
darken = 0
sound = S ifelse(var(28) > 0, 0, 7), ifelse(var(28) > 0, 12, 3)

[State Wind effect] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 9402
scale = 0.7, 0.7
pos = 30, 0
sprpriority = 0
postype = p1
supermovetime = -1
bindtime = 18
ownpal = 1
pausemovetime = 9999

[State 0]
type = Varadd
trigger1 = animelem = 3
v = 28
value = 1

[State Shadows]
type = Afterimage
triggerall = animelem = 3 && var(29) = 0
trigger1 = var(46) >= 90 || var(28) >= 3
time = 300
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State Shippu]
type = PlaySnd
trigger1 = time = 0
value = 1, 5
channel = 0

[State PosAdd]
type = PosAdd
trigger1 = time >= 4
x = 2.2

[State RoundHouse]
type = PlaySnd
trigger1 = animelem = 4 || animelem = 28
value = 4, 10
channel = 0

[State WhiffSoundRoundhouse]
type = PlaySnd
trigger1 = animelem = 4 || animelem = 12 || animelem = 20 || animelem = 28
value = 0, 4
volume = 25

[State Forwars]
type = PlaySnd
trigger1 = animelem = 12 || animelem = 20
value = 4, 8
volume = 25
channel = 0

[State RoundHouse]
type = HitDef
trigger1 = animelem = 5 || animelem = 29
attr = S, HA
damage = 30, 5
animtype = Hard
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 7, 9
sparkxy = -10, -60
sparkno = 3
getpower = 0, 0
guard.sparkno = 40; S9300
hitsound = S6, 4
guardsound = S0, 100
ground.type = Low
ground.slidetime = 18
ground.hittime = 20
ground.velocity = ifelse(movehit=0, 5, -6)
guard.velocity = -3
air.velocity = 1, -4
forcestand = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 120
ground.cornerpush.veloff = 0
forcestand = 1

[State Forward]
type = HitDef
trigger1 = animelem = 13 || animelem = 21
attr = S, HA
damage = 30, 5
animtype = Hard
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 7, 9
sparkxy = -10, -70
sparkno = 3
getpower = 0, 0
guard.sparkno = 40; S9300
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
ground.slidetime = 18
ground.hittime = 20
ground.velocity = ifelse(movehit=0, 5, -6)
guard.velocity = -3
air.velocity = -8, -4
forcestand = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 120
ground.cornerpush.veloff = 0
forcestand = 1

[State PosAdd]
type = PosAdd
trigger1 = time = 61
x = ifelse(movehit=0, 10, 40)

[State 9]
type = ChangeState
triggerall = animelem = 4
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 3820

[State 9]
type = ChangeState
trigger1 = animtime = 0
trigger1 = var(46) < 90
trigger1 = var(28) < 3
value = 3820


;==============================================================================================
[Statedef 3820]
type = S
movetype = A
physics = S
anim = 3821
sprpriority = 2
ctrl = 0

[State 1]
type = changeanim
trigger1 = var(46) >= 90 || var(28) >= 3
trigger1 = time = 0
value = 3821
elem = 4

[State NHB]
type = NotHitBy
trigger1 = var(46) >= 90 || var(28) >= 3
trigger1 = animelemtime(7) < 1
value = SCA
time = 1

[State w1]
type = width
trigger1 = animelem = 1, >= 0
value = 16

[State w2]
type = width
trigger1 = animelem = 2, >= 0
value = 20

[State w3]
type = width
trigger1 = animelem = 3, >= 0
value = 24

[State AttackVoice]
type = PlaySnd
trigger1 = time = 6
value = 6, 11
volume = 25
channel = 0

[State WhiffSound]
type = PlaySnd
trigger1 = time = 6
value = 0, 4
volume = 255

[State WhiffSound]
type = PlaySnd
trigger1 = time = 6
value = 0, 4
volume = 255
freqmul = 0.8

[State 2]
type = HitDef
trigger1 = animelem = 7
attr = S, HA
animtype = Hard
damage = 30, 5
hitflag = MAF
guardflag = MA
priority = 5, Hit
getpower = 0, 0
pausetime = 10, 20
sparkno = 3
sparkxy = -10, -50
guard.sparkno = 40; S9300
hitsound = S6, 6
guardsound = S0, 100
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4+((p2bodydist x)/10), -6
air.velocity = -4+((p2bodydist x)/10), -6
forcestand = 1
fall = 1
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State 5]
type = ChangeAnim
trigger1 = movehit = 0
trigger1 = anim = 3821 && animelem = 10
value = 3822

[State 9]
type = ChangeState
triggerall = movehit && animtime = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 3842

[State 8]
type = ChangeState
triggerall = movehit && animtime = 0
trigger1 = var(46) < 90
trigger1 = var(28) < 3
value = 3840

[State 0]
type = Varset
trigger1 = movehit = 0 && animtime = 0
v = 28
value = 0

[State 1]
type = AfterImageTime
trigger1 = movehit = 0 && animtime = 0
time = 0

[State 9]
type = ChangeState
trigger1 = movehit = 0 && animtime = 0
value = 0
ctrl = 1

[State Idle]
type = statetypeset
trigger1 = anim = 3822
movetype = I


;==============================================================================================
[Statedef 3840]
type = A
movetype = A
physics = N
velset = 2, -9
anim = 3840
sprpriority = 2
ctrl = 0

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1]
type = Posadd
trigger1 = time = 0
x = 40

[State JinRaiKyayu]
type = PlaySnd
trigger1 = animelem = 3
value = 4, 4
channel = 0

[State 5]
type = ChangeState
trigger1 = animtime = 0
value = 3860


;==============================================================================================
[Statedef 3860]
type = A
movetype = A
physics = N
anim = 3841
sprpriority = 2
velset = 8, -3.5
ctrl = 0

[State 5]
type = ChangeAnim
trigger1 = animtime = 0
value = 3841

[State Sound]
type = playsnd
trigger1 = animelem = 1 || animelem = 5
value = 0, 4

[State Sound]
type = playsnd
trigger1 = animelem = 1 || animelem = 5
value = 2, 7

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 1 && time < 68
helpertype = normal
name = "leg fire"
pos = 54, -56
postype = p1
stateno =1065
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 1 && time < 68
helpertype = normal
name = "leg fire"
pos = 44, -56
postype = p1
stateno =1066
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 3 && time < 68
helpertype = normal
name = "leg fire"
pos = 24, -53
postype = p1
stateno =1066
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 4 && time < 68
helpertype = normal
name = "leg fire"
pos = -16, -50
postype = p1
stateno =1066
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 5 && time < 68
helpertype = normal
name = "leg fire"
pos = -46, -53
postype = p1
stateno =1066
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 6 && time < 68
helpertype = normal
name = "leg fire"
pos = -44, -56
postype = p1
stateno =1066
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 7 && time < 68
helpertype = normal
name = "leg fire"
pos = -14, -59
postype = p1
stateno =1065
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 8 && time < 68
helpertype = normal
name = "leg fire"
pos = 26, -62
postype = p1
stateno =1065
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 1 && time < 68
helpertype = normal
name = "leg fire"
pos = 56, -59
postype = p1
stateno =1065
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -6, 6

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -6, 6

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 40, -59
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = -1/3*(var(52)), -1/3*var(53)

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -40, -59
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = -1/3*(var(53)), -1/3*var(52)

[State Var(26)reset]
type = Varset
trigger1 = time = 0
v = 26
value = 0

[State Var(26)reset]
type = Varadd
trigger1 = time = 10
v = 26
value = 1

[State Var(26)reset]
type = Varadd
trigger1 = time = 20
v = 26
value = 2

[State Var(26)reset]
type = Varadd
trigger1 = time = 30
v = 26
value = 3

[State Var(26)reset]
type = Varadd
trigger1 = time = 40
v = 26
value = 4

[State Var(26)reset]
type = Varadd
trigger1 = time = 50
v = 26
value = 5

[State 6]
type = Velset
trigger1 = time = 0
x = 8

[State 1]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 2]
type = VelMul
trigger1 = 1
x = 0.64

[State 9]
type = HitDef
trigger1 = animelem = 1
attr = A, HA
damage = 14, 4
animtype = Hard
priority = 5, Hit
hitflag = MAFD
guardflag = MA
getpower = 0, 0
pausetime = 3 - (var(26))/10, 2 - (var(26))/10
sparkxy = -10, -50
guard.sparkno = 40; S9300
hitsound = S6, 6
guardsound = S0, 100
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -0.5, -4.75
air.velocity = -0.5, -4.75
fall = 1
fall.recover = 0
fall.recovertime = 120
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
sprpriority = -1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
forcestand = 1

[State 9]
type = HitDef
trigger1 = animelem = 3 && (movecontact != [0, 7])
attr = A, HA
damage = 14, 4
animtype = Hard
priority = 5, Hit
hitflag = MAFD
guardflag = MA
getpower = 0, 0
p2facing = 1
pausetime = 4 - (var(26))/10 , 2 - (var(26))/10
sparkxy = -10, -50
guard.sparkno = 40; S9300
hitsound = S6, 6
guardsound = S0, 100
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = 0.5, -4.75
air.velocity = 0.5, -4.75
fall = 1
fall.recover = 0
fall.recovertime = 120
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
air.cornerpush.veloff = -40
forcestand = 1

[State 9]
type = EnvShake
trigger1 = timemod = 3, 2
trigger1 = movehit
ignorehitpause = 1
time = 4
ampl = -2
freq = 100
phase = 1

[State FireB]
type = Explod
triggerall = time >= 45
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2500
id = 2500
postype = p2
pos = -15, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
triggerall = time >= 45
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State Var(32)reset]
type = Varset
trigger1 = time = 0
v = 32
value = 0

[State Var(32) Add]
type = VarAdd
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = AILevel && p2life > 0 && time > 0
trigger2 = random < (1000 * (AIlevel ** 2 / 64.0))
v = 32
value = 1

[State 9]
type = ChangeState
trigger1 = var(32) <= 0 && time = 39
trigger2 = var(32) <= 6 && time = 47
trigger3 = var(32) <= 10 && time = 55
trigger4 = var(32) <= 14 && time = 63
trigger5 = time >= 71
value = 3861


;==============================================================================================
[Statedef 3842]
type = A
movetype = I
physics = N
velset = 0, -3
anim = 3840
sprpriority = 2
ctrl = 0

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1]
type = Posadd
trigger1 = time = 0
x = 40

[State JinRaiKyayu]
type = PlaySnd
trigger1 = animelem = 3
value = 4, 4
channel = 0

[State 5]
type = ChangeState
trigger1 = animtime = 0
value = 3862


;==============================================================================================
[Statedef 3862]
type = A
movetype = A
physics = N
anim = 3841
sprpriority = 2
velset = 0, -10.5
ctrl = 0

[State Randomizer1]
type = varrandom
trigger1 = 1
v = 51
range = -2, -4

[State Randomizer2]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p1
pos = 10, -6
random = 95, 10
sprpriority = 5
ownpal = 1
vel = var(52), 0
scale = 0.1, 0.75
accel = -(var(52))/3, (var(51))/10

[State Randomizer]
type = varrandom
trigger1 = 1
v = 35
range = -2, -4

[State Randomizer3]
type = varrandom
trigger1 = 1
v = 36
range = -3, -9

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p1
pos = -10, -6
random = 95, 10
sprpriority = 5
ownpal = 1
vel = var(36), 0
scale = 0.1, 0.75
accel = -(var(36))/3, (var(35))/10

[State 5]
type = ChangeAnim
trigger1 = animtime = 0
value = 3841

[State Sound]
type = playsnd
trigger1 = animelem = 1 || animelem = 5
value = 0, 4

[State Sound]
type = playsnd
trigger1 = animelem = 1 || animelem = 5
value = 2, 7

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 1 && time < 68
helpertype = normal
name = "leg fire"
pos = 54, -56
postype = p1
stateno =1065
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 1 && time < 68
helpertype = normal
name = "leg fire"
pos = 44, -56
postype = p1
stateno =1066
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 3 && time < 68
helpertype = normal
name = "leg fire"
pos = 24, -53
postype = p1
stateno =1066
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 4 && time < 68
helpertype = normal
name = "leg fire"
pos = -16, -50
postype = p1
stateno =1066
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 5 && time < 68
helpertype = normal
name = "leg fire"
pos = -46, -53
postype = p1
stateno =1066
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 6 && time < 68
helpertype = normal
name = "leg fire"
pos = -44, -56
postype = p1
stateno =1066
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 7 && time < 68
helpertype = normal
name = "leg fire"
pos = -14, -59
postype = p1
stateno =1065
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 8 && time < 68
helpertype = normal
name = "leg fire"
pos = 26, -62
postype = p1
stateno =1065
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 1 && time < 68
helpertype = normal
name = "leg fire"
pos = 56, -59
postype = p1
stateno =1065
ownpal = 1
size.xscale = 0.8
size.yscale = 0.8

[State 6]
type = Velset
trigger1 = time != 1
x = 0

[State 5]
type = VelMul
trigger1 = 1
y = 0.97

[State 1]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State Var(26)reset]
type = Varset
trigger1 = time = 0
v = 26
value = 0

[State Var(26)reset]
type = Varadd
trigger1 = (gametime%4) = 1
v = 26
value = 1

[State 9]
type = HitDef
trigger1 = animelem = 1
attr = A, HA
damage = 20, 5
animtype = Hard
priority = 5, Hit
hitflag = MAFD
guardflag = MA
getpower = 0, 0
p2facing = -1
snap = 40, -0
pausetime = 2, 2
sparkxy = -10, -50
guard.sparkno = 40; S9300
hitsound = S6, 6
guardsound = S0, 100
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = 16, -2
air.velocity = 16, -2
fall = 1
fall.recover = 0
fall.recovertime = 120
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
sprpriority = -1
forcestand = 1

[State 9]
type = HitDef
trigger1 = animelem = 3
attr = A, HA
damage = 20, 5
snap = -40, -0
animtype = Hard
priority = 5, Hit
hitflag = MAFD
guardflag = MA
getpower = 0, 0
p2facing = 1
pausetime = 2, 2
sparkxy = -10, -50
guard.sparkno = 40; S9300
hitsound = S6, 6
guardsound = S0, 100
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -16, -2
air.velocity = -16, -2
fall = 1
fall.recover = 0
fall.recovertime = 120
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
forcestand = 1

[State 9]
type = EnvShake
trigger1 = timemod = 3, 2
trigger1 = movehit
ignorehitpause = 1
time = 4
ampl = -2
freq = 100
phase = 1

[State FireB]
type = Explod
triggerall = time >= 61
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2500
id = 2500
postype = p2
pos = -15, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
triggerall = time >= 61
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State 0]
type = Varset
trigger1 = time = 62
trigger2 = AILevel
trigger2 = time = 62
trigger2 = random < (1000 * (AIlevel ** 2 / 64.0))
v = 28
value = 0

[State 9]
type = ChangeState
trigger1 = time = 62
trigger2 = AILevel
trigger2 = time = 62
trigger2 = random < (1000 * (AIlevel ** 2 / 64.0))
value = 3863


;==============================================================================================
[Statedef 3863]
type = A
movetype = A
physics = N
anim = 3953
velset = 0, 0
sprpriority = 2

[State 3]
type = PlayerPush
trigger1 = Time >= 1
value = 0
ignorehitpause = 1

[State 0]
type = posadd
trigger1 = time = 0
y = -8
x = 2

[State WhiffSound]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 3

[State HAH]
type = PlaySnd
trigger1 = animelem = 1
value = 4, 7
volume = 255

[State 2]
type = HitDef
trigger1 = animelem = 3
attr = A, HA
damage = 50, 6
anim = Medium
priority = 4, Hit
guardflag = MAF
hitflag = MAFD
sparkxy = -10, -70
sparkno = 1
guard.sparkno = 40; S9100
pausetime = 15, 15
getpower = 0, 0
givepower = 15
hitsound = S6, 4
guardsound = S0, 100
ground.type = Trip
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -10, -9
air.type = low
air.velocity = -10, -9
air.hittime = 15
air.fall = 1
fall.recover = (var(10) <= 0)
fall.recovertime = 120
fall = 1
fall.envshake = 1
fall.envshake.time = 30
fall.envshake.freq = 100
fall.envshake.ampl = -6
fall.envshake.phase = 1
envshake = 1
envshake.time = 30
envshake.freq = 100
envshake.ampl = -6
envshake.phase = 1
forcestand = 1

[State 5]
type = ChangeState
trigger1 = Animtime = 0
value = 3843
ctrl = 0


;==============================================================================================
[Statedef 3843]
type = A
movetype = I
physics = N

[State Gravity]
type = VelAdd
trigger1 = 1
y = 0.44

[State 1]
type = changeanim
trigger1 = time = 0
value = 3951

[State 1]
type = AfterImageTime
trigger1 = pos y >= -5
time = 0

[State 1]
type = posadd
trigger1 = pos y >= -5
x = -20

[State 1]
type = changestate
trigger1 = pos y >= -5
value = 1874


;==============================================================================================
[Statedef 3861]
type = A
movetype = A
physics = N
anim = 13020
movehitpersist = 1

[State Var(32)reset]
type = Varset
trigger1 = time = 0
v = 32
value = 0

[State Gravity]
type = VelAdd
trigger1 = 1
y = 0.25

[State Gravity]
type = Velmul
trigger1 = 1
x = 0.65

[State 1]
type = AfterImageTime
trigger1 = pos y >= -5
time = 0

[State 0]
type = Varset
trigger1 = pos y >= -5
v = 28
value = 0

[State 9]
type = ChangeState
trigger1 = pos y >= -5
value = 52


;==============================================================================================
[Statedef 3865]
type = S
movetype = A
juggle = 3
poweradd = -2000
anim = 3865
velset = 0, 0
ctrl = 0
sprpriority = 2
facep2 = 1

[State NHB]
type = NotHitBy
trigger1 = animelemtime(1) <= 0
trigger2 = Prevstateno != [3960, 3991]
trigger2 = animelemtime(5) < 1
value = SCA
time = 1

[State Shadows]
type = Afterimage
trigger1 = time = 0 && var(29) = 0
time = 299
length = 21
PalBright = 0, 0, 0
PalContrast = 0, 0, 542
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State red fadeout]
type = BGPalFx
triggerall = var(28) = 0
trigger1 = animelem = 1
add = 100, 100, 100
mul = 200, 200, 300
sinadd = 100, 100, 100, 340
time = 57
ignorehitpause = 1
invertall = 1

[State red fadein]
type = BGPalFx
triggerall = var(28) = 1
trigger1 = animelem = 1
add = 100, 100, 150
sinadd = 305, -255, -355, 180
time = 32
invertall = 1
ignorehitpause = 1

[State white fadein]
type = BGPalFx
triggerall = var(28) > 1
trigger1 = animelem = 1
add = 255, -155, -155
sinadd = -255, -255, -255, 180
time = 32
ignorehitpause = 1
invertall = 1

[State Freeze]
type = superpause
trigger1 = animelem = 1
anim = S ifelse(var(28) > 0, 10061, 10060)
time = ifelse(var(28) > 0, 32, 57)
pos = 82, -30
movetime = 4
p2defmul = 1
darken = 0
sound = S ifelse(var(28) > 0, 0, 7), ifelse(var(28) > 0, 12, 3)

[State width]
type = width
trigger1 = 1
value = 25

[State Wind effect] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 3
anim = 9402
scale = 0.7, 0.7
pos = 30, 0
sprpriority = 0
postype = p1
supermovetime = -1
bindtime = 18
ownpal = 1
pausemovetime = 9999

[State chiargesound]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 10
channel = 0

[State 0]
type = Varadd
trigger1 = animelem = 3
v = 28
value = 1

[State WhiffSoundRoundhouse]
type = PlaySnd
trigger1 = animelem = 4 || animelem = 8
value = 0, 1
volume = 25

[State Forward huneh]
type = PlaySnd
trigger1 = animelem = 5 
value = 4, 4
volume = 25
channel = 0

[State RoundHouse]
type = HitDef
trigger1 = animelem = 5
attr = S, HA
damage = 30, 4
animtype = Hard
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 4, 4
sparkxy = -10, -55
sparkno = 2
guard.sparkno = 40; S9300
hitsound = S6, 4
guard.pausetime = 12, 12
guardsound = S0, 100
getpower = 0, 0
ground.type = Low
ground.slidetime = 30
ground.hittime = 30
guard.hittime = 18
ground.velocity = 6
guard.velocity = 6
forcestand = 1
air.fall = 1
p2facing = 1
fall.recover = 0
fall.recovertime = 120
ground.cornerpush.veloff = 0
forcestand = 1

[State RoundHouse]
type = HitDef
trigger1 = animelem = 9
attr = S, HA
damage = 30, 4
animtype = Hard
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 4, 4
sparkxy = -10, -65
sparkno = 2
guard.sparkno = 40; S9300
hitsound = S6, 4
guardsound = S0, 100
getpower = 0, 0
ground.type = Low
ground.slidetime = 30
ground.hittime = 30
guard.hittime = 18
ground.velocity = -1
guard.velocity = -1
air.velocity = -1, -1
forcestand = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 120
ground.cornerpush.veloff = 0
forcestand = 1

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = 3866

[State 1]
type = varset
trigger1 = animelem = 6 && movecontact = 0
v = 28
value = 0

[State 1]
type = AfterImageTime
trigger1 = animelem = 6 && movecontact = 0
time = 0

[State 9]
type = ChangeState
trigger1 = animelem = 6 && movecontact = 0
value = 273


;==============================================================================================
[Statedef 3866]
type = S
movetype = A
anim = 3866
velset = 0, 0
ctrl = 0

[State WhiffSoundRoundhouse]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 3
volume = 25

[State width]
type = width
trigger1 = 1
value = 15

[State width]
type = velset
trigger1 = animelem = 3
x = 1

[State width]
type = width
trigger1 = time >=0
value = 25

[State RoundHouse]
type = HitDef
trigger1 = animelem = 4
attr = S, HA
damage = 30, 4
animtype = Hard
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 5, 5
sparkxy = -12, -60
sparkno = 2
guard.sparkno = 40; S9300
hitsound = S6, 6
guardsound = S0, 100
ground.type = Low
ground.slidetime = 30
getpower = 0, 0
ground.hittime = 30
guard.hittime = 18
ground.velocity = -5
guard.velocity = -3
air.velocity = -1, -2
forcestand = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 120
ground.cornerpush.veloff = 0
forcestand = 1

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 3867
ctrl = 0


;==============================================================================================
[Statedef 3867]
type = S
movetype = A
anim = 3867
velset = 0.5, 0
ctrl = 0

[State WhiffSoundRoundhouse]
type = PlaySnd
trigger1 = animelem = 3 || animelem = 4
value = 0, 4
volume = 25

[State Forward]
type = PlaySnd
trigger1 = animelem = 4
value = 4, 8
volume = 25
channel = 0

[State RoundHouse]
type = HitDef
trigger1 = animelem = 4 || animelem = 5
attr = S, HA
damage = 30, 4
animtype = Hard
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 4, 4
sparkxy = -10, -60
sparkno = 2
getpower = 0, 0
guard.sparkno = 40; S9300
hitsound = S6, 4
guardsound = S0, 100
ground.type = High
ground.slidetime = 18
ground.hittime = 30
guard.hittime = 18
ground.velocity = -1
guard.velocity = -1
air.velocity = -1, -4
forcestand = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 120
ground.cornerpush.veloff = 0
forcestand = 1

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 3868
ctrl = 0


;==============================================================================================
[Statedef 3868]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 3868
sprpriority = 2

[State width]
type = width
trigger1 = 1
value = 15

[State PosAdd]
type = posadd
trigger1 = time = 0
x = 11

[State PosAdd]
type = posadd
trigger1 = animelem = 1
x = 16

[State PosAdd]
type = posadd
trigger1 = animelem = 2
x = 7

[State 9]
type = ChangeState
trigger1 = animelem = 4
value = 3869


;==============================================================================================
[Statedef 3869]
type = A
movetype = A
physics = N
juggle = 5
velset = 0, -3
sprpriority = 2
ctrl = 0

[State width]
type = width
trigger1 = time >=0
value = 25

[State PosAdd]
type = Posadd
trigger1 = 1
x = 3

[State VelAdd]
type = VelAdd
trigger1 = 1
y = 0.30

[State Whiff]
type = PlaySnd
trigger1 = animelem = 4 || animelem = 11
value = 0, 2
channel = 0

[State Hitdef1]
type = HitDef
trigger1 = animelem = 5
attr = S, HA
animtype = Medium
damage = 30, 4
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 4, 5
sparkno = 2
sparkxy = 5, -45
guard.sparkno = 40; S9100
hitsound = S6, 4
guardsound = S0, 100
ground.type = low
ground.slidetime = 14
ground.hittime = 30
guard.hittime = 18
ground.velocity = -3
getpower = 0, 0
air.velocity = -3, -4
forcestand = 1

[State Hitdef2]
type = HitDef
trigger1 = animelem = 12
attr = S, HA
animtype = Hard
damage = 30, 4
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 5, 6
sparkxy = -10, -67
sparkno = 2
guard.sparkno = 40; S9100
hitsound = S6, 4
guardsound = S0, 100
ground.type = high
ground.slidetime = 5
ground.hittime = 30
guard.hittime = 18
ground.velocity = -3, 0
air.velocity = -3, -4
getpower = 0, 0
air.type = low
fall.recover = (var(10) <= 0)
fall.recovertime = 120
forcestand = 1

[State 9]
type = ChangeState
trigger1 = time > 5
trigger1 = pos y >= -5
value = 3870


;==============================================================================================
[Statedef 3870]
type = S
movetype = I
physics = S
velset = 1, 0
anim = 271
ctrl = 0

[State PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State PosAdd]
type = PosAdd
trigger1 = time = 0
x = -15

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 3871
ctrl = 0


;==============================================================================================
[Statedef 3871]
type = S
movetype = A
physics = C
anim = 3869
velset = 0, 0
ctrl = 0

[State Slide Sound]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 11
volume = 25
channel = 0

[State 2]
type = Velset
trigger1 = time = 0
x = 15

[State 1]
type = MakeDust
trigger1 = 1
pos = -10, -2
spacing = 5

[State 3]
type = HitDef
trigger1 = animelem = 5
attr = S, SA
damage = 30, 4
animtype = Hard
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 12, 12
sparkxy = -10, -60
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
getpower = 0, 0
ground.type = Low
ground.slidetime = 10
ground.hittime = 48
guard.hittime = 18
ground.velocity = -1.2
air.velocity = -4, -3
forcestand = 1

[State 5]
type = ChangeState
trigger1 = animtime = 0
value = 3872
ctrl = 0


;==============================================================================================
[Statedef 3872]
type = A
movetype = A
physics = S
ctrl = 0
velset =2, -1
anim = 3870
sprpriority = 2

[State PosAdd]
type = Posadd
trigger1 = time = 0
y = -17

[State AttackVoice1]
type = PlaySnd
trigger1 = animelem = 3
value = 1, 7
channel = 0

[State whiff]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 4
channel = 0

[State width]
type = width
trigger1 = 1
value = 15

[State PosAdd]
type = Posadd
trigger1 = animelem = 2
y = -12

[State PosAdd]
type = posadd
trigger1 = animelem = 1
x = 3

[State PosAdd]
type = posadd
trigger1 = animelem = 3
x = 4

[State PosAdd]
type = posadd
trigger1 = animelem = 3
y = -1

[State 9]
type = ChangeState
trigger1 = animelem = 3
value = 3873


;==============================================================================================
[Statedef 3873]
type = A
movetype = A
physics = N
juggle = 5
velset = 0, -2
sprpriority = 2
ctrl = 0

[State width]
type = width
trigger1 = time >=0
value = 25

[State PosAdd]
type = Posadd
trigger1 = animelem = 4
y = 18

[State PosAdd]
type = posadd
trigger1 = animelem = 4
x = 1

[State PosAdd]
type = Posadd
trigger1 = 1
x = 3

[State Gravity]
type = VelAdd
trigger1 = 1
y = 0.54

[State AttackVoice2]
type = PlaySnd
trigger1 = animelem = 9
value = 4, 0
channel = 0

[State Hitdef1]
type = HitDef
trigger1 = animelem = 4
attr = S, HA
animtype = Medium
damage = 30, 4
hitflag = MAF
guardflag = MA
priority = 4, Hit
pausetime = 4, 5
sparkno = 2
sparkxy = 5, -45
guard.sparkno = 40; S9100
hitsound = S6, 6
getpower = 0, 0
guardsound = S0, 100
ground.type = high
ground.slidetime = 14
ground.hittime = 30
guard.hittime = 18
ground.velocity = -3
air.velocity = -4, -4
kill = 0
forcestand = 1

[State 9]
type = ChangeState
trigger1 = time > 5
trigger1 = pos y >= 6
value = 3875


;==============================================================================================
[Statedef 3875]
type = S
movetype = A
anim = 3871
velset = 0, 0
ctrl = 0
sprpriority = 2

[State Randomizer1]
type = varrandom
trigger1 = 1
v = 51
range = -2, -4

[State Randomizer2]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State FireB]
type = Explod
trigger1 = random <= 600 && time > 16
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p1
pos = -15, -6
random = 95, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = -(var(52))/3, (var(51))/10

[State Randomizer]
type = varrandom
trigger1 = 1
v = 35
range = -2, -4

[State Randomizer3]
type = varrandom
trigger1 = 1
v = 36
range = -3, -9

[State FireB]
type = Explod
trigger1 = random <= 600 && time > 16
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p1
pos = -20, -6
random = 95, 10
sprpriority = 5
ownpal = 1
vel = var(36), (var(35))
scale = 0.1, 0.75
accel = -(var(36))/3, (var(35))/10

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = 2, 10

[State FireBa]
type = Explod
trigger1 = time > 16 && random <= 400
persistent = 1
anim = 12212
id = 12212
postype = p1
pos = -40, -6
random = 50, 0
sprpriority = 5
ownpal = 1
vel = 0, -var(51)
scale = 1.5, 0.2

[State FireB]
type = Explod
trigger1 = time > 16 && random <= 200
persistent = 1
anim = 12215
id = 12212
postype = p1
pos = -30, -8
random = 80, 0
sprpriority = -5
ownpal = 1
vel = 0, -var(51)
scale = 1.5, 0.2

[State WhiffSoundRoundhouse]
type = PlaySnd
trigger1 = animelem = 10
value = 3, 5
volume = 255

[State posset]
type = posset
trigger1 = time = 0
y = 0

[State 1]
type = screenbound
trigger1 = 1
value = 1
movecamera = 1, 1

[State SuperLight charge for Shun Goku Shoryuken] 
type = Explod
trigger1 = animelem = 10
anim = 10086
pos = -55, -55
sprpriority = 4
postype = p1
supermovetime = -1
ownpal = 1
scale = 0.5, 0.5
pausemovetime = 9999
id = 112

[State 6]
type = ModifyExplod
trigger1 = 1
ID = 112
scale = 0.6 - (.01*(time-25)), 0.6 - (.01*(time-25))

[State X-ism]
type = PlaySnd
trigger1 = animelem = 10, =50
value = 2, 1
volume = 255

[State Wind effect] 
type = Explod
trigger1 = animelem = 1
anim = 9402
scale = 0.7, 0.7
pos = 0, 0
sprpriority = -1
postype = p1
supermovetime = -1
bindtime = 18
ownpal = 1
pausemovetime = 9999

[State Wind effect3] 
type = Explod
trigger1 = animelem = 10
anim = 10020
pos = 15, 0
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 36
ownpal = 1
pausemovetime = 9999

[State groundshockwave] 
type = explod
trigger1 = animelem = 10
anim = 10030
pos = 15, 2
sprpriority = 3
postype = p1
supermovetime = -1
ownpal = 1

[State 4]
type = HitDef
trigger1 = animelem = 6
attr = S, HA
animtype = Hard
damage = 30, 4
hitflag = MAFD
guardflag = MA
priority = 5, Hit
pausetime = 4, 6
getpower = 0, 0
sparkno = 2
sparkxy = -10, -70
guard.sparkno = 40; S9300
hitsound = S6, 4
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 12
ground.hittime = 30
guard.hittime = 18
ground.velocity = -2, 0
air.velocity = -2, -2
forcestand = 1
fall.yvelocity = -6
down.velocity = 0, -12
down.hittime = 10
bounce = 1
hitonce = 1
kill = 0
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State 4]
type = HitDef
trigger1 = animelem = 10
attr = S, HA
animtype = Up
damage = 30, 4
hitflag = MAFD
guardflag = L
priority = 5, Hit
pausetime = 10, 10
sparkno = 62
sparkxy = -10, 0
guard.sparkno = 40; S9300
hitsound = S3, 3
guardsound = S0, 100
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = 0, -10
air.velocity = 0, -12
forcestand = 1
getpower = 0, 0
air.fall = 1
fall.recover = 0
fall.recovertime = 120
fall = 1
fall.animtype = Hard
fall.yvelocity = -6
down.velocity = 0, -12
down.bounce = 1
down.hittime = 10
bounce = 1
hitonce = 1
kill = 0
forcestand = 1

[State 5]
type = PlaySnd
trigger1 = animelem = 10
value = 1, 0

[State 5]
type = PlaySnd
trigger1 = animelem = 10
value = 4, 7

[State 5]
type = EnvShake
trigger1 = animelem = 10
persistent = 0
time = 20
ampl = -10
freq = 150
phase = 15

[State skin fadeout]
type = BGPalFx
trigger1 = time = [31, 112]
add = 0 + ceil(sin((time - 31) / 64.0 * pi) * 400), -255 + ceil(sin((time - 31) / 64.0 * pi) * 400), -255 + ceil(sin((time - 31) / 64.0 * pi) * 400)
invertall = 1
time = 2

[State posadd]
type = PosAdd
trigger1 = animtime = 0
x = -35

[State Slow Motion]
type = Pause 
trigger1 = (GameTime%2) = 0 && roundstate = 2 && stateno = 3875
time = 1 
movetime = 1 
ignorehitpause = 1

[State 8]
type = ChangeState
trigger1 = animtime = 0
value = 3880


;==============================================================================================
[Statedef 1955]
type = S
movetype = H
velset = -7, 0

[State PosFreeze]
type = Posfreeze
trigger1 = time < 10

[State Change to Staggering]
type = ChangeAnim
trigger1 = alive = 1 && time = 0
value = 1955
ignorehitpause = 1

[State Friction]
type = VelMul
trigger1 = 1
x = 0.9

[State Shi-NE!]
type = SelfState
trigger1 = alive = 0 && time = 10
value = 5070

[State Change to Custom Dizzy Anim]
type = ChangeAnim2
trigger1 = alive = 1 && time = 30 && !selfanimexist(5300)
value = 5301

[State Change to Dizzy Anim]
type = ChangeAnim
trigger1 = alive = 1 && time = 30 && selfanimexist(5300)
value = 5300

[State 9]
type = SelfState
trigger1 = time = 200
value = 0
ctrl = 1


;==============================================================================================
[Statedef 3880]
type = A
movetype = A
physics = N
anim = 13000
sprpriority = 2

[State 9]
type = ChangeState
trigger1 = time = 8
value = 3881


;==============================================================================================
[Statedef 3881]
type = A
movetype = A
physics = N
sprpriority = 2

[State 2] 
type = AssertSpecial
trigger1 = animelem = 2
flag = unguardable

[State 5]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 4

[State 1]
type = EnvColor
trigger1 = movehit
value = 255, 255, 255
persistent = 0
time = 2

[State 1]
type = VelSet
trigger1 = time = 0
x = 13
y = -13.5

[State 2]
type = VelMul
trigger1 = 1
x = 0.92

[State 3]
type = VelAdd
trigger1 = 1
y = 0.44

[State 9]
type = HitDef
trigger1 = animelem = 5
attr = A, HA
damage = 160, 20
animtype = Hard
priority = 5, Hit
hitflag = MAFD
guardflag = 
pausetime = 0, 0
sparkxy = -10, -50
sparkno = 72
guard.sparkno = 40; S9300
hitsound = S7, 2
getpower = 0, 0
guardsound = S0, 100
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -4, -12
air.hittime = 10
air.velocity = -4, -12
fall = 1
fall.recover = 0
fall.recovertime = 120
down.velocity = 0, -10 
down.bounce = 1
forcestand = 1

[State 9]
type = EnvShake
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 10
ampl = -10
freq = 150
phase = 15

[State Spark] 
type = Explod
trigger1 = movehit
anim = 9420
pos = 0, -50
persistent = 0
ignorehitpause = 1
sprpriority = -1
postype = p2
supermovetime = -1
removetime = 12
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999

[State 9]
type = changeanim
trigger1 = time = 26
value = 13001

[State 0]
type = Varset
trigger1 = vel y > 0
trigger1 = pos y >= 0
v = 28
value = 0

[State 9]
trigger1 = vel y > 0
trigger1 = pos y >= 0
type = ChangeState
value = 1570

[State Idle]
type = statetypeset
trigger1 = anim = 13001
movetype = I


;==============================================================================================
[Statedef 3885]
type = S
movetype = A
physics = S
poweradd = (Var(10)=0) * -1000
juggle = 0
ctrl = 0
anim = 3905
velset = 0, 0
sprpriority = 2
facep2 = 1

[State Width]
type = width
trigger1 = animelemtime(3) >= 0 && animelemtime(4) < 0
value = 16, 0

[State Width]
type = width
trigger1 = animelemtime(4) >= -1 && animelemtime(19) < 0
value = 32, 0

[State Randomizer]
type = varrandom
trigger1 = time = 0
v = 46
range = 0, 100

[State NHB]
type = NotHitBy
trigger1 = animelemtime(1) <= 0
trigger2 = Prevstateno != [3960, 3991]
trigger2 = Time < 8
value = SCA
time = 1

[State flame charge]
type = PlaySnd
trigger1 = animelem = 1, =4
value = 3, 1
supermovetime = -1

[State Shadows]
type = Afterimage
trigger1 = time = 0 && var(29) = 0
time = 29
length = 21
PalBright = 0, 0, 0
PalContrast = 148, 148, 148
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State Shadows]
type = Afterimage
triggerall = time = 0 && var(29) = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
time = 29
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State red fadeout]
type = BGPalFx
triggerall = var(28) = 0
trigger1 = animelem = 1
add = 100, 100, 100
mul = 200, 200, 300
sinadd = 100, 100, 100, 390
time = 80
ignorehitpause = 1
invertall = 1

[State red fadein]
type = BGPalFx
triggerall = var(28) = 1
trigger1 = animelem = 1
add = 100, 100, 150
sinadd = 305, -255, -355, 180
time = 32
invertall = 1
ignorehitpause = 1

[State white fadein]
type = BGPalFx
triggerall = var(28) > 1
trigger1 = animelem = 1
add = 255, -155, -155
sinadd = -255, -255, -255, 180
time = 32
ignorehitpause = 1
invertall = 1

[State Freeze]
type = superpause
trigger1 = animelem = 1
anim = S ifelse(var(28) > 0, 10061, 10060)
time = ifelse(var(28) > 0, 32, 80)
pos = -29, -63
movetime = 4
p2defmul = 1
darken = 0
sound = S ifelse(var(28) > 0, 0, 7), ifelse(var(28) > 0, 12, 3)

[State Wind effect] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 9402
scale = 0.7, 0.7
pos = 0, 0
sprpriority = 0
postype = p1
supermovetime = -1
bindtime = 18
ownpal = 1
pausemovetime = 9999

[State SuperLight] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 4800
pos = 5, 0
postype = p1
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 57
ownpal = 1
removeongethit = 1
pausemovetime = 9999

[State SuperLight] 
type = Explod
triggerall = var(28) > 0
trigger1 = animelem = 1
anim = 4804
pos = 5, 0
postype = p1
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 57
ownpal = 1
removeongethit = 1
pausemovetime = 9999

[State SuperLight] 
type = Explod
triggerall = var(28) > 0
trigger1 = animelem = 1
anim = 4804
pos = 6, 1
postype = p1
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 57
ownpal = 1
removeongethit = 1
pausemovetime = 9999

[State SuperLight] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 4800
pos = 6, 1
postype = p1
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 57
ownpal = 1
removeongethit = 1
pausemovetime = 9999

[State SuperLight charge for hadouken] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10086
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 65
ownpal = 1
scale = 0.5, 0.5
pausemovetime = 9999
id = 112

[State 6]
type = ModifyExplod
trigger1 = 1
ID = 112
scale = 0.6 - (.08*time), 0.6 - (.08*time)

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10810
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.52, 0.52
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10811
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.50, 0.50
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10812
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.48, 0.48
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10813
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.46, 0.46
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10814
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.44, 0.44
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10815
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.42, 0.42
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10816
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.4, 0.4
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10817
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.38, 0.38
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10818
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.36, 0.36
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10819
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.34, 0.34
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10820
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.32, 0.32
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10821
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.3, 0.3
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10822
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.28, 0.28
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10823
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.26, 0.26
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10824
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.24, 0.24
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10825
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.2, 0.2
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10826
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
removetime = 81
ownpal = 1
scale = 0.18, 0.18
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10830
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.2, 0.2
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10831
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.25, 0.25
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10832
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.3, 0.3
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10833
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.35, 0.35
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10834
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.4, 0.4
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10835
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.45, 0.45
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10836
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.5, 0.5
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10837
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.55, 0.55
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10838
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.6, 0.6
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10839
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.65, 0.65
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10840
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.7, 0.7
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10841
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
removetime = 81
ownpal = 1
shadow = 0, 50, 100
scale = 0.75, 0.75
pausemovetime = 9999

[State SuperLight charge for hadouken] 
type = Explod
triggerall = var(28) > 0
trigger1 = time = 0
anim = 10087
pos = -29, -63
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 65
ownpal = 1
scale = 0.5, 0.5
pausemovetime = 9999

[State chiargesound]
type = PlaySnd
trigger1 = time = 0
value = 2, 2
channel = 0

[State 0]
type = Varadd
trigger1 = animelem = 1
v = 28
value = 1

[State Shadows]
type = Afterimage
triggerall = animelem = 1 && var(29) = 0
trigger1 = var(46) >= 90 || var(28) >= 3
time = 29
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State HadokenVoice]
type = PlaySnd
trigger1 = animelem = 3
value = 4, 3
channel = 0
volume = 0

[State hadouken hit helper]
type = Helper
triggerall = var(28) < 3
trigger1 = var(46) < 90
trigger1 = animelem = 4
helpertype = normal
name = "hadouken"
id = 4
pos = 95, -53
postype = p1
stateno =1009
ownpal = 1

[State FireB]
type = Explod
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = numenemy
trigger1 = (enemyNear, StateNo = [5000, 5999])
trigger1 = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State hadouken hit helper]
type = Helper
triggerall = animelem = 4
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
helpertype = normal
name = "hadouken"
id = 4
pos = 95, -56
postype = p1
stateno =1013
ownpal = 1

[State HadokenWhiff]
type = playsnd
trigger1 = animelem = 4
value = 0, 7
volume = 255
freqmul = 0.9

[State HadokenWhiff]
type = playsnd
trigger1 = animelem = 4
value = 0, 7
volume = 255
freqmul = 1.1

[State 0]
type = Varset
trigger1 = Animtime = 0
v = 28
value = 0

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 3890]
type = S
movetype = A
physics = N
poweradd = -3000
ctrl = 0
anim = 3890
velset = 0
facep2 = 1

[State 5]
type = PosFreeze
trigger1 = time <= 30

[State 5]
type = PlaySnd
trigger1 = time = 0
value = 2, 1

[State Shadows]
type = Afterimage
trigger1 = time = 0 && var(29) = 0
time = 200
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State red fadeout]
type = BGPalFx
trigger1 = animelem = 1
add = 100, 100, 100
mul = 200, 200, 300
sinadd = 100, 100, 100, 340
time = 60
ignorehitpause = 1
invertall = 1

[State Freeze]
type = superpause
trigger1 = time = 0
movetime = 30
time = 60
pos = 4, -102
anim = S10060
p2defmul = 1
darken = 0
sound = S7, 3

[State Wind effect] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 9402
scale = 0.7, 0.7
pos = 0, 0
sprpriority = 0
postype = p1
supermovetime = -1
bindtime = 18
ownpal = 1
pausemovetime = 9999

[State 2]
type = NotHitBy
trigger1 = Time < 1
trigger2 = Prevstateno != [3960, 3991]
trigger2 = Time <= 32
value = SCA
time = 1

[State 5]
type = PlaySnd
trigger1 = time = 0
value = S22, 1

[State 5]
type = PlaySnd
trigger1 = time = 30
value = S21, 6

[State 1]
type = ChangeAnim
trigger1 = time = 30
value = 3891

[State 1]
type = Velset
trigger1 = time = 30
x = 5 

[State Do Not Guard]
type = attackdist
trigger1 = 1
value = 0

[State  Miss]
type = hitdef
trigger1 = time >= 31
attr = S, HT
hitflag =

[State Hit]
type = HitDef
trigger1 = time >= 31
trigger1 = !var(39)
trigger1 = p2dist x >= 0 && p2bodydist x <= 20
attr = S, HT
p2facing = 1 
damage = 0
getpower = 0, 0
givepower = 0
guardflag =
hitflag = M
priority = 6, Miss
pausetime = 0, 0
sparkxy = -1, 100
hitsound = S0, 8
ground.type = High
ground.slidetime = 0
ground.hittime = 0
ground.Velocity = 0
p1stateno = 3891
kill = 0
fall.recover = 0
fall.recovertime = 120

[State 1]
type = AfterImageTime
trigger1 = time = 80
time = 0

[State 1]
type = AfterImageTime
trigger1 = frontedgedist = 0
trigger1 = movecontact = 0
time = 0

[State 0]
type = Varadd
trigger1 = frontedgedist = 0
trigger1 = movecontact = 0
trigger2 = time = 90
v = 28
value = 0

[State 1]
type = ChangeState
trigger1 = frontedgedist = 0
trigger1 = movecontact = 0
value = 0
ctrl = 1

[State 4]
type = ChangeState
trigger1 = time = 90
value = 0
ctrl = 1


;==============================================================================================
[Statedef 3891]
type = S
movetype = A
physics = N
poweradd = (Var(10)=0) * 0
ctrl = 0
anim = 3893
velset = 0
sprpriority = 2

[State Hit Count]
type = VarSet
trigger1 = time = 0
var(17) = 0

[State Throw]
type = targetstate
trigger1 = !time && numtarget
value = 3895

[State 1]
type = Posadd
trigger1 = time = 0
x = 14

[State Bind]
type = targetbind
trigger1 = Time < 92
pos = ceil(40 * const(size.xscale)), 0
facing = -1

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nomusic
flag3 = nofg

[State 1]
type = AfterImageTime
trigger1 = time = 0
time = 0

[State 3]
type = BGPalfx
trigger1 = time = 0
time = 36
sinadd = -255, -255, -255, 144

[State Width]
type = width
trigger1 = time = [36, 92]
edge = 60, 60

[State Width]
type = screenbound
trigger1 = time = [36, 92]
value = 1
movecamera = 1, 1

[State 5]
type = EnvColor
trigger1 = time = [36, 92]
value = ceil(4.55 * (time-36)), ceil(4.55 * (time-36)), ceil(4.55 * (time-36))
time = 2
under = 1

[State 5]
type = EnvColor
trigger1 = time = [36, 38]
trigger2 = time = [48, 50]
trigger3 = time = [60, 62]
trigger4 = time = [72, 74]
trigger5 = time = [84, 86]
value = 255, 0, 0
time = 2
under = 1

[State 3]
type = AssertSpecial
trigger1 = time >= 36
flag = invisible

[State 5]
type = EnvColor
trigger1 = time > 92
value = 255, 255, 255
time = 2
under = 1

[State 5]
type = Explod
trigger1 = time = [36, 88]
trigger1 = !(time % 4)
Anim = 9420
scale = 0.7, 0.7
pos = 30, -50
random = 100, 50
ontop = 1
ownpal = 1

[State 5]
type = PlaySnd
trigger1 = time = [36, 88]
trigger1 = !(time % 4)
value = 6, 5

[State 5]
type = HitAdd
trigger1 = time = [36, 88]
trigger1 = !(time % 4)
value = 1

[State 5]
type = PlaySnd
trigger1 = time = 0 || time = 36 || time = 48 || time = 60 || time = 72 || time = 84
value = 0, 17
volume = 255

[State 5]
type = Explod
trigger1 = time = 36
anim = 12230
ID = 12230
pos = 160, floor((1.3333333 * gameheight / gamewidth) * 46)
postype = left
sprpriority = -2
ownpal = 1
bindtime = -1
removetime = 300
pausemovetime = -1
removeongethit = 1
scale = 1, (1.3333333 * gameheight / gamewidth)

[State 5]
type = Explod
trigger1 = time = 48
anim = 12231
ID = 12230
pos = 260, floor((1.3333333 * gameheight / gamewidth) * 96)
postype = left
sprpriority = -2
ownpal = 1
bindtime = -1
removetime = 300
pausemovetime = -1
removeongethit = 1
scale = 1, (1.3333333 * gameheight / gamewidth)

[State 5]
type = Explod
trigger1 = time = 60
anim = 12232
ID = 12230
pos = 220, floor((1.3333333 * gameheight / gamewidth) * 196)
postype = left
sprpriority = -2
ownpal = 1
bindtime = -1
removetime = 300
pausemovetime = -1
removeongethit = 1
scale = 1, (1.3333333 * gameheight / gamewidth)

[State 5]
type = Explod
trigger1 = time = 72
anim = 12233
ID = 12230
pos = 100, floor((1.3333333 * gameheight / gamewidth) * 192)
postype = left
sprpriority = -2
ownpal = 1
bindtime = -1
removetime = 300
pausemovetime = -1
removeongethit = 1
scale = 1, (1.3333333 * gameheight / gamewidth)

[State 5]
type = Explod
trigger1 = time = 84
anim = 12234
ID = 12230
pos = 60, floor((1.3333333 * gameheight / gamewidth) * 96)
postype = left
sprpriority = -2
ownpal = 1
bindtime = -1
removetime = 300
pausemovetime = -1
removeongethit = 1
scale = 1, (1.3333333 * gameheight / gamewidth)

[State 4]
type = targetLifeAdd
trigger1 = time = 96
trigger1 = !(time % 4)
value = -450
kill = 0

[State 4]
type = ChangeState
trigger1 = time >= 96 && numtarget
trigger1 = target, life <= 100
value = 3893

[State 4]
type = ChangeState
trigger1 = Time >= 96
value = 3892


;==============================================================================================
[Statedef 3892]
type = S
movetype = A
physics = N
poweradd = (Var(10)=0) * 0
sprpriority = -3
ctrl = 0
anim = 3892

[State Throw]
type = targetstate
trigger1 = !time && numtarget
value = 3896

[State 5]
type = ModifyExplod
trigger1 = time = [32, 96]
ID = 12230
trans = addalpha
alpha = 256 - ((time-32) * 4), ((time-32) * 4)

[State 5]
type = RemoveExplod
trigger1 = time = 96
ID = 12230

[State 5]
type = PlaySnd
trigger1 = time = 32
value = 7, 1

[State 3]
type = AssertSpecial
trigger1 = time <= 32
flag = globalnoshadow
flag2 = noFG

[State 3]
type = AssertSpecial
trigger1 = time <= 32
flag = nobardisplay
flag2 = nomusic

[State 3]
type = Palfx
trigger1 = time <= 32
time = 64
add = 255, 255, 255
sinadd = -255, -255, -255, 256

[State 3]
type = BGPalfx
trigger1 = time <= 32
time = 64
add = 255, 255, 255
sinadd = -255, -255, -255, 256

[State 0]
type = Varset
trigger1 = time >= 120
v = 28
value = 0

[State 4]
type = ChangeState
trigger1 = time >= 120
value = 0
ctrl = 1


;==============================================================================================
[Statedef 3893]
type = S
movetype = A
physics = N
ctrl = 0
anim = 12202
sprpriority = 1

[State Throw]
type = targetstate
trigger1 = !time && numtarget
value = 3897

[State Throw]
type = targetstate
trigger1 = animelem = 5 && numtarget
value = 3898

[State Throw]
type = targetstate
trigger1 = animelem = 37 && numtarget
value = 3899

[State Bind]
type = targetbind
trigger1 = animelemtime(37) < 0 && numtarget
pos = ceil(36 * const(size.xscale)), 0
facing = -1

[State 3]
type = Palfx
trigger1 = time = 0
time = 15
add = -255, -255, -255

[State 5]
type = Explod
trigger1 = time = 16
anim = 12235
ID = 12230
pos = 165, floor((1.3333333 * gameheight / gamewidth) * 120)
postype = left
sprpriority = -2
ownpal = 1
bindtime = -1
removetime = 300
pausemovetime = -1
removeongethit = 1
scale = 1, (1.3333333 * gameheight / gamewidth)

[State 5]
type = Explod
trigger1 = time = 16
anim = 12235
ID = 12235
pos = 165, floor((1.3333333 * gameheight / gamewidth) * 120)
postype = left
sprpriority = -2
ownpal = 1
bindtime = -1
removetime = 16
pausemovetime = -1
removeongethit = 1
scale = 1, (1.3333333 * gameheight / gamewidth)

[State 5]
type = ModifyExplod
trigger1 = time = [16, 32]
ID = 12235
scale = (1.3333333 * gameheight / gamewidth) + ((time-16) * 0.125), (1.3333333 * gameheight / gamewidth) + ((time-16) * 0.125)
trans = addalpha
alpha = 256 - ((time-16) * 16), ((time-16) * 16)

[State 5]
type = ModifyExplod
trigger1 = time = [80, 112]
ID = 12230
trans = addalpha
alpha = 256 - ((time-80) * 8), ((time-80) * 8)

[State 5]
type = RemoveExplod
trigger1 = time = 112
ID = 12230

[State 5]
type = EnvShake
trigger1 = animelem = 5
time = 20
ampl = -10
freq = 120
phase = 15

[State 5]
type = EnvColor
trigger1 = time < 16
value = 255, 255, 255
time = 2
under = 1

[State BGpal]
type = BGPalFx
trigger1 = time = [16, 80]
invertall = 1
mul = 256, 0, 0
add = 32 - (time % 4) * 16, 32 - (time % 4) * 16, 32 - (time % 4) * 16
color = 0
time = 2

[State BGpal]
type = BGPalFx
trigger1 = time = [81, 145]
mul = 256, ((time-81) * 4), ((time-81) * 4)
color = ((time-81) * 4)
time = 2

[State 3]
type = AssertSpecial
trigger1 = time <= 16
flag = globalnoshadow
flag2 = noFG

[State 3]
type = AssertSpecial
trigger1 = time <= 81
flag = nobardisplay
flag2 = nomusic
flag3 = noFG

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State Fist] 
type = Explod
trigger1 = animelem = 5
anim = 122033
ID = 122033
pos = 0, 0
sprpriority = 0
postype = p1
removetime = 80
removeongethit = 1
bindtime = -1
shadow = -1

[State Fist] 
type = removeexplod
trigger1 = animelem = 37
ID = 122033

[State SuperLight] 
type = Explod
trigger1 = animelem = 5 && numtarget = 1
trigger1 = target, name != "Dragon Claw"
anim = 13035
pos = 42, -50
sprpriority = 0
supermovetime = -1
ownpal = 1

[State SuperLight] 
type = Explod
trigger1 = animelem = 37 && numtarget = 1
trigger1 = target, name != "Dragon Claw"
anim = 13036
pos = 34, -58
sprpriority = 3
supermovetime = -1
ownpal = 1
scale = 0.5, 0.5

[State 4]
type = targetLifeAdd
trigger1 = animelem = 5
value = -500
kill = 1

[State 4]
type = hitadd
trigger1 = animelem = 5
value = 1

[State this means shinryuken]
type = PlaySnd
trigger1 = animelem = 5
value = 6, 12
volume = 255

[State this means shinryuken]
type = PlaySnd
trigger1 = time = 16
value = 0, 12
volume = 255
freqmul = 1.5

[State this means shinryuken]
type = PlaySnd
trigger1 = animelem = 37
value = 6, 12
volume = -255

[State 0]
type = Varset
trigger1 = time >= 200
v = 28
value = 0

[State 4]
type = ChangeState
trigger1 = time >= 200
value = 0
ctrl = 1


;==============================================================================================
[Statedef 3895]
type = S
movetype= H
physics = N
ctrl = 0
velset = 0, 0
sprpriority = -1

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 4]
type = ChangeAnim2
trigger1 = time = 0
value = 3895

[State 3]
type = AssertSpecial
trigger1 = time >= 36
flag = invisible

[State 3]
type = Palfx
trigger1 = time >= 36
time = 2
add = 255, 255, 255

[State 3]
type = SelfState
trigger1 = time >= 300
value = 5120


;==============================================================================================
[Statedef 3896]
type = S
movetype= H
physics = N
ctrl = 0
velset = 0, 0
sprpriority = -4

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 2]
type = ChangeAnim2
trigger1 = time = 0
value = 3896

[State 3]
type = Palfx
trigger1 = time <= 32
time = 64
add = 255, 255, 255
sinadd = -255, -255, -255, 256

[State 3]
type = SelfState
trigger1 = time >= 120
value = 5120


;==============================================================================================
[Statedef 3897]
type = S
movetype= H
physics = N
ctrl = 0
velset = 0, 0
sprpriority = -1

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 2]
type = ChangeAnim2
trigger1 = time = 0
value = 3897

[State 3]
type = Palfx
trigger1 = time = 0
time = 15
add = -255, -255, -255

[State 3]
type = SelfState
trigger1 = time >= 300
value = 5120


;==============================================================================================
[Statedef 3898]
type = S
movetype= H
physics = N
ctrl = 0
velset = 0, 0
sprpriority = 0

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0

[State 4]
type = ChangeAnim2
trigger1 = time = 0
value = 3898

[State 4]
type = posset
trigger1 = 1
y = -66 - floor((const(size.head.pos.y) - const(size.mid.pos.y)) / 2.0)

[State 4]
type = SelfState
trigger1 = Time >= 300
value = 5120
ctrl = 0


;==============================================================================================
[Statedef 3899]
type = L
movetype= H
physics = N
poweradd = 0
ctrl = 0
velset = 0, 0
sprpriority = 0

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 4]
type = ChangeAnim2
trigger1 = time = 0
value = 3899

[State 4]
type = ChangeAnim
trigger1 = time = 0
trigger1 = selfanimexist(5950)
value = 5950

[State 8]
type = explod
trigger1 = anim = 3899 && animelem = 7
anim = F60
pos = 0, 0
sprpriority = -10

[State 10]
type = playsnd
trigger1 = anim = 3899 && animelem = 7
value = F7, 0

[State 4]
type = posset
trigger1 = 1
y = 0

[State Anim]
type = changeanim
trigger1 = time >= 120
trigger1 = anim = 5950 && selfanimexist(5111)
value = 5111

[State End]
type = selfstate
trigger1 = time >= 120
value = ifelse(alive, 5120, 5150)


;==============================================================================================
[Statedef 3900]
type = S
movetype = A
poweradd = (Var(10)=0) * -1000
anim = 3900
velset = 0, 0
ctrl = 0
sprpriority = 2
facep2 = 1

[State Randomizer]
type = varrandom
trigger1 = time = 0
v = 46
range = 0, 100

[State black fadeout]
type = BGPalFx
triggerall = time = 4
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
add = 0, 0, 0
sinadd = -255, -255, -255, 360
time = 180
ignorehitpause = 1

[State this means shinryuken]
type = PlaySnd
triggerall =animelem = 10
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 2, 10
volume = 255
channel = 0

[State Shadows]
type = Afterimage
trigger1 = time = 0 && var(29) = 0
time = 29
length = 21
PalBright = 0, 0, 0
PalContrast = 148, 148, 148
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State Shadows]
type = Afterimage
triggerall = time = 0 && var(29) = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
time = 29
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State red fadeout]
type = BGPalFx
triggerall = var(28) = 0
trigger1 = animelem = 1
add = 100, 100, 100
mul = 200, 200, 300
sinadd = 100, 100, 100, 350
time = 60
ignorehitpause = 1
invertall = 1

[State red fadein]
type = BGPalFx
triggerall = var(28) = 1
trigger1 = animelem = 1
add = 100, 100, 150
sinadd = 305, -255, -355, 180
time = 32
invertall = 1
ignorehitpause = 1

[State white fadein]
type = BGPalFx
triggerall = var(28) > 1
trigger1 = animelem = 1
add = 255, -155, -155
sinadd = -255, -255, -255, 180
time = 32
ignorehitpause = 1
invertall = 1

[State Freeze]
type = superpause
trigger1 = animelem = 1
movetime = 3
time = ifelse(var(28) > 0, 32, 60)
pos = 33, -5
anim = S ifelse(var(28) > 0, 10061, 10060)
p2defmul = 1
darken = 0
sound = S ifelse(var(28) > 0, 0, 7), ifelse(var(28) > 0, 12, 3)

[State Wind effect] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 9402
scale = 0.7, 0.7
pos = 0, 0
sprpriority = -1
postype = p1
supermovetime = -1
bindtime = 18
ownpal = 1
pausemovetime = 9999

[State Wind effect3] 
type = Explod
trigger1 = animelem = 10
anim = 10020
pos = 15, 0
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 36
ownpal = 1
pausemovetime = 9999

[State groundshockwave] 
type = explod
trigger1 = animelem = 10
anim = 10030
pos = 15, 2
sprpriority = 3
postype = p1
supermovetime = -1
ownpal = 1

[State groundshockwave] 
type = explod
trigger1 = animelem = 10
anim = 10030
pos = 15, 2
sprpriority = 3
postype = p1
supermovetime = -1
ownpal = 1

[State Dragon]
type = Helper
triggerall = animelem = 10
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
helpertype = normal
name = "Rising Dragon"
pos = 0, 0
postype = p2
stateno =1014
ownpal = 1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 48
range = -80, 80

[State Randomizer]
type = varrandom
trigger1 = 1
v = 49
range = -80, 80

[State Geyser]
type = Helper
triggerall = time = [23, 150]
triggerall = timemod = 9, 8
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
helpertype = normal
name = "Geyser"
id = 3
pos = var(48), 2
postype = p2
stateno = 1015
ownpal = 1
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State Geyser]
type = Helper
triggerall = time = 22
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
helpertype = normal
name = "Geyser"
id = 3
pos = 0, 2
postype = p2
stateno = 1015
ownpal = 1
pausemovetime = 9999
size.xscale = 1
size.yscale = 1

[State Geyser]
type = Helper
triggerall = time = [23, 150]
triggerall = timemod = 9, 8
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
helpertype = normal
name = "Geyser"
id = 3
pos = var(49), 2
postype = p2
stateno = 1015
ownpal = 1
pausemovetime = 9999
size.xscale = 0.8
size.yscale = 0.8

[State this means shinryuken]
type = PlaySnd
triggerall = time = [23, 148]
triggerall = timemod = 8, 7
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
channel = 3
value = 2, 7

[State chargeyell]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 5
channel = 0

[State 0]
type = Varadd
trigger1 = animelem = 1
v = 28
value = 1

[State Shadows]
type = Afterimage
triggerall = animelem = 1 && var(29) = 0
trigger1 = var(46) >= 90 || var(28) >= 3
time = 29
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State 4]
type = HitDef
trigger1 = animelem = 6
attr = S, HA
animtype = Hard
damage = 60, 7
hitflag = MAFD
guardflag = MA
priority = 5, Hit
pausetime = 5, 5
getpower = 0, 0
sparkno = 2
sparkxy = -10, -70
guard.sparkno = 40; S9300
hitsound = S6, 4
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime = 30
ground.velocity = -2, 0
air.velocity = -2, -2
forcestand = 1
fall.yvelocity = -6
down.velocity = 0, -12
down.hittime = 10
bounce = 1
hitonce = 1
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State 4]
type = HitDef
triggerall = animelem = 10
trigger1 = var(46) < 90
trigger1 = var(28) < 3
attr = S, HA
animtype = Up
damage = 120, 15
hitflag = MAFDP
guardflag = L
priority = 5, Hit
pausetime = 8, 8
getpower = 0, 0
sparkno = 62
sparkxy = -10, 0
guard.sparkno = 40; S9300
hitsound = S3, 3
guardsound = S0, 100
ground.type = Low
ground.slidetime = 18
ground.hittime = 30
ground.velocity = 0, -12
air.velocity = 0, 0
forcestand = 1
air.fall = 1
air.type = Trip
fall.recover = 0
fall.recovertime = 120
fall = 1
fall.animtype = Hard
fall.yvelocity = -6
down.velocity = 0, 0
down.bounce = 1
down.hittime = 10
bounce = 1
hitonce = 1
forcestand = 1

[State 4]
type = HitDef
triggerall = animelem = 10
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
attr = S, HA
animtype = Up
damage = 60, 7
hitflag = MAFDP
guardflag = 
priority = 5, Hit
pausetime = 8, 3
getpower = 0, 0
sparkno = 62
sparkxy = -10, 0
guard.sparkno = 40; S9300
hitsound = S3, 3
guardsound = S0, 100
ground.type = Low
ground.slidetime = 18
ground.hittime = 50
ground.velocity = 0, 0
air.velocity = 0, 0
forcestand = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 120
fall = 1
fall.animtype = Hard
fall.yvelocity = -6
down.velocity = 0, -12
down.bounce = 1
down.hittime = 10
bounce = 1
hitonce = 1
forcestand = 1

[State 5]
type = PlaySnd
trigger1 = animelem = 10
value = 1, 0

[State 5]
type = PlaySnd
trigger1 = animelem = 10
value = 6, 11

[State 5]
type = EnvShake
trigger1 = animelem = 10
persistent = 0
time = 20
ampl = -10
freq = 150
phase = 15

[State posadd]
type = PosAdd
trigger1 = animtime = 0
x = -35

[State 0]
type = Varset
trigger1 = Animtime = 0
v = 28
value = 0

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 3910]
type = S
movetype = A
anim = 196
velset = 0, 0
ctrl = 0
sprpriority = 2

[State Shadows]
type = Afterimage
trigger1 = time = 17
time = 9999
length = 16
PalBright = 0, 0, 0
PalContrast = 200, 200, 400
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 5
Trans = Add1

[State blue fadeout]
type = BGPalFx
trigger1 = animelem = 1
add = 0, 0, 0
mul = 200, 200, 300
sinadd = 100, 100, 255, 320
time = 49
ignorehitpause = 1
invertall = 1

[State Freeze]
type = superpause
trigger1 = time = 0
movetime = 49
time = 49
pos = 7, -95
anim = -1
p2defmul = 1
darken = 0

[State Sonar Effect]
type = PlaySnd
trigger1 = animelem = 5
value = 2, 5
volume = 255

[State SuperLight2] 
type = Explod
trigger1 = animelem = 5
anim = 10080
pos = -15, -50
sprpriority = 4
postype = p1
supermovetime = -1
id = 914
ownpal = 1
scale = 1.3, 1.3
pausemovetime = 9999

[State 0]
type = ModifyExplod
trigger1 = time > 36
ID = 914
scale = (1.5 + (.09*(time-37))), (1.5 + (.09*(time-37)))

[State Wind effect] 
type = Explod
trigger1 = animelem = 5
anim = 9402
scale = 0.7, 0.7
pos = 0, 0
sprpriority = -1
postype = p1
supermovetime = -1
bindtime = 18
ownpal = 1
pausemovetime = 9999

[State 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = ifelse(power >= 3000, 12, ifelse(power >= 2000, 8, 4))

[State VarSet]
type = VarSet
trigger1 = time >= 50
var(10) = ceil(0.133 * power)

[State 9]
type = ChangeState
trigger1 = time >= 50
value = 0
ctrl = 1


;==============================================================================================
[Statedef 3911]
type = A
movetype = A
anim = 13008
ctrl = 0
sprpriority = 2

[State Shadows]
type = Afterimage
trigger1 = time = 17
time = 9999
length = 16
PalBright = 0, 0, 0
PalContrast = 200, 200, 400
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 5
Trans = Add1

[State Shadows]
type = posfreeze
trigger1 = 1
value = 1

[State blue fadeout]
type = BGPalFx
trigger1 = animelem = 1
add = 0, 0, 0
mul = 200, 200, 300
sinadd = 100, 100, 255, 320
time = 49
ignorehitpause = 1
invertall = 1

[State Freeze]
type = superpause
trigger1 = time = 0
movetime = 49
time = 49
pos = 7, -95
anim = -1
p2defmul = 1
darken = 0

[State Sonar Effect]
type = PlaySnd
trigger1 = animelem = 1
value = 2, 5
volume = 255

[State SuperLight2] 
type = Explod
trigger1 = animelem = 1
anim = 10080
pos = -2, -70
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 65
id = 914
ownpal = 1
scale = 1.3, 1.3
shadow = 0, 0, 0
pausemovetime = 9999

[State 0]
type = ModifyExplod
trigger1 = time > 23
ID = 914
scale = (1.5 + (.09*(time-22))), (1.5 + (.09*(time-22)))

[State 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = ifelse(power >= 3000, 12, ifelse(power >= 2000, 8, 4))

[State VarSet]
type = VarSet
trigger1 = Animtime = 0
var(10) = ceil(0.133 * power)

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 3912
ctrl = 1


;==============================================================================================
[Statedef 3912]
type = A
movetype = A
physics = A

[State 1]
type = changeanim
trigger1 = time = 0
value = 3951


;==============================================================================================
[Statedef 4000]
type = S
movetype = A
juggle = 4
poweradd = -2000
anim = 1900
velset = 0, 0
ctrl = 0
sprpriority = 2
facep2 = 1

[State 2]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State FloorFire]
type = Explod
trigger1 = animelem = 3, =6
id = 2650
anim = 2650
postype = p1
pos = -40, -2
sprpriority = 3
ownpal = 1

[State NHB]
type = NotHitBy
trigger1 = animelemtime(3) < 0
trigger2 = Prevstateno != [3960, 3991]
trigger2 = animelemtime(5) < 3
value = SCA
time = 1

[State VelSet]
type = VelSet
trigger1 = animelem = 4
x = 13

[State VelMul]
type = VelMul
trigger1 = 1
x = 0.9

[State Shadows]
type = Afterimage
trigger1 = time = 0
time = 300
length = 21
PalBright = 0, 0, 0
PalContrast = 0, 0, 542
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State red fadeout]
type = BGPalFx
triggerall = var(28) = 0
trigger1 = animelem = 1
add = 100, 100, 100
mul = 200, 200, 300
sinadd = 100, 100, 100, 340
time = 53
ignorehitpause = 1
invertall = 1

[State red fadein]
type = BGPalFx
triggerall = var(28) = 1
trigger1 = animelem = 1
add = 100, 100, 150
sinadd = 305, -255, -355, 180
time = 32
invertall = 1
ignorehitpause = 1

[State white fadein]
type = BGPalFx
triggerall = var(28) > 1
trigger1 = animelem = 1
add = 255, -155, -155
sinadd = -255, -255, -255, 180
time = 32
ignorehitpause = 1
invertall = 1

[State Freeze]
type = superpause
trigger1 = animelem = 3
time = ifelse(var(28) > 0, 32, 53)
pos = 22, -27
anim = S ifelse(var(28) > 0, 10061, 10060)
p2defmul = 1
darken = 0
sound = S ifelse(var(28) > 0, 0, 7), ifelse(var(28) > 0, 12, 3)

[State Wind effect] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 3
anim = 9402
scale = 0.7, 0.7
pos = 0, 0
sprpriority = -1
postype = p1
supermovetime = -1
bindtime = 18
ownpal = 1
pausemovetime = 9999

[State chargeyell]
type = PlaySnd
trigger1 = animelem = 3
value = 1, 3
channel = 0

[State 0]
type = Varadd
trigger1 = animelem = 3
v = 28
value = 1

[State Sound]
type = PlaySnd
trigger1 = animelem = 3, 6
value = 6, 9

[State grunt]
type = PlaySnd
trigger1 = animelem = 6
value = 3, 8
volume = 255
channel = 0

[State 3]
type = HitDef
trigger1 = animelem = 6
attr = S, HA
damage = 40, 5
animtype = Hard
priority = 5, Hit
hitflag = MAF
guardflag = MA
getpower = 0, 0
pausetime = 1, 2
sparkxy = -10, -60
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = Low
ground.slidetime = 40
ground.hittime = 40
ground.velocity = -6
air.velocity = -3, -5
kill = 0
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State 5]
type = ChangeState
trigger1 = animtime = 0
value = 4005
ctrl = 0


;==============================================================================================
[Statedef 4005]
type = S
movetype = A
anim = 10480
velset = 0, 0
ctrl = 0
sprpriority = 2

[State 2]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0]
type = Varset
trigger1 = time = 0
v = 28
value = 0

[State 3]
type = HitDef
trigger1 = animelem = 2
attr = S, HA
damage = 40, 5
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 3, 10
getpower = 0, 0
sparkxy = -10, -80
Facing = 1
sparkno = 2
guard.sparkno = 40; S9200
hitsound = S6, 3
guardsound = S0, 100
ground.type = high
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -1.2
air.velocity = -1.2, -2
kill = 0
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State 5]
type = ChangeState
trigger1 = animtime = 0
value = 4019
ctrl = 0


;==============================================================================================
[Statedef 4019]
type = S
movetype = A
juggle = 0
anim = 10481
velset = 0, 0
ctrl = 0
sprpriority = 2

[State 3]
type = HitDef
trigger1 = animelem = 2
attr = S, HA
damage = 40, 5
animtype = Up
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 1, 8
sparkxy = -10, -80
sparkno = 2
getpower = 0, 0
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = Low
ground.slidetime = 8
ground.hittime = 8
ground.velocity = -1.2, -3
air.velocity = -1.2, -10
snap = 30, 0
P2stateno = 4001
kill = 0
fall.recover = 0
fall.recovertime = 120
fall = 1
forcestand = 1

[State 1]
type = AfterImageTime
trigger1 = movehit = 0
trigger1 = animtime = 0
trigger2 = animtime = 0
trigger2 = P2life <= 0
time = 0

[State 5]
type = ChangeState
trigger1 = movehit = 0
trigger1 = animtime = 0
trigger2 = animtime = 0
trigger2 = P2life <= 0
value = 0
ctrl = 1

[State 5]
type = ChangeAnim
trigger1 = movehit = 0
trigger1 = time = 8
value = 10482

[State 5]
type = ChangeState
trigger1 = movehit
trigger1 = animtime = 0
trigger1 = P2life > 0
value = 4010
ctrl = 0

[State Idle]
type = statetypeset
trigger1 = anim = 10482
movetype = I


;==============================================================================================
[Statedef 4010]
type = S
movetype = A
juggle = 3
anim = 1500
velset = 0, 0
ctrl = 0
sprpriority = 2

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0]
type = VarSet
trigger1 = time = 0
v = 4
value = 0

[State 5]
type = ChangeState
trigger1 = animelem = 4
value = 4011


;==============================================================================================
[Statedef 4011]
type = A
movetype = A

[State 5]
type = HitAdd
trigger1 = time = 0
value = 1

[State 5]
type = Explod
trigger1 = time = 0
anim = F3
postype = p2
pos = 0, -60
ontop = 1

[State 5]
type = PlaySnd
trigger1 = time = 0
value = S6, 5

[State MEGA]
type = PlaySnd
trigger1 = time = 6
value = 3, 6
channel = 0
volume = 255

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1]
type = VelSet
trigger1 = time = 0
x = 12
y = -15

[State 2]
type = VelMul
trigger1 = 1
x = 0.38

[State 3]
type = VelAdd
trigger1 = 1
y = 0.44

[State 5]
type = ChangeAnim
trigger1 = time = 8
value = 1510
persistent = 0

[State 5]
type = ChangeAnim
trigger1 = time = 16
value = 41
persistent = 0

[State 9] 
trigger1 = time = 24
type = Changestate
value = 4012


;==============================================================================================
[Statedef 4012]
type = A
movetype = A
Anim = 10460

[State 5]
type = HitAdd
trigger1 = time = 8
value = 1

[State 5]
type = explod
trigger1 = time = 8
anim = F3
postype = p2
pos = 0, -60
ontop = 1

[State 5]
type = PlaySnd
trigger1 = time = 8
value = S6, 5

[State END!]
type = PlaySnd
trigger1 = time = 8
value = 3, 7
channel = 0
volume = 255

[State 5]
type = HitAdd
trigger1 = time = 35
value = 1

[State 5]
type = HitAdd
trigger1 = time = 155
value = 1

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5]
type = Posadd
trigger1 = time = 0
y = -60

[State flame charge]
type = PlaySnd
trigger1 = time = 75
value = 3, 1

[State SuperLight charge for hadouken flame twirl] 
type = Explod
trigger1 = time = 35
anim = 10810
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
scale = 0.52, 0.52
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
trigger1 = time = 35
anim = 10811
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
scale = 0.50, 0.50
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
trigger1 = time = 35
anim = 10812
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
scale = 0.48, 0.48
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
trigger1 = time = 35
anim = 10813
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
scale = 0.46, 0.46
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
trigger1 = time = 35
anim = 10814
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
scale = 0.44, 0.44
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
trigger1 = time = 35
anim = 10815
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
scale = 0.42, 0.42
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
trigger1 = time = 35
anim = 10816
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
scale = 0.4, 0.4
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
trigger1 = time = 35
anim = 10817
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
scale = 0.38, 0.38
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
trigger1 = time = 35
anim = 10818
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
scale = 0.36, 0.36
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
trigger1 = time = 35
anim = 10819
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
scale = 0.34, 0.34
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
trigger1 = time = 35
anim = 10820
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
scale = 0.32, 0.32
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
trigger1 = time = 35
anim = 10821
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
scale = 0.3, 0.3
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
trigger1 = time = 35
anim = 10822
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
scale = 0.28, 0.28
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
trigger1 = time = 35
anim = 10823
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
scale = 0.26, 0.26
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
trigger1 = time = 35
anim = 10824
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
scale = 0.24, 0.24
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
trigger1 = time = 35
anim = 10825
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
scale = 0.2, 0.2
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
trigger1 = time = 35
anim = 10826
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
removetime = 81
ownpal = 1
scale = 0.18, 0.18
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
trigger1 = time = 35
anim = 10830
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
shadow = 0, 50, 100
scale = 0.2, 0.2
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
trigger1 = time = 35
anim = 10831
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
shadow = 0, 50, 100
scale = 0.25, 0.25
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
trigger1 = time = 35
anim = 10832
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
shadow = 0, 50, 100
scale = 0.3, 0.3
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
trigger1 = time = 35
anim = 10833
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
shadow = 0, 50, 100
scale = 0.35, 0.35
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
trigger1 = time = 35
anim = 10834
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
shadow = 0, 50, 100
scale = 0.4, 0.4
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
trigger1 = time = 35
anim = 10835
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
shadow = 0, 50, 100
scale = 0.45, 0.45
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
trigger1 = time = 35
anim = 10836
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
shadow = 0, 50, 100
scale = 0.5, 0.5
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
trigger1 = time = 35
anim = 10837
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
shadow = 0, 50, 100
scale = 0.55, 0.55
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
trigger1 = time = 35
anim = 10838
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
shadow = 0, 50, 100
scale = 0.6, 0.6
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
trigger1 = time = 35
anim = 10839
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
shadow = 0, 50, 100
scale = 0.65, 0.65
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
trigger1 = time = 35
anim = 10840
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
ownpal = 1
shadow = 0, 50, 100
scale = 0.7, 0.7
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
trigger1 = time = 35
anim = 10841
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 80
removetime = 81
ownpal = 1
shadow = 0, 50, 100
scale = 0.75, 0.75
pausemovetime = 9999

[State Aaaaahh!]
type = PlaySnd
trigger1 = time = 70
value = 2, 3
channel = 0
volume = 255

[State hadouken whiff]
type = PlaySnd
trigger1 = time = 131
value = 0, 7
volume = 255

[State earth crash]
type = PlaySnd
trigger1 = time = 35
value = 3, 3

[State 8]
type = Explod
trigger1 = time = 35
postype = p2
anim = F62
pos = 0, 0
ontop = 1

[State 5]
type = explod
trigger1 = time = 155
anim = 10450
pos = 0, 2
postype = p2
ontop = 1
persistent = 0
shadow = 0, 50, 100
ownpal = 1

[State FireB]
type = Explod
trigger1 = timemod = 4, 3
trigger1 = time > 160
trigger1 = time < 225
trigger1 = numexplod(2500) < 4
postype = p2
ignorehitpause = 1
anim = 2500
id = 2500
pos = -10, -10
random = 50, 10
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = timemod = 4, 3
trigger1 = time > 160
trigger1 = time < 225
trigger1 = numexplod(2500) < 4
postype = p2
ignorehitpause = 1
anim = 2501
id = 2500
pos = 20, -10
random = 50, 10
bindtime = -1
sprpriority = 2
ownpal = 1

[State Spark] 
type = Explod
trigger1 = timemod = 4, 3
trigger1 = time > 160
trigger1 = time < 225
postype = p2
anim = ifelse(random>500, 10421, 10420)
pos = 0, -20
ignorehitpause = 1
sprpriority = 2
supermovetime = -1
ownpal = 1
pausemovetime = 999
supermovetime = 999
random = 25, 0
scale = 0.7, 0.7

[State hadouken crash]
type = PlaySnd
trigger1 = time = 155
value = 2, 9
volume = 255

[State implosion]
type = PlaySnd
trigger1 = time = 159
value = 3, 2
channel = 0

[State Gravity]
type = Posadd
trigger1 = time > 0
y = 0.44

[State 5]
type = velset
trigger1 = animelem = 7
x = 0
y = -14

[State 5]
type = veladd
trigger1 = time > 35
trigger1 = time < 50
x = 0
y = 0.58

[State 5]
type = Screenbound
trigger1 = time > 0
trigger1 = time < 55
trigger2 = time > 135
value = 0

[State 5]
type = Screenbound
trigger1 = time > 135
value = 0

[State PosFreeze]
type = Posfreeze
trigger1 = time > 24
trigger1 = time < 128

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal
name = "hadouken"
pos = 5, 40
postype = p1
stateno = 1010
ownpal = 1
shadow = 0, 50, 100
size.xscale = 0.9
size.yscale = 0.9

[State SuperLight charge for hadouken] 
type = Explod
trigger1 = time = 75
anim = 10086
pos = 15, -27
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 65
ownpal = 1
scale = 0.5, 0.5
pausemovetime = 9999
ID = 112

[State 6]
type = ModifyExplod
trigger1 = time < 107
ID = 112
scale = 0.5 - (.04*(time-100)), 0.5 - (.04*(time-100))

[State 3]
type = BGPalfx
trigger1 = time = 70
invertall = 1
supermovetime = -1
time = 70
add = 0, -255, -255
sinadd = 400, 400, 400, 145

[State 0]
type = Varset
trigger1 = time = 178
v = 28
value = 0

[State 6]
type = changestate
trigger1 = time = 178
value = 4013
ctrl = 0


;==============================================================================================
[Statedef 4013]
type = S
movetype = A
Anim = 10470
vel = 0, 0
sprpriority = -1

[State FireB]
type = Explod
trigger1 = timemod = 4, 3
trigger1 = time < 70
trigger1 = numexplod(2500) < 4
postype = p2
ignorehitpause = 1
anim = 2500
id = 2500
pos = 0, -10
random = 80, 10
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = timemod = 4, 3
trigger1 = time < 70
trigger1 = numexplod(2500) < 4
postype = p2
ignorehitpause = 1
anim = 2501
id = 2500
pos = 0, -10
random = 80, 10
bindtime = -1
sprpriority = 2
ownpal = 1

[State Randomizer1]
type = varrandom
trigger1 = 1
v = 51
range = -5, -8

[State Randomizer2]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State FireB]
type = Explod
trigger1 = random <= 600 && time < 40
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p2
pos = 30, -10
random = 30, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = -(var(52))/3, (var(51))/10

[State Randomizer]
type = varrandom
trigger1 = 1
v = 35
range = -6, -9

[State Randomizer3]
type = varrandom
trigger1 = 1
v = 36
range = -3, -9

[State FireB]
type = Explod
trigger1 = random <= 600 && time < 40
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p2
pos = -30, -10
random = 30, 10
sprpriority = 5
ownpal = 1
vel = var(36), (var(35))
scale = 0.1, 0.75
accel = -(var(36))/3, (var(35))/10

[State FireB]
type = Explod
trigger1 = random <= 600 && time = [40, 88]
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p2
pos = 0, -10
random = 60, 10
sprpriority = 5
ownpal = 1
vel = 0, (var(35))
scale = 0.1, 0.75
accel = 0, (var(35))/10

[State 2]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA, NP, SP
time = 1

[State 5]
type = posset
trigger1 = time = 0
Y = 0

[State 5]
type = posadd
trigger1 = time = 0
x = 5
y = 0

[State 5]
type = velset
trigger1 = time = 0
x = 0
y = 0

[State Var(32)reset]
type = Varset
trigger1 = time = 0
v = 32
value = 0

[State Var(32) Add]
type = VarAdd
trigger1 = command = "a" || command = "b" || command = "c"
trigger2 = AILevel && p2life > 0 && time > 0
trigger2 = random < (1000 * (AIlevel ** 2 / 64.0))
v = 32
value = 1

[State 6]
type = changestate
trigger1 = time = 100
trigger1 = var(32) <= 10
value = 0
ctrl = 1

[State 6]
type = changestate
trigger1 = time = 100
trigger1 = var(32) > 10
trigger2 = time = 100
trigger2 = AILevel
trigger2 = random < (1000 * (AIlevel ** 2 / 64.0))
value = 4014
ctrl = 0


;==============================================================================================
[Statedef 4014]
type = S
physics = S
movetype = A
anim = 3900
velset = 0, 0
ctrl = 0
sprpriority = 2

[State 2]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 5]
type = posadd
trigger1 = time = 0
x = -5
y = 0

[State Shadows]
type = Afterimage
trigger1 = time = 0
time = 30
length = 21
PalBright = 0, 0, 0
PalContrast = 0, 0, 542
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State Wind effect3] 
type = Explod
trigger1 = animelem = 10
anim = 10020
pos = 15, 0
sprpriority = 3
postype = p1
supermovetime = -1
bindtime = 36
ownpal = 1
pausemovetime = 9999

[State groundshockwave] 
type = explod
trigger1 = animelem = 10
anim = 10030
pos = 15, 2
sprpriority = 3
postype = p1
supermovetime = -1
ownpal = 1

[State 4]
type = HitDef
trigger1 = animelem = 6
attr = S, HA
animtype = Hard
damage = 10, 0
hitflag = MAFD
guardflag = MA
priority = 5, Hit
pausetime = 5, 5
sparkno = 2
sparkxy = -10, -70
guard.sparkno = 40; S9300
hitsound = S6, 4
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 18
ground.hittime = 30
ground.velocity = -2, 0
air.velocity = -2, -2
forcestand = 1
fall.yvelocity = -6
down.velocity = 0, -12
down.hittime = 10
bounce = 1
hitonce = 1
getpower = 0, 0
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State 4]
type = HitDef
trigger1 = animelem = 10
attr = S, HP
damage = 30, 8
animtype = Hard
guardflag = MA
hitflag = MAFDP
pausetime = 0, 10
hitsound = S20, 2
guardsound = S20, 6
sparkxy = 500, 500
ground.type = High
ground.slidetime = 15
ground.hittime = 15
ground.Velocity = -3
air.animtype = Back
air.velocity = -4, 4
air.fall = 1
fall = 1
down.Velocity = 0, 0
down.hittime = 30
down.bounce = 0
getpower = 0, 0
fall.recover = 0
fall.recovertime = 120

[State 5]
type = PlaySnd
trigger1 = animelem = 10
value = 1, 0

[State 5]
type = PlaySnd
trigger1 = animelem = 10
value = 3, 5

[State 5]
type = EnvShake
trigger1 = animelem = 10
persistent = 0
time = 20
ampl = -10
freq = 150
phase = 15

[State posadd]
type = PosAdd
trigger1 = animtime = 0
x = -35

[State 9]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 4001]
type = A
movetype = H
velset = 0, 0

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State PosFreeze]
type = Posfreeze
trigger1 = time < 6

[State Change to Staggering]
type = ChangeAnim
trigger1 = alive = 1 && time = 0
value = 5051

[State Change to Staggering]
type = ChangeAnim
trigger1 = alive = 1 && Animtime = 0
value = 5061

[State fly]
type = Velset
trigger1 = time = 6
y = -6.5

[State Gravity]
type = Veladd
trigger1 = time >= 6
y = 0.44

[State 9]
type = changeState
trigger1 = time = 21
value = 4002
ctrl = 0


;==============================================================================================
[Statedef 4002]
type = A
movetype = H
velset = 0, 0

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State Change to Staggering]
type = ChangeAnim
trigger1 = alive = 1 && time = 0
value = 5051

[State 5]
type = lifeadd
trigger1 = time = 0
value = -40
kill = 0

[State fly]
type = Velset
trigger1 = time = 0
y = -12

[State Gravity]
type = Veladd
trigger1 = 1
y = 0.44

[State 9]
type = ChangeState
trigger1 = time = 32
value = 4003
ctrl = 0


;==============================================================================================
[Statedef 4003]
type = A
movetype = H
velset = 0, 0

[State Gravity]
type = PosAdd
trigger1 = time = 0
x = 10

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State Change to Staggering]
type = ChangeAnim
trigger1 = alive = 1 && time = 0
value = 5061

[State PosFreeze]
type = Posfreeze
trigger1 = time < 10

[State 5]
type = lifeadd
trigger1 = time = 0
value = -50
kill = 0

[State fly]
type = Velset
trigger1 = time = 0
trigger1 = pos y < 0
y = 5

[State Gravity]
type = Veladd
trigger1 = 1
trigger1 = pos y < 0
y = 0.44

[State 9]
type = changestate 
trigger1 = time = 27
value = 4004


;==============================================================================================
[Statedef 4004]
type = L
movetype = H
velset = 0, 0
physics = C

[State NHB]
type = NotHitBy
trigger1 = time < 160
value = SCA
time = 1

[State 5]
type = posadd
trigger1 = time = 0
x = 15
y = 0

[State 5]
type = lifeadd
trigger1 = time = 0
value = -30
kill = 0

[State 5]
type = Screenbound
trigger1 = time > 11
trigger1 = time < 61
value = 0

[State fly]
type = Velset
trigger1 = time = 0
y = 0

[State Change to Staggering]
type = ChangeAnim
trigger1 = alive = 1 && time = 0
value = 5101

[State Change to Staggering]
type = ChangeAnim
trigger1 = alive = 1 && time = 6
value = 5110

[State Change to Staggering]
type = ChangeAnim
trigger1 = alive = 1 && time = 120
value = 5080

[State Change to Staggering]
type = ChangeAnim
trigger1 = alive = 1 && time = 140
value = 5110

[State 5]
type = posset
trigger1 = time = 0
Y = 0

[State 5]
type = EnvShake
trigger1 = time = 0
persistent = 0
time = 20
ampl = -9
freq = 100
phase = 10

[State 5]
type = EnvShake
trigger1 = time = 120
persistent = 0
time = 20
ampl = -9
freq = 100
phase = 10

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -12, 12

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -12, 12

[State FireB]
type = Explod
trigger1 = time = [120, 140]
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = 1/2*(var(52)), 1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = time = [120, 140]
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = 1/2*(var(52)), 1/2*(var(53))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = time = [120, 140]
persistent = 1
anim = 12213
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = 1/2*(var(53)), 1/2*(var(52))
ignorehitpause = 1
pausemovetime = 9999

[State FireB]
type = Explod
trigger1 = time = [120, 140]
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = 1/2*(var(53)), 1/2*(var(52))
ignorehitpause = 1
pausemovetime = 9999

[State 5]
type = palfx
trigger1 = time = 123
time = 100
add = 32, 0, 0
mul = 300, 192, 192
sinadd = 64, 5, 5, 6

[State 1]
type = EnvColor
trigger1 = time = 120
value = 255, 10, 10
time = 2

[State 5]
type = lifeadd
trigger1 = time = 123
value = -90
kill = 1

[State 9]
type = SelfState
trigger1 = time = 300
trigger1 = alive = 1
value = 5120
ctrl = 0

[State 9]
type = SelfState
trigger1 = time >= 150
trigger1 = alive = 0
value = 5150
ctrl = 1


;==============================================================================================
[Statedef 4020]
type = A
movetype = A
anim = 10490
physics = N
poweradd = (Var(10)=0) * -1000
velset = 0, 0
ctrl = 0
sprpriority = 2
facep2 = 0

[State Width]
type = width
trigger1 = 1
edge = 24, 0

[State Pos Fix]
type = posset
trigger1 = time = 0
trigger1 = pos y > 0
y = 0

[State Randomizer]
type = varrandom
trigger1 = time = 0
v = 46
range = 0, 100

[State 2]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State Shadows]
type = Afterimage
trigger1 = time = 0 && var(29) = 0
time = 120
length = 21
PalBright = 0, 0, 0
PalContrast = 148, 148, 148
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State Shadows]
type = Afterimage
triggerall = time = 0 && var(29) = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
time = 70
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State red fadeout]
type = BGPalFx
triggerall = var(28) = 0
trigger1 = animelem = 1
add = 100, 100, 100
mul = 200, 200, 300
sinadd = 100, 100, 100, 360
time = 60
ignorehitpause = 1
invertall = 1

[State red fadein]
type = BGPalFx
triggerall = var(28) = 1
trigger1 = animelem = 1
add = 100, 100, 150
sinadd = 305, -255, -355, 180
time = 32
invertall = 1
ignorehitpause = 1

[State white fadein]
type = BGPalFx
triggerall = var(28) > 1
trigger1 = animelem = 1
add = 255, -155, -155
sinadd = -255, -255, -255, 180
time = 32
ignorehitpause = 1
invertall = 1

[State Freeze]
type = superpause
trigger1 = animelem = 1
time = ifelse(var(28) > 0, 32, 60)
pos = -12, -74
anim = S ifelse(var(28) > 0, 10061, 10060)
p2defmul = 1
darken = 0
sound = S ifelse(var(28) > 0, 0, 7), ifelse(var(28) > 0, 12, 3)

[State chargeyell]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 5
volume = 255
channel = 0

[State 0]
type = Varadd
trigger1 = animelem = 1
v = 28
value = 1

[State Shadows]
type = Afterimage
triggerall = animelem = 1 && var(29) = 0
trigger1 = var(46) >= 90 || var(28) >= 3
time = 100
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State grunt]
type = PlaySnd
trigger1 = time = 1
value = 2, 2
channel = 0

[State flamesnd]
type = PlaySnd
trigger1 = time = 1
value = 6, 9

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -3, -9

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -3, 3

[State FireB]
type = Explod
trigger1 = pos y < 5 && time >= 4
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 38, -74
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(51), (var(52))
scale = 0.2, 1.5
accel = 0.88, (var(51))/6

[State FireB]
type = Explod
trigger1 = pos y < 5 && time >= 4
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 38, -74
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(51), (var(52))
scale = 0.2, 1.5
accel = 0.88, (var(51))/6

[State 5]
type = explod
trigger1 = animelem = 4
anim = 10491
id = 100
pos = 67, -71
ontop = 1
persistent = 0
bindtime = -1
removetime = -1
shadow = 0, 50, 100
scale = 1.3, 1
removeongethit = 1

[State 5]
type = explod
trigger1 = animelem = 4
anim = 10800
id = 100
pos = 67, -71
ontop = 1
persistent = 0
bindtime = -1
removetime = -1
shadow = 0, 50, 100
scale = 1.3, 1
removeongethit = 1

[State 5]
type = explod
trigger1 = animelem = 4
anim = 12206
id = 112
pos = 67, -71
ontop = 1
persistent = 0
removetime = 22
shadow = 0, 50, 100
removeongethit = 1

[State 6]
type = ModifyExplod
trigger1 = 1
ID = 112
scale = 1 + (.02*time), 1 + (.02*time)

[State 3]
type = HitDef
trigger1 = time=3
attr = S, HA
damage = 60, 10
animtype = Hard
getpower = 0, 0
getpower = 0, 0
guardflag = MA
hitflag = MAFD
pausetime = 10, 13
guard.pausetime = 12, 12
sparkxy = -10, -60
sparkno = 3
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.Velocity = -10, -4
fall = 1
fall.recover = 0
fall.recovertime = 120
air.animtype = Back
air.Velocity = -10, -3
air.fall = 1
down.Velocity = -10
down.hittime = 30
down.bounce = 0
air.cornerpush.veloff = -10
forcestand = 1

[State fly]
type = Velset
trigger1 = animelem = 4
x = 10
y = -4

[State gravity]
type = Veladd
trigger1 = time > 0
y = 0.44

[State 0]
type = Varset
trigger1 = vel y > 0
trigger1 = pos y >= 5
v = 28
value = 0

[State 1]
type = NotHitBy
trigger1 = Time < 5
value = SCA
time = 1

[State 1]
type = HitBy
trigger1 = Time >= 5
value = SCA, AA, AT
time = 1

[State 9]
type = changestate
triggerall = var(28) < 3
trigger1 = var(46) < 90
trigger1 = movehit
value = 4021
ctrl = 0

[State 9]
type = changestate
triggerall = movehit
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 4023 
ctrl = 0

[State 9]
trigger1 = vel y > 0
trigger1 = pos y >= 5
type = ChangeState
value = 4044


;==============================================================================================
[Statedef 4021]
type = A
movetype = A
anim = 10492
velset = 0, 0
ctrl = 0
sprpriority = 2

[State 6]
type = ModifyExplod
trigger1 = 1
ID = 112
scale = 1 + (.02*time), 1 + (.02*time)

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = 15, 25

[State FireB]
type = Explod
trigger1 = time = [7, 27]
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 36, -76
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State FireB]
type = Explod
trigger1 = time = [13, 22]
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = 36, -76
random = 20, 60
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State 2]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State jerk back]
type = Posadd
trigger1 = time = 4
x = -9

[State jerk back]
type = Posadd
trigger1 = time > 4
x = -0.5

[State Removeburstknuckle]
type = RemoveExplod
trigger1 = 1
id = 100

[State grunt]
type = PlaySnd
trigger1 = animelem = 3
volume = 255
value = 0, 10
channel = 0

[State oddshrieboom]
type = PlaySnd
trigger1 = animelem = 3
value = 3, 4
volume = 255

[State 2]
type = Projectile
trigger1 = animelem = 3
projanim = 10500
projhitanim = 10502
projremanim = 10502
projhits = 9
projmisstime = 0
projshadow = 0, 0, 0
projpriority = 30
projremovetime = 30
projheightbound = -240, 100
projedgebound = 100
projscreenbound = 100
projid = 2000
Velocity = 0.001, 0.001
offset = 36, -68
attr = S, HP
damage = ceil(16 * fvar(10)), 4
animtype = Hard
getpower = 0, 0
guardflag = MA
hitflag = MAFP
pausetime = 0, 3
hitsound = S30, 1
sparkxy = 500, 500
guardsound = S20, 6
ground.type = Low
ground.slidetime = 25
ground.hittime = 25
ground.Velocity = -12, -6
guard.velocity = -3
fall = 1
fall.recover = 0
fall.recovertime = 120
air.animtype = Back
air.Velocity = -12, -6
air.fall = 1
down.Velocity = -10
down.hittime = 30
down.bounce = 0
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
p1sprpriority = 5

[State spark] 
type = explod
trigger1 = projcontact2000 = 1
anim = 10510
pos = 0, -50
postype = p2
sprpriority = 3
bindtime = 2

[State FireB]
type = Explod
trigger1 = ProjHit2000 = 1
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2500
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = ProjHit2000 = 1
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State Spark] 
type = Explod
trigger1 = timemod = 4, 3
trigger1 = Projhit2000 = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
ignorehitpause = 1
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State jerk back]
type = velset
trigger1 = time = 34
x = -5

[State 0]
type = Varset
trigger1 = time = 35
v = 28
value = 0

[State 9]
type = changestate
trigger1 = time = 35
value = 4022
ctrl = 0


;==============================================================================================
[Statedef 4023]
type = A
movetype = A
anim = 10492
velset = 0, 0
ctrl = 0
sprpriority = 2

[State 6]
type = ModifyExplod
trigger1 = 1
ID = 112
scale = 1 + (.02*time), 1 + (.02*time)

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = 15, 25

[State FireB]
type = Explod
trigger1 = time = [7, 27]
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 36, -76
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State FireB]
type = Explod
trigger1 = time = [13, 22]
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = 36, -76
random = 20, 60
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State FireB]
type = Explod
trigger1 = time = [44, 65]
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 36, -76
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State FireB]
type = Explod
trigger1 = time = [48, 61]
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = 36, -76
random = 20, 60
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State 2]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State jerk back]
type = Posadd
trigger1 = time = 4
x = -9

[State jerk back]
type = Posadd
trigger1 = time > 4
x = -0.5

[State Removeburstknuckle]
type = RemoveExplod
trigger1 = 1
id = 100

[State grunt]
type = PlaySnd
trigger1 = time = 0
volume = 255
value = 4, 7
channel = 0

[State grunt]
type = PlaySnd
trigger1 = time = 40
volume = 255
value = 0, 10
channel = 0

[State oddshrieboom]
type = PlaySnd
trigger1 = animelem = 3
value = 3, 4
volume = 255

[State 2]
type = Projectile
trigger1 = animelem = 3
projanim = 10500
projhitanim = 10502
projremanim = 10502
projhits = 10
projmisstime = 0
projshadow = 0, 0, 0
projpriority = 30
projremovetime = 30
projheightbound = -240, 100
projedgebound = 100
projscreenbound = 100
projid = 2000
Velocity = 0.001, 0.001
offset = 36, -68
attr = S, HP
damage = ceil(11 * fvar(10)), 3
animtype = Hard
getpower = 0, 0
guardflag = MA
hitflag = MAFP
pausetime = 0, 3
hitsound = S30, 1
sparkxy = 500, 500
guardsound = S20, 6
ground.type = Low
ground.slidetime = 25
ground.hittime = 25
ground.Velocity = -12, -6
fall = 1
fall.recover = 0
fall.recovertime = 120
air.animtype = Back
air.Velocity = -12, -6
air.fall = 1
down.Velocity = -10
down.hittime = 30
down.bounce = 0
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
p1sprpriority = 5

[State spark] 
type = explod
trigger1 = projcontact2000 = 1
anim = 10510
pos = 0, -50
postype = p2
sprpriority = 3
bindtime = 2

[State FireB]
type = Explod
trigger1 = ProjHit2000 = 1
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2500
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = ProjHit2000 = 1
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State Spark] 
type = Explod
trigger1 = timemod = 4, 3
trigger1 = Projhit2000 = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
ignorehitpause = 1
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State jerk back]
type = velset
trigger1 = time = 69
x = -5

[State 0]
type = Varset
trigger1 = time = 35
v = 28
value = 0

[State 9]
type = changeanim
trigger1 = time = 35
value = 10492
ctrl = 0

[State 9]
type = changestate
trigger1 = time = 70
value = 4022
ctrl = 0


;==============================================================================================
[Statedef 4022]
type = A
physics = A
movetype = A
anim = 46
velset = 0, 0
ctrl = 0
sprpriority = 2

[State jerk back]
type = velset
trigger1 = time = 0
x = -7

[State 1]
type = AfterImageTime
trigger1 = time = 0
time = 10

[State 9]
type = changeanim
trigger1 = time = 0
value = 46
ctrl = 0


;==============================================================================================
[Statedef 4030]
type = A
movetype = A
physics = N
poweradd = (Var(10)=0) * -1000
juggle = 0
ctrl = 0
anim = 10504
velset = 0, 0
sprpriority = 0
facep2 = 0

[State Pos Fix]
type = posset
trigger1 = time = 0
trigger1 = pos y > 0
y = 0

[State Randomizer1]
type = varrandom
trigger1 = 1
v = 51
range = -3, 3

[State Randomizer2]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State FireB]
type = Explod
trigger1 = time = [6, 12]
trigger2 = time = [43, 51]
trigger2 = var(46) >= 90 || var(28) >= 3
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 45, -77
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(51)), 0

[State FireB]
type = Explod
trigger1 = time = [6, 12]
trigger2 = time = [43, 51]
trigger2 = var(46) >= 90 || var(28) >= 3
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 45, -77
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -1/3*(var(52)), 0

[State Randomizer]
type = varrandom
trigger1 = 1
v = 35
range = -5, 5

[State Randomizer3]
type = varrandom
trigger1 = 1
v = 36
range = 4, 10

[State FireB]
type = Explod
trigger1 = time = [6, 12]
trigger2 = time = [43, 51]
trigger2 = var(46) >= 90 || var(28) >= 3
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 45, -77
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(36), (var(35))
scale = 0.2, 1.5
accel = -1/3*(var(35)), 0

[State FireB]
type = Explod
trigger1 = time = [6, 12]
trigger2 = time = [43, 51]
trigger2 = var(46) >= 90 || var(28) >= 3
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 45, -77
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(36), (var(35))
scale = 0.2, 1.5
accel = -1/3*(var(36)), 0

[State Randomizer4]
type = varrandom
trigger1 = 1
v = 37
range = -10, 10

[State Randomizer5]
type = varrandom
trigger1 = 1
v = 38
range = 4, 10

[State FireB]
type = Explod
trigger1 = time = [6, 12]
trigger2 = time = [43, 51]
trigger2 = var(46) >= 90 || var(28) >= 3
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 45, -77
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(38), (var(37))
scale = 0.2, 1.5
accel = -1/3*(var(37)), 0

[State FireB]
type = Explod
trigger1 = time = [6, 12]
trigger2 = time = [43, 51]
trigger2 = var(46) >= 90 || var(28) >= 3
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 45, -77
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(38), (var(37))
scale = 0.2, 1.5
accel = -1/3*(var(37)), 0

[State 6a]
type = posfreeze
trigger1 = time = [0, 12]
value = 1

[State 6a]
type = velset
triggerall = time = [12, 50]
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
x = -2
y = -1

[State Randomizer6]
type = varrandom
trigger1 = time = 0
v = 46
range = 0, 100

[State jerk back]
type = Posadd
trigger1 = time = 8
x = -9

[State fly]
type = Veladd
trigger1 = animelem = 4
trigger1 = var(46) < 90
trigger1 = var(28) < 3
x = -9
y = -4

[State 6a]
type = velset
triggerall = time = 50
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
x = -9
y = -4

[State NHB]
type = NotHitBy
trigger1 = Time < 8
trigger2 = var(46) >= 90 || var(28) >= 3
trigger2 = Time < 9
value = SCA
time = 1

[State Shadows]
type = Afterimage
trigger1 = time = 0 && var(29) = 0
time = 100
length = 21
PalBright = 0, 0, 0
PalContrast = 148, 148, 148
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State Shadows]
type = Afterimage
triggerall = time = 0 && var(29) = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
time = 100
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State red fadeout]
type = BGPalFx
triggerall = var(28) = 0
trigger1 = animelem = 1
add = 100, 100, 100
mul = 200, 200, 300
sinadd = 100, 100, 100, 540
time = 50
ignorehitpause = 1
invertall = 1

[State red fadein]
type = BGPalFx
triggerall = var(28) = 1
trigger1 = animelem = 1
add = 100, 100, 150
sinadd = 305, -255, -355, 180
time = 32
invertall = 1
ignorehitpause = 1

[State white fadein]
type = BGPalFx
triggerall = var(28) > 1
trigger1 = animelem = 1
add = 255, -155, -155
sinadd = -255, -255, -255, 180
time = 32
ignorehitpause = 1
invertall = 1

[State Freeze]
type = superpause
trigger1 = animelem = 1
anim = S ifelse(var(28) > 0, 10061, 10060)
time = ifelse(var(28) > 0, 32, 50)
pos = -12, -72
p2defmul = 1
darken = 0
sound = S ifelse(var(28) > 0, 0, 7), ifelse(var(28) > 0, 12, 3)

[State gravity]
type = Veladd
trigger1 = time > 12
y = 0.44

[State chiargesound]
type = PlaySnd
trigger1 = animelem = 1
value = 2, 2
channel = 0

[State 0]
type = Varadd
trigger1 = time = 0
v = 28
value = 1

[State 0]
type = posadd
triggerall = var(28) < 3
trigger1 = var(46) < 90
trigger1 = time = 29
x = 10
y = 8

[State Shadows]
type = Afterimage
triggerall = time = 0 && var(29) = 0
trigger1 = var(46) >= 90 || var(28) >= 3
time = 100
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State chiargesound]
type = PlaySnd
triggerall = time = 13
trigger1 = var(46) >= 90 || var(28) >= 3
value = 3, 1
volume = 255
freqmul = 1.5

[State chiargesound]
type = PlaySnd
triggerall = time = 13
trigger1 = var(46) >= 90 || var(28) >= 3
value = 3, 1
volume = 255
freqmul = 1.2

[State chiargesound]
type = PlaySnd
triggerall = time = 43
trigger1 = var(46) >= 90 || var(28) >= 3
value = 3, 2
volume = 255
freqmul = 1.5

[State chiargesound]
type = PlaySnd
triggerall = time = 43
trigger1 = var(46) >= 90 || var(28) >= 3
value = 3, 2
volume = 255
freqmul = 1.2

[State HadokenVoice]
type = PlaySnd
trigger1 = time = 3
value = 4, 3
channel = 0
volume = 0

[State hadouken hit helper]
type = Helper
triggerall = var(28) < 3
trigger1 = var(46) < 90
trigger1 = time = 7
helpertype = normal
name = "hadouken"
id = 8
pos = 45, -67
postype = p1
stateno =1034
ownpal = 1
size.xscale = 1
size.yscale = 1

[State FireB]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(8)
trigger1 = helper(8), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(8)
trigger1 = helper(8), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State Randomizer5]
type = Changeanim
triggerall = time = 16
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 10505

[State hadouken hit helper]
type = Helper
triggerall = time = 7
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
helpertype = normal
name = "hadouken"
id = 8
pos = 45, -67
postype = p1
stateno =1035
ownpal = 1
size.xscale = 1
size.yscale = 1

[State hadouken hit helper]
type = Helper
triggerall = var(28) < 3
trigger1 = var(46) < 90
trigger1 = time = 3
helpertype = normal
name = "hadouken"
id = 1
pos = 45, -67
postype = p1
stateno =1031
ownpal = 1
size.xscale = 1
size.yscale = 1

[State hadouken hit helper]
type = Helper
triggerall = time = 3
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
helpertype = normal
name = "hadouken"
id = 1
pos = 45, -67
postype = p1
stateno =1036
ownpal = 1
size.xscale = 1
size.yscale = 1

[State hadouken hit helper]
type = Helper
triggerall = time = 43
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
helpertype = normal
name = "hadouken"
id = 1
pos = 45, -67
postype = p1
stateno =1034
ownpal = 1
size.xscale = 1.2
size.yscale = 1.2

[State hadouken hit helper]
type = Helper
triggerall = time = 43
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
helpertype = normal
name = "hadouken"
id = 1
pos = 45, -67
postype = p1
stateno =1031
ownpal = 1
size.xscale = 1.2
size.yscale = 1.2

[State HadokenWhiff]
type = playsnd
trigger1 = time = 3
value = 3, 2
volume = 250
freqmul = 1.5

[State HadokenWhiff]
type = playsnd
trigger1 = time = 3
value = 2, 7
volume = 250
freqmul = 1.5

[State HadokenWhiff]
type = playsnd
trigger1 = time = 3
value = 4, 7
channel = 0

[State HadokenWhiff]
type = playsnd
trigger1 = time = 3
value = 0, 7
volume = 50

[State 9]
type = ChangeAnim
triggerall = var(28) < 3
trigger1 = var(46) < 90
trigger1 = time = 25
value = 10503
ctrl = 0

[State 9]
type = ChangeAnim
triggerall = time = 60
trigger1 = var(28) >= 3
trigger2 = var(46) >= 90
value = 10503
ctrl = 0

[State 0]
type = Varset
triggerall = time >= 12
trigger1 = vel y > 0
trigger1 = pos y >= 2
v = 28
value = 0

[State 1]
type = AfterImageTime
triggerall = time >= 12
trigger1 = pos y >= 2
time = 0

[State 9]
triggerall = time >= 12
trigger1 = vel y > 0
trigger1 = pos y >= 2
type = posadd
x = -10

[State 9]
triggerall = time >= 12
trigger1 = pos y >= 2
trigger1 = vel y > 0
type = ChangeState
value = 1874
ctrl = 0


;==============================================================================================
[Statedef 4040]
type = A
movetype = A
anim = 10493
physics = S
poweradd = (Var(10)=0) * -1000
velset = 0, 0
ctrl = 0
facep2 = 1

[State Pos Fix]
type = posset
trigger1 = time = 0
trigger1 = pos y > 0
y = 0

[State w1]
type = width
trigger1 = animelemtime(2) >= 0
value = 50

[State Randomizer]
type = varrandom
trigger1 = time = 0
v = 46
range = 0, 100

[State 1]
type = NotHitBy
trigger1 = animelemtime(1) <= 0
trigger2 = Prevstateno != [3960, 3991]
value = SCA
time = 1

[State Shadows]
type = Afterimage
trigger1 = time = 0 && var(29) = 0
time = 70
length = 21
PalBright = 0, 0, 0
PalContrast = 148, 148, 148
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State Shadows]
type = Afterimage
triggerall = time = 0 && var(29) = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
time = 70
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State red fadeout]
type = BGPalFx
triggerall = var(28) = 0
trigger1 = animelem = 1
add = 100, 100, 100
mul = 200, 200, 300
sinadd = 100, 100, 100, 360
time = 60
ignorehitpause = 1
invertall = 1

[State red fadein]
type = BGPalFx
triggerall = var(28) = 1
trigger1 = animelem = 1
add = 100, 100, 150
sinadd = 305, -255, -355, 180
time = 32
invertall = 1
ignorehitpause = 1

[State white fadein]
type = BGPalFx
triggerall = var(28) > 1
trigger1 = animelem = 1
add = 255, -155, -155
sinadd = -255, -255, -255, 180
time = 32
ignorehitpause = 1
invertall = 1

[State Freeze]
type = superpause
trigger1 = animelem = 1
time = ifelse(var(28) > 0, 32, 60)
pos = -7, -76
anim = S ifelse(var(28) > 0, 10061, 10060)
p2defmul = 1
darken = 0
sound = S ifelse(var(28) > 0, 0, 7), ifelse(var(28) > 0, 12, 3)

[State Wind effect] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 9402
scale = 0.7, 0.7
pos = 0, 3
sprpriority = -4
postype = p1
supermovetime = -1
bindtime = 18
ownpal = 1
pausemovetime = 9999

[State Wind effect] 
type = Explod
trigger1 = animelem = 1, =6
anim = 10601
pos = 0, 5
sprpriority = 4
postype = p1
supermovetime = -1
ownpal = 1
pausemovetime = 9999

[State chargeyell]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 5
volume = 255
channel = 0

[State 0]
type = Varadd
trigger1 = animelem = 1
v = 28
value = 1

[State Shadows]
type = Afterimage
triggerall = animelem = 1 && var(29) = 0
trigger1 = var(46) >= 90 || var(28) >= 3
time = 100
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State grunt]
type = PlaySnd
trigger1 = time = 1
value = 2, 2
channel = 0

[State flamesnd]
type = PlaySnd
trigger1 = time = 1
value = 6, 9

[State 9]
type = changestate
trigger1 = animelem = 3
value = 4043


;==============================================================================================
[Statedef 4043]
type = A
movetype = A
physics = N
ctrl = 0
sprpriority = -5

[State 2]
type = PlayerPush
trigger1 = Time >= 3
value = 0
ignorehitpause = 1

[State 1]
type = HitBy
trigger1 = 1
value = SCA, AA, AT
time = 1

[State 1]
type = NotHitBy
trigger1 = !time
value = SCA
time = 1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = -3, -9

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -3, 3

[State FireB]
type = Explod
trigger1 = pos y < 5
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 38, -74
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(51), (var(52))
scale = 0.2, 1.5
accel = 0.88, (var(51))/6

[State FireB]
type = Explod
trigger1 = pos y < 5
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = 38, -74
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(51), (var(52))
scale = 0.2, 1.5
accel = 0.88, (var(51))/6

[State jerk back]
type = Posadd
trigger1 = animelem = 3
x = 25

[State 5]
type = explod
trigger1 = animelem = 3
anim = 10491
id = 100
pos = 67, -71
ontop = 1
persistent = 0
bindtime = -1
removetime = -1
shadow = 0, 0, 0
scale = 1.3, 1
removeongethit = 1

[State 5]
type = explod
trigger1 = animelem = 3
anim = 12206
id = 112
pos = 67, -71
ontop = 1
persistent = 0
removetime = 22
shadow = 0, 0, 0
removeongethit = 1

[State 6]
type = ModifyExplod
trigger1 = 1
ID = 112
scale = 1 + (.02*time), 1 + (.02*time)

[State 5]
type = explod
trigger1 = animelem = 3
anim = 12207
pos = 67, -71
removetime = 28
ontop = 1
persistent = 0
shadow = 0, 0, 0
removeongethit = 1

[State 5]
type = explod
trigger1 = animelem = 3
anim = 10800
id = 100
pos = 67, -71
ontop = 1
persistent = 0
bindtime = -1
removetime = -1
shadow = 0, 0, 0
scale = 1.3, 1
removeong1thit = 1

[State 9]
type = changestate
triggerall = var(28) < 3
trigger1 = var(46) < 90
trigger1 = movehit
value = 4041
ctrl = 0

[State 9]
type = changestate
triggerall = pos y >= 0
triggerall = vel Y >= 0 && time > 10
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 4041
ctrl = 0

[State 3]
type = HitDef
trigger1 = !time
trigger1 = var(28) < 3
trigger1 = var(46) < 90
attr = S, HP
damage = 60, 10
animtype = Hard
getpower = 0, 0
guardflag = MA
hitflag = MAFP
pausetime = 10, 13
sparkxy = -10, -60
sparkno = 3
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.Velocity = -10, -4
fall = 1
fall.recover = 0
fall.recovertime = 120
air.animtype = Back
air.Velocity = -10, -3
air.fall = 1
down.Velocity = -10
down.hittime = 30
down.bounce = 0
p1sprpriority = 5

[State SuperLight] 
type = Explod
triggerall = movehit
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
persistent = 0
ignorehitpause = 1
anim = 13036
pos = 42, -50
sprpriority = 3
supermovetime = -1
ownpal = 1
scale = 0.5, 0.5

[State Button Mashing! suck in]
type = HitDef
triggerall = TimeMod = 2, 1
triggerall = var(46) >= 90 || var(28) >= 3
trigger1 = Hitcount < 20
trigger2 = AILevel && p2life > 0
trigger2 = random < (1000 * (AIlevel ** 2 / 64.0))
attr = A, HP
damage = ifelse(movecontact, 16, 60), ifelse(movecontact, 4, 10)
animtype = Hard
getpower = 0, 0
guardflag = MA
hitflag = MAFP
pausetime = 10, 10
sparkxy = -10, -60
sparkno = 3
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.Velocity = -10, -4
fall = 1
fall.recover = 0
fall.recovertime = 120
air.animtype = Back
air.Velocity = -10, -3
air.fall = 1
down.Velocity = -10
down.hittime = 30
down.bounce = 0
p1sprpriority = 5

[State Button Mashing! suck in]
type = HitDef
triggerall = var(46) >= 90 || var(28) >= 3
triggerall = Hitcount < 20
trigger1 = command = "a"
trigger2 = command = "b"
trigger3 = command = "c"
trigger4 = AILevel && p2life > 0 && timemod = 2, 1
trigger4 = random < (1000 * (AIlevel ** 2 / 64.0))
attr = A, HP
damage = ifelse(movecontact, 16, 60), ifelse(movecontact, 4, 10)
animtype = Hard
getpower = 0, 0
guardflag = MA
hitflag = MAFP
pausetime = 10, 10
sparkxy = -10, -60
sparkno = 3
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.Velocity = -10, -4
fall = 1
fall.recover = 0
fall.recovertime = 120
air.animtype = Back
air.Velocity = -10, -3
air.fall = 1
down.Velocity = -10
down.hittime = 30
down.bounce = 0
p1sprpriority = 5

[State fly]
type = Velset
trigger1 = animelem = 3
x = 12
y = -1

[State air resistance]
type = Veladd
trigger1 = time > 7
x = -0.23
y = 0.44

[State 0]
type = Varset
trigger1 = vel y > 0
trigger1 = pos y >= 0
v = 28
value = 0

[State 9]
trigger1 = vel y > 0
trigger1 = pos y >= 0
type = ChangeState
value = 4044


;==============================================================================================
[Statedef 4044]
type = S
movetype = I
physics = C
anim = 107
velset = 9, 0

[State 3]
type = Posadd
trigger1 = time = 0
x = -5

[State 3]
type = PosSet
trigger1 = time = 0
y = 0

[State 1]
type = AfterImageTime
trigger1 = time = 0
time = 0

[State 52, Land SOund]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 4041]
type = A
movetype = A
anim = 10492
velset = 0, 0
ctrl = 0
sprpriority = 2

[State 2]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = 15, 25

[State FireB]
type = Explod
trigger1 = time = [7, 27]
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 36, -76
random = 20, 20
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State FireB]
type = Explod
trigger1 = time = [13, 22]
persistent = 1
anim = 12214
id = 12214
postype = p1
pos = 36, -76
random = 20, 60
sprpriority = 5
ownpal = 1
vel = var(51), 0

[State jerk back]
type = Posadd
trigger1 = time = 4
x = -9

[State jerk back]
type = Posadd
trigger1 = time > 4
x = -0.5

[State Removeburstknuckle]
type = RemoveExplod
trigger1 = 1
id = 100

[State grunt]
type = PlaySnd
trigger1 = animelem = 3
volume = 255
value = 0, 10
channel = 0

[State oddshrieboom]
type = PlaySnd
trigger1 = animelem = 3
value = 3, 4
volume = 255

[State 2]
type = Projectile
trigger1 = animelem = 3
projanim = 10500
projhitanim = 10502
projremanim = 10502
projhits = 9
projmisstime = 0
projshadow = 0, 0, 0
projpriority = 30
projremovetime = 30
projheightbound = -240, 100
projedgebound = 100
projscreenbound = 100
projid = 2000
Velocity = 0.001, 0.001
offset = 36, -68
attr = A, HP
damage = ceil(16 * fvar(10)), 4
animtype = Hard
getpower = 0, 0
guardflag = MA
hitflag = MAFP
pausetime = 0, 3
hitsound = S30, 1
sparkxy = 500, 500
guardsound = S20, 6
ground.type = Low
ground.slidetime = 25
ground.hittime = 25
ground.Velocity = -12, -6
fall = 1
fall.recover = 0
fall.recovertime = 120
air.animtype = Back
air.Velocity = -12, -6
air.fall = 1
down.Velocity = -10
down.hittime = 30
down.bounce = 0
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
p1sprpriority = 5

[State spark] 
type = explod
trigger1 = projcontact2000 = 1
anim = 10510
pos = 0, -50
postype = p2
sprpriority = 3
bindtime = 2

[State FireB]
type = Explod
trigger1 = ProjHit2000 = 1
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2500
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = ProjHit2000 = 1
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State Spark] 
type = Explod
trigger1 = timemod = 4, 3
trigger1 = Projhit2000 = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
ignorehitpause = 1
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State jerk back]
type = velset
trigger1 = time = 34
x = -5

[State 0]
type = Varset
trigger1 = time = 35
v = 28
value = 0

[State 9]
type = changestate
trigger1 = time = 35
value = 4042
ctrl = 0


;==============================================================================================
[Statedef 4045]
type = A
movetype = A
anim = 10496
velset = 0, 0
ctrl = 0
sprpriority = -5

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA, NP, SP
time = 1

[State Removeburstknuckle]
type = RemoveExplod
trigger1 = time = 0
id = 100

[State Afterimage hit helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Look! A fist!"
id = 12202
pos = 58, -71
postype = p1
stateno = 12202
ownpal = 1
pausemovetime = 0

[State 5]
type = explod
trigger1 = time = 0
anim = 10800
id = 100
pos = 57, -71
sprpriority = -1
persistent = 0
bindtime = -1
removetime = -1
shadow = 0, 0, 0
scale = 1.3, 1
removeongethit = 1

[State grunt]
type = sprpriority
trigger1 = movehit
value = -3

[State spark] 
type = explod
trigger1 = projcontact2000 = 1
anim = 10510
pos = 0, -50
postype = p2
sprpriority = 3
bindtime = 2

[State 3]
type = HitDef
trigger1 = timemod = 20, 10
attr = S, HP
damage = 50, 10
animtype = Light
getpower = 0, 0
guardflag = MA
hitflag = MAFP
pausetime = 0, 18
sparkxy = -10, -60
guard.sparkno = 40; S9200
hitsound = S2, 8
guardsound = S0, 100
ground.type = Low
ground.slidetime = 25
ground.hittime = 20
ground.Velocity = 0, 0
air.hittime = 30
fall.recover = 0
fall.recovertime = 120
air.animtype = low
air.Velocity = 0, 0
air.fall = 1
down.Velocity = -10
down.hittime = 30
down.bounce = 0
yaccel = 0
sprpriority = -3
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
kill = 0
p1sprpriority = 5

[State FireB]
type = Explod
trigger1 = timemod = 20, 10
anim = 12208
id = 2500
postype = p2
pos = -10, -50
bindtime = -1
sprpriority = 3
ownpal = 1

[State FireB]
type = Explod
trigger1 = timemod = 20, 10
anim = 2500
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 3
ownpal = 1

[State FireA]
type = Explod
trigger1 = timemod = 20, 10
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State Spark] 
type = Explod
trigger1 = timemod = 20, 10
anim = ifelse(random>500, 10421, 10420)
pos = 0, -50
persistent = 1
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State 0]
type = Varset
trigger1 = time = 35
v = 28
value = 0

[State 9]
type = changestate
trigger1 = time = 100
value = 4041
ctrl = 0


;==============================================================================================
[Statedef 12202]
type = A
movetype = A
anim = 12204
velset = 0, 0
ctrl = 0
sprpriority = 5

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA, NP, SP
time = 1

[State red build]
type = PalFx
trigger1 = time = 0
trigger2 = timemod = 21, 20
add = 0, 0, 0
sinadd = 512, 62, -400, 100
time = 20
ignorehitpause = 1

[State destroy]
type = destroyself
trigger1 = time >= 100


;==============================================================================================
[Statedef 4042]
type = A
physics = N
movetype = A
anim = 46
velset = 0, 0
ctrl = 0
sprpriority = 2

[State jerk back]
type = velset
trigger1 = time = 0
x = -7

[State gravity]
type = veladd
trigger1 = 1
y = 0.44

[State 9]
type = changeAnim
trigger1 = time = 0
value = 105
ctrl = 0

[State 9]
trigger1 = vel y > 0
trigger1 = pos y >= 0
type = ChangeState
value = 107


;==============================================================================================
[Statedef 4050]
type = A
movetype = A
anim = 4050
physics = N
poweradd = (Var(10)=0) * -1000
velset = 0, 0
ctrl = 0
sprpriority = 2
facep2 = 0

[State Pos Fix]
type = posset
trigger1 = time = 0
trigger1 = pos y > 0
y = 0

[State 0]
type = Varset
trigger1 = time = 0
v = 21
value = 1

[State Randomizer]
type = varrandom
trigger1 = time = 0
v = 46
range = 0, 100

[State NHB]
type = NotHitBy
trigger1 = animelemtime(1) <= 0
trigger2 = Prevstateno != [3960, 3991]
trigger2 = animelemtime(3) < -1
value = SCA
time = 1

[State 2]
type = PlayerPush
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 0
ignorehitpause = 1

[State 0]
type = NotHitBy
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = SCA, NP, SP
time = 1

[State Shadows]
type = Afterimage
trigger1 = time = 0 && var(29) = 0
time = 90
length = 21
PalBright = 0, 0, 0
PalContrast = 148, 148, 148
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State hadouken hit helper]
type = Helper
triggerall = animelemtime(3) >= 0 && numhelper(14) < 3
trigger1 = var(46) < 90
trigger1 = var(28) < 3
helpertype = normal
name = "leg fire"
id = 14
pos = 0, 0
postype = p1
stateno =1061
ownpal = 1

[State Shoryuken]
type = PlaySnd
trigger1 = var(46) < 90
trigger1 = var(28) < 3
trigger1 = animelem = 3
value = 6, 9
volume = 255

[State FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
trigger1 = var(46) < 90
trigger1 = var(28) < 3
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
trigger1 = var(46) < 90
trigger1 = var(28) < 3
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State Shadows]
type = Afterimage
triggerall = time = 0 && var(29) = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
time = 70
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State Shadows]
type = Afterimage
trigger1 = pos y = -1
time = 1
length = 21
PalBright = 0, 0, 0
PalContrast = 148, 148, 148
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State red fadeout]
type = BGPalFx
triggerall = var(28) = 0
trigger1 = animelem = 1
add = 100, 100, 100
mul = 200, 200, 300
sinadd = 100, 100, 100, 360
time = 60
ignorehitpause = 1
invertall = 1

[State red fadein]
type = BGPalFx
triggerall = var(28) = 1
trigger1 = animelem = 1
add = 100, 100, 150
sinadd = 305, -255, -355, 180
time = 32
invertall = 1
ignorehitpause = 1

[State white fadein]
type = BGPalFx
triggerall = var(28) > 1
trigger1 = animelem = 1
add = 255, -155, -155
sinadd = -255, -255, -255, 180
time = 32
ignorehitpause = 1
invertall = 1

[State Freeze]
type = superpause
trigger1 = animelem = 1
movetime = 9
time = ifelse(var(28) > 0, 32, 60)
pos = 24, -64
anim = S ifelse(var(28) > 0, 10061, 10060)
p2defmul = 1
darken = 0
sound = S ifelse(var(28) > 0, 0, 7), ifelse(var(28) > 0, 12, 3)

[State chargeyell]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 5
volume = 255
channel = 0

[State 0]
type = Varadd
trigger1 = animelem = 1
v = 28
value = 1

[State Shadows]
type = Afterimage
triggerall = animelem = 1 && var(29) = 0
trigger1 = var(46) >= 90 || var(28) >= 3
time = 500
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State grunt]
type = PlaySnd
trigger1 = time = 1
value = 2, 2
channel = 0

[State TATSUMAKI]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 10
channel = 0
volume = 255

[State wind sound]
type = playsnd
trigger1 = animelem = 3
value = 0, 4

[State 6]
type = Velmul
trigger1 = time = [0, 10]
x = 0.83
y = 0.83

[State 6]
type = Velset
triggerall = animelem = 3
trigger1 = var(46) < 90
trigger1 = var(28) < 3
x = 6
y = 9

[State 6]
type = Velset
triggerall = animelem = 3
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
x = 9
y = 12

[State 6]
type = VelAdd
trigger1 = Time >= 10
y = 0.30

[State 7]
type = HitDef
triggerall = animelem = 3
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
attr = A, HA
damage = 60, 8
animtype = Hard
getpower = 0, 0
givepower = 20
priority = 5, Hit
hitflag = MAFD
guardflag = HA
pausetime = 10, 21
sparkxy = -10, -15
sparkno = 3
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
air.type = Trip
air.hittime = 50
ground.slidetime = 40
ground.hittime = 50
ground.velocity = -2
air.velocity = -3, 0
air.fall = 1
fall.recover = 0
fall.recovertime = 120
kill = 0
forcestand = 1

[State 7]
type = HitDef
triggerall = timemod = 2, 1
trigger1 = var(46) < 90
trigger1 = var(28) < 3
attr = A, HA
damage = 30, 5
animtype = Hard
getpower = 0, 0
givepower = 20
priority = 5, Hit
hitflag = MAFD
guardflag = HA
pausetime = 10, 10
sparkxy = -10, -15
sparkno = 3
guard.sparkno = 40; S9200
hitsound = S6, 4
guardsound = S0, 100
ground.type = High
air.type = Trip
air.hittime = 0
ground.slidetime = 30
ground.hittime = 30
ground.velocity = -2
air.velocity = -2, 0
air.fall = 1
fall.recover = 0
fall.recovertime = 120
palfx.time = 30
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
forcestand = 1

[State 1]
type = AfterImageTime
trigger1 = pos y >= 0
time = 0

[State Afterimage hit helper]
type = Helper
triggerall = movecontact
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
persistent = 0
helpertype = normal
name = "satsui no hado"
id = 301
postype = p1
stateno = 4056
ownpal = 1
pausemovetime = 9999

[State 0]
type = Varset
triggerall = movecontact = 0
trigger1 = pos y >= 5
v = 28
value = 0

[State 8]
type = ChangeState
triggerall = movecontact = 0
trigger1 = time >= 5
trigger1 = pos y >= 5
value = 1874

[State 8]
type = ChangeState
triggerall = movecontact
trigger1 = var(46) < 90
trigger1 = var(28) < 3
trigger1 = time >= 10
trigger1 = pos y >= 5
value = 4052

[State 8]
type = ChangeState
triggerall = movecontact
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 4054


;==============================================================================================
[Statedef 4052]
type = S
physics = S
movetype = A
anim = 13009
velset = vel x, 0
ctrl = 0
sprpriority = 2

[State Shadows]
type = Afterimage
trigger1 = time = 0 && var(29) = 0
time = 80
length = 21
PalBright = 0, 0, 0
PalContrast = 148, 148, 148
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State 8]
type = posset
trigger1 = time = 0
y = 0

[State 52, Land SOund]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State wind sound]
type = playsnd
trigger1 = animelem = 6 || animelem = 14
value = 0, 4

[State 7]
type = HitDef
trigger1 = animelem = 7
attr = A, HA
damage = 30, 5
animtype = Medium
getpower = 0, 0
givepower = 20
priority = 5, Hit
hitflag = HAF
guardflag = MA
pausetime = 3, 3
sparkxy = 5, -50
sparkno = 3
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = Low
air.type = Low
ground.slidetime = 30
ground.hittime = 30
ground.velocity = -2
air.velocity = -2, -4
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State 8]
type = ChangeState
trigger1 = animelem = 15
value = 4053


;==============================================================================================
[Statedef 4053]
type = A
movetype = A
velset = 7, -11
sprpriority = 2

[State 0]
type = NotHitBy
trigger1 = time <= 20
value = SCA, NP, SP
time = 1

[State 2]
type = VelMul
trigger1 = 1
x = 0.90

[State 3]
type = VelAdd
trigger1 = 1
y = 0.46

[State wind sound]
type = playsnd
trigger1 = animelem = 14
value = 0, 4

[State 4]
type = HitDef
trigger1 = animelem = 15
attr = S, HA
damage = 30, 5
animtype = Diagup
getpower = 0, 0
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = MA
pausetime = 12, 12
sparkxy = -10, -80
sparkno = 3
guard.sparkno = 40; S9200
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -7, -12
air.velocity = -7, -12
fall = 1
fall.recover = 0
fall.recovertime = 120
forcestand = 1

[State 7]
type = ChangeAnim
trigger1 = vel y > -1
value = 1510
persistent = 0

[State 8]
type = velset
trigger1 = anim = 1510
x = 0
persistent = 0

[State 0]
type = Varset
trigger1 = vel y > 0
trigger1 = pos y >= 0
v = 28
value = 0

[State 9]
trigger1 = vel y > 0
trigger1 = pos y >= 0
type = ChangeState
value = 1521

[State Idle]
type = statetypeset
trigger1 = anim = 1510
movetype = I


;==============================================================================================
[Statedef 4054]
type = A
movetype = I
physics = N
anim = 13031
ctrl = 0
sprpriority = 2

[State 2]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 1]
type = screenbound
trigger1 = 1
value = 0
movecamera = 1, 0

[State 1]
type = assertspecial
trigger1 = 1
flag= noBG
flag2= noFG
ignorehitpause = 1

[State 6]
type = VelAdd
trigger1 = 1
y = 0.60

[State 6]
type = Velset
trigger1 = time = 0
x = 9
y = -8

[State 8]
type = turn
trigger1 = animelem = 6
persistent = 0

[State 8]
type = ChangeState
triggerall = time > 8
trigger1 = p2bodydist x >= 40
trigger2 = time > 25
value = 4055


;==============================================================================================
[Statedef 4056]
type = A
movetype = A
anim = 4055
physics = N
velset = 0, 0
ctrl = 0
sprpriority = 2

[State Trans]
type = trans
trigger1 = !movecontact
trans = addalpha
alpha = 256, 128
ignorehitpause = 1

[State Trans]
type = trans
trigger1 = movecontact
trans = addalpha
alpha = 256 - (16 * movecontact), 128
ignorehitpause = 1

[State 2]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State appear sound]
type = playsnd
trigger1 = time = 10
value = 4, 5

[State 0]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1

[State HitOverride]
type = HitOverride
trigger1 = 1
slot = 1
time = -1
stateno = 1022
attr = SCA, AA, AP, AT
ignorehitpause = 1

[State wind sound]
type = playsnd
trigger1 = animelem = 3
value = 0, 4

[State 6]
type = Velmul
trigger1 = time = [0, 10]
x = 0.83
y = 0.83

[State 6]
type = Velset
trigger1 = animelem = 3
x = 9
y = 12

[State 6]
type = VelAdd
trigger1 = Time >= 10
y = 0.30

[State 7]
type = HitDef
triggerall = var(21) < 4
trigger1 = animelem = 3
attr = A, HA
damage = ceil(24 * root, fvar(10)), 6
animtype = Hard
getpower = 0, 0
givepower = 20
priority = 5, Hit
hitflag = MAFD
guardflag = MA
pausetime = 0, 41
sparkxy = -10, -15
sparkno = 3
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
air.type = Trip
air.hittime = 50
ground.slidetime = 40
ground.hittime = 50
ground.velocity = -2
air.velocity = -2, 0
air.fall = 1
fall.recover = 0
fall.recovertime = 120
kill = 0
forcestand = 1

[State 7]
type = HitDef
triggerall = var(21) >= 4
trigger1 = animelem = 3
attr = A, HA
damage = ceil(24 * root, fvar(10)), 6
animtype = Hard
getpower = 0, 0
givepower = 20
priority = 5, Hit
hitflag = MAFD
guardflag = MA
pausetime = 30, 41
sparkxy = -10, -15
sparkno = 3
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
air.type = Trip
air.hittime = 50
ground.slidetime = 40
ground.hittime = 50
ground.velocity = -2
air.velocity = -2, 0
air.fall = 1
fall.recover = 0
fall.recovertime = 120
envshake = 1
envshake.time = 30
envshake.freq = 100
envshake.ampl = -6
envshake.phase = 1
kill = 0
forcestand = 1

[State 0]
type = Varset
triggerall = movecontact = 0
trigger1 = pos y >= 5
v = 28
value = 0

[State 0]
type = Varadd
trigger1 = time = 0
v = 21
value = 1

[State 8]
type = destroyself
trigger1 = pos y >= 100
trigger2 = root, movetype = H
trigger3 = root, stateno != [4054, 4055]
trigger4 = movecontact >= 16


;==============================================================================================
[Statedef 4055]
type = A
movetype = A
anim = 4055
physics = N
velset = 0, 0
ctrl = 0
sprpriority = 2

[State 2]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 1]
type = screenbound
trigger1 = 1
value = 0
movecamera = 1, 0

[State 1]
type = assertspecial
trigger1 = var(21) < 5 || (!movecontact && !movereversed)
flag= noBG
flag2= noFG
ignorehitpause = 1

[State 1]
type = bgpalfx
trigger1 = var(21) >= 5
trigger1= movecontact = 1 || movereversed = 1
add= 255, 255, 255
sinadd= -255, -255, -255, 32
time= 8
persistent= 0
ignorehitpause= 1

[State Shadows]
type = Afterimagetime
trigger1 = pos y = -1
time = 0

[State TATSUMAKI]
type = PlaySnd
trigger1 = animelem = 1
value = 1, 10
channel = 0
volume = 255

[State wind sound]
type = playsnd
trigger1 = animelem = 3
value = 0, 4

[State 6]
type = Velmul
trigger1 = time = [0, 10]
x = 0.83
y = 0.83

[State 6]
type = Velset
trigger1 = animelem = 3
x = 9
y = 12

[State 6]
type = VelAdd
trigger1 = Time >= 10
y = 0.30

[State 7]
type = HitDef
triggerall = var(21) < 5
trigger1 = animelem = 3
attr = A, HA
damage = 24, 6
animtype = Hard
getpower = 0, 0
givepower = 20
priority = 5, Hit
hitflag = MAFD
guardflag = MA
pausetime = 10, 41
sparkxy = -10, -15
sparkno = 3
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
air.type = Trip
air.hittime = 50
ground.slidetime = 40
ground.hittime = 50
ground.velocity = -2
air.velocity = -2, 0
air.fall = 1
fall.recover = 0
fall.recovertime = 120
kill = 0
forcestand = 1

[State Shoryuken]
type = PlaySnd
trigger1 = time = 8 && var(21) >= 5
value = 6, 9
volume = 255

[State hadouken hit helper]
type = Helper
trigger1 = animelem = 3 && var(21) >= 5
helpertype = normal
name = "leg fire"
pos = 0, 0
postype = p1
stateno =1060
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1

[State 7]
type = HitDef
triggerall = var(21) >= 5
trigger1 = animelem = 3
attr = A, HA
damage = 30, 5
animtype = Hard
getpower = 0, 0
givepower = 20
priority = 5, Hit
hitflag = MAFD
guardflag = MA
pausetime = 40, 60
sparkxy = -10, -15
sparkno = 3
guard.sparkno = 40; S9200
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
air.type = Trip
air.hittime = 50
ground.slidetime = 40
ground.hittime = 50
ground.velocity = -2
air.velocity = -2, 0
air.fall = 1
fall = 1
fall.recover = 0
fall.recovertime = 120
envshake = 1
envshake.time = 30
envshake.freq = 100
envshake.ampl = -6
envshake.phase = 1
bounce = 1
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
forcestand = 1

[State FireB]
type = Explod
triggerall = var(21) >= 5
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
triggerall = var(21) >= 5
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State 1]
type = screenbound
trigger1 = 1
value = 0
movecamera = 1, 0

[State Afterimage hit helper]
type = Helper
triggerall = var(21) < 5
trigger1 = movecontact
persistent = 0
helpertype = normal
name = "satsui no hado"
id = 301
postype = p1
stateno = 4056
ownpal = 1
pausemovetime = 9999

[State 1]
type = AfterImageTime
trigger1 = pos y >= 0
time = 0

[State 0]
type = Varset
trigger1 = pos y >= 5
v = 28
value = 0

[State 0]
type = Varadd
trigger1 = time = 0
v = 21
value = 1

[State 8]
type = ChangeState
trigger1 = pos y >= 5
value = 4044

[State 8]
type = ChangeState
triggerall = var(21) < 5
trigger1 = movecontact
value = 4054


;==============================================================================================
[Statedef 4060]
type = A
movetype = A
physics = N
poweradd = (Var(10)=0) * -1000
juggle = 0
ctrl = 0
anim = 1023
velset = 0, 0
sprpriority = 2
facep2 = 0

[State Pos Fix]
type = posset
trigger1 = time = 0
trigger1 = pos y > 0
y = 0

[State Randomizer]
type = varrandom
trigger1 = time = 0
v = 46
range = 0, 100

[State NHB]
type = NotHitBy
trigger1 = time <= 0
trigger2 = Prevstateno != [3960, 3991]
trigger2 = anim = 1023 && animelemtime(6) < -1
value = SCA
time = 1

[State Shadows]
type = Afterimage
trigger1 = time = 0 && var(29) = 0
time = 999
length = 21
PalBright = 0, 0, 0
PalContrast = 148, 148, 148
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State Shadows]
type = Afterimage
triggerall = time = 0 && var(29) = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
time = 999
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State red fadeout]
type = BGPalFx
triggerall = var(28) = 0
trigger1 = animelem = 1
add = 100, 100, 100
mul = 200, 200, 300
sinadd = 100, 100, 100, 540
time = 80
ignorehitpause = 1
invertall = 1

[State 1]
type = screenbound
triggerall = time > 34
trigger1 = var(46) >= 90 && var(28) = 2
trigger2 = var(28) >= 3
value = 1
movecamera = 0, 0

[State 1]
type = screenbound
triggerall = time > 80
trigger1 = var(46) >= 90 && var(28) <= 2
value = 1
movecamera = 0, 0

[State CHANGEANIM]
type = changeanim
triggerall = time = 0
trigger1 = var(28) > 0
value = 1024

[State red fadein]
type = BGPalFx
triggerall = var(28) = 1
trigger1 = animelem = 1
add = 100, 100, 150
sinadd = 305, -255, -355, 180
time = 32
invertall = 1
ignorehitpause = 1

[State white fadein]
type = BGPalFx
triggerall = var(28) > 1
trigger1 = animelem = 1
add = 255, -155, -155
sinadd = -255, -255, -255, 180
time = 32
ignorehitpause = 1
invertall = 1

[State Freeze]
type = superpause
trigger1 = time = 0
anim = S ifelse(var(28) > 0, 10061, 10060)
time = ifelse(var(28) > 0, 29, 78)
pos = 56, -59
sprpriority = 3
movetime = ifelse(var(28) > 0, 29, 78)
p2defmul = 1
darken = 0
sound = S ifelse(var(28) > 0, 0, 7), ifelse(var(28) > 0, 12, 3)

[State flame charge]
type = PlaySnd
trigger1 = animelem = 1, =4
value = 3, 1
supermovetime = -1

[State SuperLight charge for hadouken] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10086
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 65
ownpal = 1
scale = 0.5, 0.5
pausemovetime = 9999
id = 112

[State SuperLight charge for hadouken] 
type = Explod
triggerall = var(28) > 0
trigger1 = animelem = 1
anim = 10087
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 65
ownpal = 1
scale = 0.5, 0.5
pausemovetime = 9999
id = 112

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10810
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.52, 0.52
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10811
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.50, 0.50
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10812
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.48, 0.48
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10813
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.46, 0.46
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10814
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.44, 0.44
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10815
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.42, 0.42
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10816
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.4, 0.4
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10817
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.38, 0.38
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10818
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.36, 0.36
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10819
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.34, 0.34
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10820
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.32, 0.32
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10821
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.3, 0.3
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10822
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.28, 0.28
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10823
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.26, 0.26
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10824
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.24, 0.24
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10825
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
ownpal = 1
scale = 0.2, 0.2
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame twirl] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10826
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 20
removetime = 81
ownpal = 1
scale = 0.18, 0.18
shadow = 0, 50, 100
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10830
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.2, 0.2
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10831
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.25, 0.25
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10832
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.3, 0.3
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10833
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.35, 0.35
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10834
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.4, 0.4
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10835
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.45, 0.45
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10836
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.5, 0.5
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10837
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.55, 0.55
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10838
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.6, 0.6
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10839
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.65, 0.65
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10840
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
ownpal = 1
shadow = 0, 50, 100
scale = 0.7, 0.7
pausemovetime = 9999

[State SuperLight charge for hadouken flame sphere] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 10841
pos = 56, -59
sprpriority = 4
postype = p1
supermovetime = -1
bindtime = 10
removetime = 81
ownpal = 1
shadow = 0, 50, 100
scale = 0.75, 0.75
pausemovetime = 9999

[State chiargesound]
type = PlaySnd
trigger1 = animelem = 1
value = 2, 2
channel = 0

[State 0]
type = Varadd
trigger1 = time = 0
v = 28
value = 1

[State Shadows]
type = Afterimage
triggerall = time = 0 && var(29) = 0
trigger1 = var(46) >= 90 || var(28) >= 3
time = 999
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State HadokenVoice]
type = PlaySnd
trigger1 = time = 3
value = 1, 3
channel = 0
volume = 0

[State hadouken hit helper]
type = Helper
triggerall = var(28) < 3
trigger1 = var(46) < 90
trigger1 = animelem = 6
helpertype = normal
name = "hadouken"
id = 11
pos = 56, -59
postype = p1
stateno =1040
ownpal = 1
size.xscale = 1.2
size.yscale = 1.2

[State FireB]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(3)
trigger1 = helper(3), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State hadouken hit helper]
type = Helper
triggerall = animelem = 6
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
helpertype = normal
name = "hadouken"
id = 11
pos = 56, -59
postype = p1
stateno =1045
ownpal = 1
size.xscale = 1.1
size.yscale = 1.1

[State HadokenWhiff]
type = playsnd
trigger1 = animelem = 6
value = 0, 7
volume = 255
freqmul = 0.9

[State HadokenWhiff]
type = playsnd
trigger1 = animelem = 6
value = 0, 7
volume = 255
freqmul = 1.1

[State 0]
type = Varset
triggerall = time >= 12
trigger1 = vel y > 0
trigger1 = pos y >= 2
v = 28
value = 0

[State 6d]
type = Velset
trigger1 = time = 81
trigger1 = var(28) = 1
x = -1.2
y = -7.3

[State 6r]
type = Velset
trigger1 = time = 34 && var(28) > 1
x = -1.2
y = -7.3

[State FireA]
type = Explod
trigger1 = animelem = 6
ignorehitpause = 1
anim = 11242
scale = 0.5, 0.5
id = 2500
postype = p1
pos = 54, -59
sprpriority = 5
ownpal = 1

[State 6f]
type = veladd
trigger1 = time > 81 && var(28) = 1
y = 0.4

[State 6d]
type = veladd
trigger1 = time > 34
trigger1 = var(28) > 1
y = 0.4

[State 6a]
type = posfreeze
trigger1 = time = [0, 81]
trigger1 = var(28) = 1
value = 1

[State 6s]
type = posfreeze
trigger1 = time = [0, 34]
trigger1 = var(28) > 1
value = 1

[State Hadoken!]
type = PlaySnd
trigger1 = animelem = 5
value = 4, 3
channel = 0
volume = 255

[State 6]
type = posadd
trigger1 = pos y >= 17
x = -20

[State HadokenWhiff]
type = playsnd
trigger1 = animelem = 5
value = 0, 7
volume = 50

[State 8]
type = ChangeState
trigger1 = pos y >= 17
value = 1874
ctrl = 0

[State 1]
type = AfterImageTime
triggerall = time >= 12
trigger1 = vel y > 0
trigger1 = pos y >= 2
time = 0

[State 1]
type = posadd
triggerall = time >= 12
trigger1 = vel y > 0
trigger1 = pos y >= 2
x = -20

[State 9]
triggerall = time >= 60
trigger1 = vel y > 0
trigger1 = pos y >= 2
type = ChangeState
value = 1874
ctrl = 0


;==============================================================================================
[Statedef 60049]
type = S
physics = S
movetype = I
anim = 40
ctrl = 0
velset = 0, 0
poweradd = -1000

[State Pause]
type = Pause
trigger1 = time= 0
trigger1 = var(28) > 0
time = 26
movetime = 26

[State Randomizer]
type = varrandom
trigger1 = time = 0
v = 46
range = 0, 100

[State 9]
type = ChangeState
trigger1 = time >= 3
value = 60048


;==============================================================================================
[Statedef 60048]
type = A
physics = N
movetype = I
anim = 60048
velset = 0, 0

[State NHB]
type = PlayerPush
trigger1 = p2bodydist x < -8
value = 0
ignorehitpause = 1

[State 1]
type = VelAdd
trigger1 = 1
y = 0.5

[State 1]
type = VelSet
trigger1 = time = 0
x = (backedgebodydist / -24.0)
y = -4

[State 9]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = pos y >= 0
value = 60047


;==============================================================================================
[Statedef 60047]
type = S
physics = S
movetype = I
anim = 60047
	
[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State NHB]
type = PlayerPush
trigger1 = p2bodydist x < -8
value = 0
ignorehitpause = 1

[State Land SOund]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 1]
type = velset
trigger1 = time = 0
y = 0

[State 2]
type = PosSet
trigger1 = time = 0
y = 0

[State SlideSound]
type = PlaySnd
trigger1 = time = 0
value = 0, 11
volume = -50

[State Dust]
type = MakeDust
trigger1 = 1
pos = -10, -2
spacing = 5

[State 5]
type = ChangeState
trigger1 = !animtime
value = 60050


;==============================================================================================
[Statedef 60050]
type = S
movetype = A
physics = S
anim = 12237
velset = 0
ctrl = 0
sprpriority = 2

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 2]
type = Playsnd
triggerall = animelem = 2
trigger1 = var(46) < 90
trigger1 = var(28) < 3
value = 0, 16
volume = 255

[State Rage Burst Time dimension effect]
type = Pause 
triggerall = time > 4
trigger1 = (GameTime%3) = 0
trigger1 = roundstate = 2
time = 1 
movetime = 1 
ignorehitpause = 1

[State red fadeout]
type = BGPalFx
triggerall = var(28) = 0
trigger1 = animelem = 1
add = 100, 100, 100
mul = 200, 200, 300
sinadd = 100, 100, 100, 340
time = 53
ignorehitpause = 1
invertall = 1

[State red fadein]
type = BGPalFx
triggerall = var(28) = 1
trigger1 = animelem = 1
add = 100, 100, 150
sinadd = 305, -255, -355, 180
time = 32
invertall = 1
ignorehitpause = 1

[State white fadein]
type = BGPalFx
triggerall = var(28) > 1
trigger1 = animelem = 1
add = 255, -155, -155
sinadd = -255, -255, -255, 180
time = 32
ignorehitpause = 1
invertall = 1

[State Freeze]
type = superpause
trigger1 = animelem = 1
anim = S ifelse(var(28) > 0, 10061, 10060)
pos = 15, -33
time = ifelse(var(28) > 0, 33, 53)
movetime = 0
p2defmul = 1
darken = 0
sound = S ifelse(var(28) > 0, 0, 7), ifelse(var(28) > 0, 12, 3)

[State Wind effect] 
type = Explod
triggerall = var(28) = 0
trigger1 = animelem = 1
anim = 9402
scale = 0.7, 0.7
pos = 0, 0
sprpriority = 0
postype = p1
bindtime = 18
ownpal = 1
pausemovetime = -1
supermovetime = -1

[State 9]
type = PlaySnd
triggerall = time = 4
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 7, 12
volume = 250

[State 9]
type = PlaySnd
triggerall = time = 4
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 7, 12
volume = 250

[State 9]
type = PlaySnd
triggerall = time = 10
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 6, 14
volume = 250

[State 9]
type = PlaySnd
triggerall = time = 10
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 6, 14
volume = 250

[State WINDY]
type = explod
triggerall = time = 4
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
anim = 10602
ignorehitpause = 1
pos = 25, 8
postype = p1
sprpriority = 3
ownpal = 1
scale = 1
removeongethit = 0

[State Pah!]
type = Explod
triggerall = time = 4 || time = 8 || time = 12 || time = 16
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
ignorehitpause = 1
anim = 12210
pos = 150+25*(time-10), 00
sprpriority = -1
postype = p1
bindtime = 6
ownpal = 1
scale = 0.6, 0.6

[State Pah!]
type = Explod
triggerall = time = 6 || time =10 || time = 14
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
ignorehitpause = 1
anim = 12210
pos = 150+25*(time-10), 12
sprpriority = 3
postype = p1
bindtime = 6
ownpal = 1
scale = 0.7, 0.7

[State Pah!]
type = Helper
triggerall = time = 4 || time = 8 || time = 12 || time = 16 || time = 20
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
ignorehitpause = 1
stateno = 60052
pos = 120+25*(time-10), 00
postype = p1
ownpal = 1
facing = -1

[State Pah!]
type = Helper
triggerall = time = 6 || time =10 || time = 14 || time = 18
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
ignorehitpause = 1
stateno = 60052
pos = 120+25*(time-10), 12
postype = p1
ownpal = 1

[State Pah!]
type = Explod
triggerall = time = 4 || time = 8 || time = 12 || time = 16 || time = 20
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
ignorehitpause = 1
anim = 10602
pos = 140+25*(time-10), 00
sprpriority = 0
postype = p1
bindtime = 6
ownpal = 1
scale = 0.6, 0.6

[State Pah!]
type = Explod
triggerall = time = 6 || time =10 || time = 14 || time = 18
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
ignorehitpause = 1
anim = 10602
pos = 140+25*(time-10), 12
sprpriority = 4
postype = p1
bindtime = 6
ownpal = 1
scale = 0.7, 0.7

[State white fadeout]
type = BGPalFx
triggerall = time = 30
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
add = 0, 0, 0
sinadd = -255, -255, -255, 60
time = 16
ignorehitpause = 1

[State 5]
type = EnvShake
triggerall = time = 4
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
persistent = 1
time = 20
ampl = -14
freq = 100
phase = 1

[State 0]
type = Varadd
trigger1 = time = 0
v = 28
value = 1

[State 9]
type = changeanim
triggerall = time = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 12247

[State 9]
type = PlaySnd
triggerall = time = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 7, 11
volume = 250

[State Shadows]
type = Afterimage
trigger1 = time = 0
time = 93
length = 21
PalBright = 0, 0, 0
PalContrast = 148, 148, 148
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State Shadows]
type = Afterimage
triggerall = time = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
time = 153
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State WINDY]
type = explod
triggerall = var(28) < 3
trigger1 = var(46) < 90
trigger1 = time = 6
anim = 12238
id = 9403
pos = 5, 0
postype = p1
sprpriority = -3
ownpal = 1
scale = 1
removeongethit = 0

[State Afterimage hit helper]
type = Helper
triggerall = var(28) < 3
trigger1 = var(46) < 90
trigger1 = time = 6
helpertype = normal
name = "wind"
id = 300
postype = p1
stateno = 60100
ownpal = 1
pausemovetime = 9999
size.xscale = 1.2
size.yscale = 1.2

[State Afterimage hit helper]
type = Helper
triggerall = var(28) < 3
trigger1 = var(46) < 90
trigger1 = time = 6
helpertype = normal
name = "wind"
id = 300
postype = p1
stateno = 60101
ownpal = 1
pausemovetime = 9999
size.xscale = 1.2
size.yscale = 1.2

[State Guard]
type = attackdist
trigger1 = 1
value = 320

[State Forward]
type = HitDef
triggerall = var(28) < 3
triggerall = var(46) < 90
trigger1 = animelem = 7
p2facing = -1
attr = S, HA
damage = 100, 12
animtype = Hard
priority = 5, Hit
hitflag = MAFD
guardflag = MA
pausetime = 0, 15
sparkxy = -10, -70
sparkno = 3
getpower = 0, 0
guard.sparkno = 40; S9300
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
ground.slidetime = 28
ground.hittime = 30
ground.velocity = -10 + (p2bodydist x / 8.0), 0
guard.velocity = -10 + (p2bodydist x / 8.0)
down.velocity = -10 + (p2bodydist x / 8.0), 0
down.hittime = 70
air.velocity = -10 + (p2bodydist x / 10.0), -2
forcestand = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 120
ground.cornerpush.veloff = 0
forcestand = 1

[State Forward]
type = HitDef
triggerall = animelem = 4
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
p2facing = 1
attr = S, HA
damage = 120, 15
animtype = Hard
priority = 5, Hit
hitflag = MAFD
guardflag = MA
pausetime = 0, 35
sparkxy = -10, -70
sparkno = 3
getpower = 0, 0
guard.sparkno = 40; S9300
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
ground.slidetime = 68
ground.hittime = 60
ground.velocity = -10 + (p2bodydist x / 8.0), 0
guard.velocity = -10 + (p2bodydist x / 8.0)
down.velocity = -10 + (p2bodydist x / 8.0), 0
down.hittime = 70
air.velocity = -4, -5 -(p2dist y * 0.02)
forcestand = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 120
ground.cornerpush.veloff = 0
kill = 0
forcestand = 1

[State End] 
type = ChangeState 
triggerall = animtime = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
value = 60056
ctrl = 0

[State End] 
type = ChangeState 
trigger1 = animtime = 0
value = 60051
ctrl = 0


;==============================================================================================
[Statedef 60052]
type = S
movetype = A
physics = N
ctrl = 0
anim = 10603
sprpriority = 3

[State Randomizer1]
type = varrandom
trigger1 = 1
v = 51
range = -2, -4

[State Randomizer2]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p1
pos = 14, -6
random = 95, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = -(var(52))/3, (var(51))/10

[State Randomizer]
type = varrandom
trigger1 = 1
v = 35
range = -2, -4

[State Randomizer3]
type = varrandom
trigger1 = 1
v = 36
range = -3, -9

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p1
pos = 2, -6
random = 95, 10
sprpriority = 5
ownpal = 1
vel = var(36), (var(35))
scale = 0.1, 0.75
accel = -(var(36))/3, (var(35))/10

[State Randomizer]
type = varrandom
trigger1 = 1
v = 51
range = 2, 10

[State FireBa]
type = Explod
trigger1 = 1
persistent = 1
anim = 12212
id = 12212
postype = p1
pos = 0, -6
random = 50, 0
sprpriority = 5
ownpal = 1
vel = 0, -var(51)
scale = 1, 0.2

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = 12215
id = 12212
postype = p1
pos = 0, -8
random = 80, 0
sprpriority = -5
ownpal = 1
vel = 0, -var(51)
scale = 1, 0.2

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 9999

[State black fadeout]
type = PalFx
trigger1 = time = 20
add = 0, 0, 0
sinadd = -255, -255, -255, 100
time = 999

[State Dissipate]
type = destroyself
trigger1 = time >= 40


;==============================================================================================
[Statedef 60051]
type = S
movetype = A
velset = 0, 0
anim = 12239
sprpriority = 1

[State Rage Burst Time dimension effect]
type = Pause 
trigger1 = (GameTime%3) = 0
trigger1 = roundstate = 2 && time < 36
time = 1 
movetime = 1 
ignorehitpause = 1

[State 3]
type = PlayerPush
trigger1 = animelemtime(9) < 0
Value = 0
ignorehitpause = 1

[State Pah!]
type = posadd
trigger1 = time = 0
x = 240

[State Pah!]
type = Explod
trigger1 = time = 16
anim = 10602
pos = -25, 5
sprpriority = 5
postype = p1
bindtime = 12
ownpal = 1
scale = 0.5, 0.5

[State Pah!]
type = Explod
trigger1 = time = 19
anim = 10602
pos = 35, 0
sprpriority = 3
postype = p1
bindtime = 12
ownpal = 1
scale = 0.5, 0.5

[State Pah!]
type = Explod
trigger1 = time = 0 || time = 4 || time = 8 || time = 12
anim = 12210
pos = -300 + (25 * time), 0
sprpriority = 3
postype = p1
bindtime = 6
ownpal = 1
scale = 0.6, 0.6

[State Pah!]
type = Explod
trigger1 = time = 2 || time = 6 || time = 10
anim = 12210
pos = -300 + (25 * time), 12
sprpriority = 3
postype = p1
bindtime = 6
ownpal = 1
scale = 0.7, 0.7

[State 5]
type = EnvShake
trigger1 = time = 1
persistent = 1
time = 20
ampl = -5
freq = 100
phase = 1

[State 5]
type = EnvColor
trigger1 = gametime%2 = 1 && time = [1, 12]
value = 255, 255, 255
time = 1

[State 5]
type = PlaySnd
trigger1 = gametime%2 = 1 && time = [1, 12]
value = 0, 14
volume = 255
pan = -300 + (25 * time)

[State 5]
type = PlaySnd
trigger1 = time = 16
value = 0, 15
volume = 255

[State 5]
type = PlaySnd
trigger1 = time = 15
value = 0, 15
volume = 255

[State Dragon]
type = Helper
trigger1 = time = 30
trigger1 = var(28) < 3
trigger1 = var(46) < 90
helpertype = normal
name = "Flaming Earth"
id = 7
pos = -270, 0
postype = p1
stateno = 60054
ownpal = 1

[State Dragon]
type = Helper
trigger1 = var(28) < 3
trigger1 = var(46) < 90
trigger1 = time = 36 || time = 42 || time = 48 || time = 54 || time = 60 || time = 66
helpertype = normal
name = "Flame earth"
pos = ceil(-270 + (time - 30) * 2.5), 0
postype = p1
stateno = 60055
ownpal = 1

[State attacksnd]
type = PlaySnd
triggerall = var(28) < 3
trigger1 = var(46) < 90
trigger1 = time = 30
volume = 255
value = 6, 9
freqmul = 0.9
abspan = 0

[State attacksnd]
type = PlaySnd
triggerall = var(28) < 3
trigger1 = var(46) < 90
trigger1 = time = 30
volume = 255
value = 6, 9
freqmul = 0.6
abspan = 0

[State 0]
type = VarSet
triggerall = var(28) < 3
trigger1 = var(46) < 90
trigger1 = animtime = 0
v = 28
value = 0

[State 9]
type = ChangeState
triggerall = var(28) < 3
trigger1 = var(46) < 90
trigger1 = animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 60056]
type = S
movetype = A
physics = N
anim = 12311
ctrl = 0
sprpriority = 2

[State 1]
type = AfterImageTime
trigger1 = time = 0
time = 0

[State 5]
type = bgpalfx
triggerall = time = [0, 120]
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
add = -255, -255, -255
time = 2
ignorehitpause = 1

[State FireB]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(101)
trigger1 = helper(101), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
triggerall = numenemy
triggerall = (enemyNear, StateNo = [5000, 5999])
triggerall = p2movetype = H
trigger1 = numhelper(101)
trigger1 = helper(101), movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State Dragon]
type = Helper
trigger1 = time = 50 || time = 64 || time = 78 || time = 92 || time = 106
helpertype = normal
name = "Skuhachi helper"
id = 101
pos = -150, 0
facing = 1
postype = p2
stateno = 60060
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State Dragon]
type = Helper
trigger1 = time = 59 || time = 71 || time = 85 || time = 99 || time = 110
helpertype = normal
name = "Skuhachi helper"
id = 101
pos = 150, 0
facing = -1
postype = p2
stateno = 60060
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State Dragon]
type = Helper
trigger1 = time = 50
helpertype = normal
name = "Skuhachi helper"
id = 101
pos = 0, 0
postype = p2
stateno = 60062
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State Dragon]
type = Helper
trigger1 = time = 50
helpertype = normal
name = "Skuhachi helper"
id = 101
pos = 0, 0
facing = -1
postype = p2
stateno = 60062
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State white fadeout]
type = BGPalFx
trigger1 = time = 120
add = 255, 255, 255
sinadd = -255, -255, -255, 50
time = 12
ignorehitpause = 1
persistent = 0

[State Dragon]
type = Helper
trigger1 = time = 120
helpertype = normal
name = "Skuhachi helper"
id = 101
pos = -150, 0
facing = 1
postype = p2
stateno = 60061
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State Camera]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0, 0

[State Rage Burst Time dimension effect]
type = Pause 
triggerall = time < 50
trigger1 = (GameTime%1) = 0
trigger1 = roundstate = 2
time = 1 
movetime = 1 
ignorehitpause = 1

[State 0]
type = VarSet
trigger1 = movecontact
v = 7
value = 1
ignorehitpause = 1
persistent = 0

[State Guard]
type = attackdist
trigger1 = 1
value = 320

[State End] 
type = ChangeState 
trigger1 = time >= 130
value = 60057
ctrl = 0


;==============================================================================================
[Statedef 60060]
type = S
movetype = A
physics = N
anim = 12312
ctrl = 0
sprpriority = 2

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 9999

[State 52, 3]
type = PosSet
trigger1 = time = 0
y = 0

[State 1]
type = VelSet
trigger1 = time = 0
x = 27

[State 1]
type = AfterImageTime
trigger1 = time = 0
time = 0

[State Guard]
type = attackdist
trigger1 = 1
value = 320

[State Forward]
type = HitDef
trigger1 = animelem = 1
attr = S, HA
damage = ceil(12 * root, fvar(10)), 3
animtype = Hard
priority = 5, Hit
hitflag = MAFD
guardflag = MA
pausetime = 0, 20
sparkxy = -10, -70
sparkno = 3
getpower = 0, 0
guard.sparkno = 40; S9300
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
ground.slidetime = 28
ground.hittime = 30
ground.velocity = 0, 0
guard.velocity = -1
down.velocity = 0, (-1.7-(((p2dist y))*0.02))
down.hittime = 70
air.velocity = 0, (-1.7-(((p2dist y))*0.02))
forcestand = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 120
ground.cornerpush.veloff = 0
palfx.time = 20
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
kill = 0
forcestand = 1

[State Pah!]
type = Explod
trigger1 = time = 0 || time = 4 || time = 8 || time = 12
anim = 12210
pos = 0, 10
sprpriority = 3
postype = p1
ownpal = 1
scale = 0.6, 0.6

[State Pah!]
type = Explod
trigger1 = time = 2 || time =6 || time = 10
anim = 12210
pos = 0, 2
sprpriority = 3
postype = p1
ownpal = 1
scale = 0.7, 0.7

[State 5]
type = PlaySnd
trigger1 = time = 0
value = 0, 4
volume = 255

[State 5]
type = PlaySnd
trigger1 = time = 0
value = 0, 3
volume = 255

[State Camera]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0, 0

[State End] 
type = destroyself
trigger1 = animtime = 0


;==============================================================================================
[Statedef 60061]
type = S
movetype = A
physics = N
anim = 12312
ctrl = 0
sprpriority = 2

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 9999

[State 52, 3]
type = PosSet
trigger1 = time = 0
y = 0

[State 1]
type = VelSet
trigger1 = time = 0
x = 27

[State 1]
type = AfterImageTime
trigger1 = time = 0
time = 0

[State Guard]
type = attackdist
trigger1 = 1
value = 320

[State Forward]
type = HitDef
trigger1 = animelem = 1
attr = S, HA
damage = ceil(12 * root, fvar(10)), 3
animtype = Hard
priority = 5, Hit
hitflag = MAFD
guardflag = MA
pausetime = 0, 0
sparkxy = -10, -70
sparkno = 3
getpower = 0, 0
guard.sparkno = 40; S9300
hitsound = S6, 6
guardsound = S0, 100
ground.type = High
ground.slidetime = 28
ground.hittime = 40
ground.velocity = -20, 0
guard.velocity = -1
down.velocity = -20, (-1.7 - (p2dist y * 0.02))
down.hittime = 70
air.velocity = -10, (-4.7 - (p2dist y * 0.02))
forcestand = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 120
ground.cornerpush.veloff = 0
palfx.time = 20
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
kill = 0
forcestand = 1

[State Pah!]
type = Explod
trigger1 = time = 0 || time = 4 || time = 8 || time = 12
anim = 12210
pos = 0, 10
sprpriority = 3
postype = p1
ownpal = 1
scale = 0.6, 0.6

[State Pah!]
type = Explod
trigger1 = time = 2 || time =6 || time = 10
anim = 12210
pos = 0, 2
sprpriority = 3
postype = p1
ownpal = 1
scale = 0.7, 0.7

[State 5]
type = PlaySnd
trigger1 = time = 0
value = 0, 4
volume = 255

[State 5]
type = PlaySnd
trigger1 = time = 0
value = 0, 3
volume = 255

[State Camera]
type = screenbound
trigger1 = 1
value = 1
movecamera = 0, 0

[State End] 
type = destroyself
trigger1 = animtime = 0


;==============================================================================================
[Statedef 60062]
type = S
movetype = A
physics = N
anim = 9999
ctrl = 0
sprpriority = 2

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1

[State Randomizer1]
type = varrandom
trigger1 = 1
v = 51
range = -2, -4

[State Randomizer2]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p1
pos = 10, -56
random = 95, 100
sprpriority = 5
ownpal = 1
vel = var(52), 0
scale = 0.1, 0.75
accel = -(var(52))/3, (var(51))/10

[State Randomizer]
type = varrandom
trigger1 = 1
v = 35
range = -2, -4

[State Randomizer3]
type = varrandom
trigger1 = 1
v = 36
range = -3, -9

[State FireB]
type = Explod
trigger1 = 1
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p1
pos = -10, -56
random = 95, 100
sprpriority = 5
ownpal = 1
vel = var(36), 0
scale = 0.1, 0.75
accel = -(var(36))/3, (var(35))/10

[State 52, 3]
type = PosSet
trigger1 = time = 0
y = 0

[State Dragon]
type = Helper
trigger1 = time = 59
helpertype = normal
name = "Skuhachi helper"
id = 101
pos = 0, 0
postype = p2
stateno = 60063
ownpal = 1
size.xscale = 1
size.yscale = 1
pausemovetime = 9999
supermovetime = 9999
ignorehitpause = 1

[State End] 
type = destroyself
trigger1 = time >= 60


;==============================================================================================
[Statedef 60063]
type = S
movetype = A
physics = N
anim = 9999
ctrl = 0
sprpriority = 2

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 9999

[State 52, 3]
type = PosSet
trigger1 = time = 0
y = -50

[State Randomizer]
type = varrandom
trigger1 = 1
v = 52
range = -12, 12

[State Randomizer]
type = varrandom
trigger1 = 1
v = 53
range = -12, 12

[State FireB]
type = Explod
trigger1 = time < 18
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = 1/2*(var(52)), 1/2*(var(53))

[State FireB]
type = Explod
trigger1 = time < 18
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(53))
scale = 0.2, 1.5
accel = 1/2*(var(52)), 1/2*(var(53))

[State FireB]
type = Explod
trigger1 = time < 18
persistent = 1
anim = 12213
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = 1/2*(var(53)), 1/2*(var(52))

[State FireB]
type = Explod
trigger1 = time < 18
persistent = 1
anim = 12214
id = 12212
postype = p1
pos = -10, -13
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(53), (var(52))
scale = 0.2, 1.5
accel = 1/2*(var(53)), 1/2*(var(52))

[State Dissipate]
type = destroyself
trigger1 = time >= 28


;==============================================================================================
[Statedef 60057]
type = S
movetype = A
velset = 0, 0
anim = 12302
sprpriority = -1
physics = S

[State Slide Sound]
type = playsnd
trigger1 = time = 10
value = 0, 11
volume = 255

[State Slide Sound]
type = playsnd
trigger1 = time = 10
value = 0, 11
volume = 255

[State dust]
type = MakeDust
trigger1 = Time < 10
pos = -10, -2
spacing = 5

[State Wind effect] 
type = Explod
trigger1 = time = 0
anim = 9402
scale = 0.7, 0.7
pos = 0, 0
sprpriority = 0
postype = p1
supermovetime = -1
ownpal = 1
pausemovetime = 9999

[State 9]
type = PlaySnd
trigger1 = time = 0
value = 7, 13
volume = 250

[State 9]
type = PlaySnd
trigger1 = time = 0
value = 7, 13
volume = 250

[State 3]
type = PlayerPush
trigger1 = 1
Value = 0
ignorehitpause = 1

[State Forward]
type = HitDef
trigger1 = animelem = 11
attr = S, HA
damage = 50, 6
animtype = Hard
priority = 5, Hit
hitflag = MAFD
guardflag = MA
pausetime = 27, 27
sparkxy = -10, -70
sparkno = 3
getpower = 0, 0
guard.sparkno = 40; S9300
hitsound = S6, 5
guardsound = S0, 100
ground.type = Low
fall.animtype = Hard
ground.slidetime = 28
ground.hittime = 30
ground.velocity = -20, -5
guard.velocity = -1
down.velocity = -20, -5
down.hittime = 70
air.velocity = -20, -5
forcestand = 1
fall = 1
air.fall = 1
fall.recover = 0
fall.recovertime = 120
ground.cornerpush.veloff = 0
palfx.time = 20
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
forcestand = 1

[State 9]
type = EnvShake
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 20
ampl = -15
freq = 150
phase = 15

[State Slow Motion]
type = Pause 
triggerall = roundstate = 2 && p2life > 0
trigger1 = time = [0, 30]
time = 1 
movetime = 1 
ignorehitpause = 1

[State Pah!]
type = posadd
trigger1 = time = 0
x = 120

[State Pah!]
type = velset
trigger1 = time = 0
x = -25

[State 0]
type = VarSet
trigger1 = animtime = 0
v = 28
value = 0

[State Idle]
type = statetypeset
trigger1 = animelemtime(12) >= 0
movetype = I

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 60054]
type = A
movetype = A
physics = N
anim = 12240
sprpriority = 3

[State FireB]
type = Explod
trigger1 = movehit && random <= 100
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = movehit && random <= 100
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State Randomizer1]
type = varrandom
trigger1 = 1
v = 51
range = -1, -2

[State Randomizer2]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State FireB]
type = Explod
trigger1 = random <= 50 && time < 60
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p1
pos = 100, -10
random = 95, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = -(var(52))/2, (var(51))/10

[State Randomizer]
type = varrandom
trigger1 = 1
v = 35
range = -3, -4

[State Randomizer3]
type = varrandom
trigger1 = 1
v = 36
range = 4, 10

[State FireB]
type = Explod
trigger1 = random <= 80 && time < 60
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p1
pos = 100, -10
random = 95, 10
sprpriority = 5
ownpal = 1
vel = var(36), (var(35))
scale = 0.1, 0.75
accel = -(var(36))/3, (var(35))/10

[State Randomizer4]
type = varrandom
trigger1 = 1
v = 37
range = -5, -6

[State Randomizer5]
type = varrandom
trigger1 = 1
v = 38
range = 4, 10

[State FireB]
type = Explod
trigger1 = random <= 50 && time < 60
persistent = 1
anim = ifelse(random>500, 12213, 12216)
id = 12213
postype = p1
pos = 100, -10
random = 95, 10
sprpriority = 5
ownpal = 1
vel = var(38), (var(37))
scale = 0.1, 0.75
accel = -(var(38))/4, (var(37))/10

[State FireB]
type = Explod
trigger1 = random <= 150 && time = [60, 98]
persistent = 1
anim = ifelse(random>500, 12213, 12216)
id = 12213
postype = p1
pos = 100, -10
random = 95, 10
sprpriority = 5
ownpal = 1
vel = 0, (var(37))
scale = 0.1, 0.75
accel = 0, (var(37))/10

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State HitOverride]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP, AT
stateno = 60054
time = -1
ignorehitpause = 1

[State Shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State Randomizer]
type = varrandom
trigger1 = 1
v = 55
range = -20, 20

[State Randomizer]
type = varrandom
trigger1 = 1
v = 56
range = -8, 0

[State 5]
type = Hitdef
trigger1 = timemod = 5, 4
attr = S, HP
damage = ceil(6 * root, fvar(10)), 2
animtype = Hard
fall.animtype = Hard
guardflag = L
hitflag = MAFD
pausetime = 0, 12
sparkxy = var(55), var(56)
guard.sparkno = 40; S9200
hitsound = S6, 10
guardsound = S0, 100
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
getpower = 0, 0
ground.velocity = 0
air.type = Low
air.velocity = 0, -1
forcestand = 1
palfx.time = 20
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
fall.recover = 0
fall.recovertime = 120
sprpriority = 3
air.fall = 1
p1sprpriority = 5

[State Helper Hits Count Too]
type = ParentVarAdd
trigger1 = Movehit = 1 && NumTarget
trigger1 = ((Target, GetHitVar(hitcount)) % 3) = 1
var(17) = 1

[State Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright = 0, 0, 0
PalContrast = 100, 80, 0
PalMul = 0.5, 0.5, 0.5
FrameGap = 1
Trans = add

[State 9]
type = changeanim
triggerall = anim != 12241
trigger1 = time >= 120
trigger2 = root, movetype = H
trigger3 = root, stateno = 60050
trigger4 = root, stateno = 3900 && root, animelem = 10
value = 12241

[State 9]
type = destroyself
trigger1 = time >= 140
trigger2 = anim = 12241
trigger2 = animelemtime(1) >= 20


;==============================================================================================
[Statedef 60055]
type = A
movetype = A
physics = N
anim = 12242
sprpriority = 3

[State FireB]
type = Explod
trigger1 = movehit && random <= 100
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = movehit && random <= 100
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State Randomizer1]
type = varrandom
trigger1 = 1
v = 51
range = -1, -2

[State Randomizer2]
type = varrandom
trigger1 = 1
v = 52
range = 3, 9

[State FireB]
type = Explod
trigger1 = random <= 50 && time < 60
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p1
pos = 100, -10
random = 95, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.1, 0.75
accel = -(var(52))/2, (var(51))/10

[State Randomizer]
type = varrandom
trigger1 = 1
v = 35
range = -3, -4

[State Randomizer3]
type = varrandom
trigger1 = 1
v = 36
range = 4, 10

[State FireB]
type = Explod
trigger1 = random <= 80 && time < 60
persistent = 1
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p1
pos = 100, -10
random = 95, 10
sprpriority = 5
ownpal = 1
vel = var(36), (var(35))
scale = 0.1, 0.75
accel = -(var(36))/3, (var(35))/10

[State Randomizer4]
type = varrandom
trigger1 = 1
v = 37
range = -5, -6

[State Randomizer5]
type = varrandom
trigger1 = 1
v = 38
range = 4, 10

[State FireB]
type = Explod
trigger1 = random <= 50 && time < 60
persistent = 1
anim = ifelse(random>500, 12213, 12216)
id = 12213
postype = p1
pos = 100, -10
random = 95, 10
sprpriority = 5
ownpal = 1
vel = var(38), (var(37))
scale = 0.1, 0.75
accel = -(var(38))/4, (var(37))/10

[State FireB]
type = Explod
trigger1 = random <= 150 && time = [60, 98]
persistent = 1
anim = ifelse(random>500, 12213, 12216)
id = 12213
postype = p1
pos = 100, -10
random = 95, 10
sprpriority = 5
ownpal = 1
vel = 0, (var(37))
scale = 0.1, 0.75
accel = 0, (var(37))/10

[State NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State HitOverride]
type = hitoverride
trigger1 = 1
attr = SCA, AA, AP, AT
stateno = 60055
time = -1
ignorehitpause = 1

[State Shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State Spark] 
type = Explod
trigger1 = movehit
persistent = 0
ignorehitpause = 1
anim = ifelse(random>500, 10421, 10420)
pos = 0, -10
sprpriority = -1
postype = p2
supermovetime = -1
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999
random = 5, 5
scale = 0.7, 0.7

[State Shadows]
type = Afterimage
trigger1 = time = 0
time = 9999
length = 4
PalBright = 0, 0, 0
PalContrast = 100, 80, 0
PalMul = 0.5, 0.5, 0.5
FrameGap = 1
Trans = add

[State 9]
type = changeanim
triggerall = anim != 12241
trigger1 = time >= 100
trigger2 = root, movetype = H
trigger3 = root, stateno = 60050
trigger4 = root, stateno = 3900 && root, animelem = 10
value = 12241

[State 9]
type = destroyself
trigger1 = time >= 120
trigger2 = anim = 12241
trigger2 = animelemtime(1) >= 20


;==============================================================================================
[Statedef 60053]
type = A
movetype = A
physics = N
anim = 3520
sprpriority = 2

[State Randomizer1]
type = varrandom
trigger1 = 1
v = 52
range = -3, 3

[State Randomizer2]
type = varrandom
trigger1 = 1
v = 51
range = 3, 9

[State FireB]
type = Explod
trigger1 = random <= 500 && vel Y < 0
persistent = 1
anim = 12213
id = 12213
postype = p1
pos = 0, -110
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(52), (var(51))
scale = 0.2, 1.5
accel = -(var(52))/4, -(var(51))/4

[State Randomizer]
type = varrandom
trigger1 = 1
v = 36
range = -5, 5

[State Randomizer3]
type = varrandom
trigger1 = 1
v = 35
range = 4, 10

[State FireB]
type = Explod
trigger1 = random <= 500 && vel Y < 0
persistent = 1
anim = 12216
id = 12213
postype = p1
pos = 0, -110
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(36), (var(35))
scale = 0.2, 1.5
accel = -(var(36))/5, -(var(35))/5

[State FireB]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = -10, -50
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State FireA]
type = Explod
trigger1 = movehit
trigger1 = numexplod(2500) < 4
ignorehitpause = 1
anim = 2501
id = 2500
postype = p2
pos = 20, -80
random = 50, 30
bindtime = -1
sprpriority = 2
ownpal = 1

[State Randomizer4]
type = varrandom
trigger1 = 1
v = 38
range = -10, 10

[State Randomizer5]
type = varrandom
trigger1 = 1
v = 37
range = 4, 10

[State FireB]
type = Explod
trigger1 = random <= 500 && vel Y < 0
persistent = 1
anim = 12216
id = 12213
postype = p1
pos = 0, -110
random = 5, 10
sprpriority = 5
ownpal = 1
vel = var(38), (var(37))
scale = 0.2, 1.5
accel = -(var(38))/6, -(var(37))/6

[State 1]
type = palfx
trigger1 = time = 0
ignorehitpause = 1
time = 51
add = 0, 0, 0
sinadd = 512, 82, 0, 100

[State Shadows]
type = Afterimage
trigger1 = time = 0
time = 62
length = 21
PalBright = 0, 0, 0
PalContrast = 148, 148, 148
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State Shadows]
type = Afterimage
triggerall = time = 0
trigger1 = var(46) >= 90
trigger2 = var(28) >= 3
time = 70
length = 21
PalBright = 0, 0, 0
PalContrast = 242, 0, 0
PalAdd = 0, 0, 0
PalMul = 0.9, 0.9, 0.9
FrameGap = 10
Trans = Add1

[State 2] 
type = AssertSpecial
trigger1 = animelem = 2
flag = unguardable

[State Wind effect] 
type = Explod
trigger1 = time = 0
anim = 12070
pos = 0, 3
sprpriority = 3
postype = p1
supermovetime = -1
ownpal = 1
pausemovetime = 9999

[State Wind effect] 
type = Explod
trigger1 = time = 0
anim = 12080
pos = 0, 3
sprpriority = 4
postype = p1
supermovetime = -1
ownpal = 1
pausemovetime = 9999

[State 5]
type = PlaySnd
trigger1 = animelem = 1
value = 0, 4

[State 1]
type = EnvColor
trigger1 = movehit
value = 255, 255, 255
persistent = 0
time = 2

[State 1]
type = VelSet
trigger1 = time = 1
x = 13
y = -13.5

[State 2]
type = VelMul
trigger1 = Time >= 1
x = 0.88

[State 3]
type = VelAdd
trigger1 = Time >= 1
y = 0.44

[State 9]
type = HitDef
triggerall = hitcount < 20
trigger1 = animelem = 1 || animelem = 2 || animelem = 3 || animelem = 4 || animelem = 5 || animelem = 6
attr = A, HA
damage = 14, 7
animtype = Hard
priority = 6, Hit
hitflag = MAFD
guardflag = MA
getpower = 0, 0
pausetime = 3, 3
sparkxy = -10, -75
sparkno = 3
guard.sparkno = 40; S9300
hitsound = S6, 5
guardsound = S0, 100
ground.type = High
ground.slidetime = 16
ground.hittime = 16
ground.velocity = -2, -11
air.velocity = -2, -11
fall = 1
fall.animtype = Hard
down.velocity = -1, -7
palfx.time = 80
palfx.add = 32, 0, 0
palfx.mul = 300, 192, 192
palfx.sinadd = 64, 5, 5, 6
guard.pausetime = 2, 0
guard.hittime = 0
guard.velocity = 0
airguard.velocity = -1, -7
fall.recover = (var(10) <= 0)
fall.recovertime = 120
forcestand = 1

[State 9]
type = EnvShake
trigger1 = movehit
persistent = 0
ignorehitpause = 1
time = 10
ampl = -10
freq = 150
phase = 15

[State Spark] 
type = Explod
trigger1 = movehit
anim = 9420
pos = 0, -50
persistent = 0
ignorehitpause = 1
sprpriority = -1
postype = p2
supermovetime = -1
removetime = 12
ownpal = 1
ontop = 1
pausemovetime = 999
supermovetime = 999

[State 0]
type = Varset
trigger1 = vel y > 0 && pos y >= 0
v = 28
value = 0

[State 5]
type = ChangeAnim
trigger1 = vel y > -1
trigger1 = time > 1
value = 1510
persistent = 0

[State 7]
trigger1 = vel y > 0
trigger1 = pos y >= 0
type = ChangeState
value = 1521

[State Idle]
type = statetypeset
trigger1 = anim = 1510
movetype = I


;==============================================================================================
[Statedef 60100]
type = A
movetype = A
physics = N
anim = 12238
sprpriority = 3

[State 9]
trigger1 = 1
type = angleset
value = 45

[State 9]
trigger1 = 1
type = angledraw

[State 9]
type = destroyself
trigger1 = animtime = 0


;==============================================================================================
[Statedef 60101]
type = A
movetype = A
physics = N
anim = 12238
sprpriority = 3

[State 9]
trigger1 = 1
type = angleset
value = -45

[State 9]
trigger1 = 1
type = angledraw

[State 9]
type = destroyself
trigger1 = animtime = 0


;==============================================================================================
[Statedef 2156]
type = A
movetype = H
physics = N
velset = 0, 0

[State 1]
type = ChangeAnim2
trigger1 = time = 0
value = 2156

[State Shadows]
type = Afterimage
trigger1 = time = 0
time = 100
length = 8
PalBright = 0, 0, 0
PalContrast = 128, 128, 128
PalAdd = 0, 0, 0
PalMul = 1, 1, 1
FrameGap = 1
Trans = Add1

[State 2]
type = posfreeze
trigger1 = hitshakeover = 0

[State 3]
type = velset
trigger1 = hitshakeover = 1
x = -7
y = -12
persistent = 0

[State 4]
type = veladd
trigger1 = hitshakeover = 1
y = 0.43

[State 9]
type = SelfState
trigger1 = pos y >= 35 && vel y > 0
value = 5100


;==============================================================================================
[Statedef 94070]
type = A
movetype = A
physics = N
ctrl = 0
anim = 9999

[State Comon]
type = playsnd
trigger1 = time = 0
value = 1, 1
channel = 1
volume = 50

[State die]
type = destroyself
trigger1 = time >= 1


;==============================================================================================
[Statedef 94071]
type = A
movetype = A
physics = N
ctrl = 0
anim = 9999
velset = 0, 0

[State I'm number one]
type = playsnd
trigger1 = time = 0
value = 3, 5
channel = 1
volume = 50

[State die]
type = destroyself
trigger1 = time >= 1


;==============================================================================================
[Statedef 0]
type = S
physics = S
sprpriority = 0

[State 0, Gone]
type= removeexplod
trigger1= ishelper
[State 0, Gone]
type= destroyself
trigger1= ishelper

[State hadouken hit helper]
type = Helper
triggerall = anim=1
trigger1 = animelem = 42
helpertype = normal
name = "stance spark"
pos = 0, 0
postype = p1
stateno =4811
ownpal = 1

[State 52, Land SOund]
type = PlaySnd
triggerall = anim=1
trigger1 = animelem = 7
value = 0, 11
freqmul = 1.1

[State Pah!]
type = Explod
triggerall = anim=1
trigger1 = animelem = 9
anim = 10602
pos = 20, 10
sprpriority = 5
postype = p1
supermovetime = -1
ownpal = 1
scale = 0.75, 0.4

[State 1]
type = ChangeAnim
triggerall = !fvar(33)
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && Animtime = 0
value = 0

[State 1]
type = ChangeAnim
triggerall = fvar(33)
trigger1 = Anim != 1 && Anim != 5
trigger2 = Anim = 5 && Animtime = 0
value = 1

[State 2]
type = VelSet
trigger1 = time = 0
y = 0

[State 3]
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
trigger2 = time = 4
x = 0

[State 1]
type = AfterImageTime
triggerall = time = 0
trigger1 = prevstateno = 11040
trigger2 = roundstate < 2
time = 0

[State 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050

[State 0, Are you floating?]
type= changeState
triggerall= pos y < 0
trigger1= !numenemy
trigger2= numenemy = 1
trigger2= (enemy, name = "M-NES Game 1" + enemy, name = "M-NES Game 2" + enemy, name = "M-GB Game 1" + enemy, authorname = "Bane84") < 2
trigger3= numenemy >= 2
trigger3= (enemy(0), name = "M-NES Game 1" + enemy(0), name = "M-NES Game 2" + enemy(0), name = "M-GB Game 1" + enemy(0), authorname = "Bane84") < 2
trigger3= (enemy(1), name = "M-NES Game 1" + enemy(1), name = "M-NES Game 2" + enemy(1), name = "M-GB Game 1" + enemy(1), authorname = "Bane84") < 2
value = 50


;==============================================================================================
[Statedef 52]
type = S
physics = S
movetype = U
anim = 47
ctrl = 0

[State Ctrl]
type = ctrlset
trigger1= time = 0 && movetype !=A
value = 1

[State Type]
type = statetypeset
trigger1 = time = 0
movetype = I

[State 52, 1]
type = VelSet
trigger1 = time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = time = 0
y = 0

[State Guard]
type = changestate
trigger1= inguarddist
trigger1= ctrl && command="holdback"
value = 120

[State 52, 3]
type = CtrlSet
trigger1 = Time >= 1
value = 1

[State 52, 4]
type = VelSet
trigger1 = abs(vel x) < Const(movement.stand.friction.threshold)
x = 0

[State Land Sound]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 52, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 100]
type = S
physics = N
anim = 102
ctrl = 0

[State 2]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 9]
type = changestate
trigger1 = Animtime = 0
value = 101
ctrl = 1

;==============================================================================================
[Statedef 101]
type = A
movetype = I
physics = N
anim = 100
velset = 0, 0

[State no blocking]
type = Assertspecial
trigger1 = 1
flag = noairguard

[State Shinryuken]
type = PlaySnd
trigger1 = time = 0
value = 1, 10
channel = 0

[State Spr]
type = sprpriority
trigger1 = 1
value = 1

[State VelAdd]
type = veladd
trigger1 = 1
y = const(movement.yaccel)

[State 100, 1]
type = VelSet
trigger1 = time = 0
x = const(velocity.run.fwd.x)
y = const(velocity.run.fwd.y)

[State 2]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 9]
type = ChangeState
trigger1 = animelem = 3, >=0
trigger1 = vel y > 0
trigger1 = pos y >= -5
value = 102


;==============================================================================================
[Statedef 102]
type = S
movetype = I
physics = C
anim = 101

[State VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State Slide Sound]
type = playsnd
trigger1 = animelem = 1
value = 0, 11
volume = -50

[State dust]
type = MakeDust
trigger1 = 1
pos = -10, -2
spacing = 5

[State 2]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 9]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 105]
type = S
physics = S
movetype = I
anim = 40
ctrl = 0
velset = 0, 0

[State 2]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 9]
type = ChangeState
trigger1 = time = 3
value = 106
ctrl = 1


;==============================================================================================
[Statedef 106]
type = A
physics = N
movetype = I
anim = 105
velset = 0, 0

[State no blocking]
type = Assertspecial
trigger1 = 1
flag = noairguard
flag2 = NoWalk

[State VelAdd]
type = veladd
trigger1 = 1
y = const(movement.yaccel)

[State 100, 1]
type = VelSet
trigger1 = time = 0
x = const(velocity.run.back.x)
y = const(velocity.run.back.y)

[State 9]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = pos y >= 0
value = 107


;==============================================================================================
[Statedef 107]
type = S
physics = S
movetype = I
anim = 106
	

[State Land SOund]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State 1]
type = velset
trigger1 = time = 0
y = 0

[State 2]
type = PosSet
trigger1 = time = 0
y = 0

[State SlideSound]
type = PlaySnd
trigger1 = time = 0
value = 0, 11
volume = -50

[State Dust]
type = MakeDust
trigger1 = 1
pos = -10, -2
spacing = 5

[State 4]
type = CtrlSet
trigger1 = animtime = -2
value = 1

[State 2]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 5]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1


;==============================================================================================
[Statedef 9998]
type = S
velset = 0, 0
anim = 9999

[State Bound]
type = screenbound
trigger1 = 1
value = 0
movecamera = 1, 1

[State End]
type = destroyself
trigger1 = roundstate = 2


;==============================================================================================
[Statedef 9999]
type = A
ctrl = 0
anim = 9999
sprpriority = -5
movetype = I
physics = N

[State 1]
type = Pause
trigger1 = time = 0
trigger1 = root, stateno != [3891, 3893]
time = 5
movetime = 5

[State 5]
type = EnvShake
trigger1 = time = 0
trigger1 = root, stateno != [3891, 3893]
time = 5
ampl = 2
freq = 180

[State varset]
type = varset
trigger1 = time = 0
trigger1 = root, stateno = [0, 1000]
v = 42
value = 0

[State varset]
type = varset
trigger1 = root, stateno = [1000, 3000]
trigger1 = time = 0
v = 42
value = 1

[State varset]
type = varset
trigger1 = root, stateno >= 3000
trigger1 = time = 0
v = 42
value = 2

[State varset]
type = varset
trigger1 = root, var(46) >= 90 || root, var(28) >= 3
trigger1 = root, stateno >= 3000
trigger1 = time = 0
v = 42
value = 3

[State white fadeout]
type = BGPalFx
trigger1 = time = 0
trigger1 = var(42) = 1
trigger1 = root, stateno != [3891, 3893]
add = 255, 255, 255
sinadd = -255, -255, -255, 48
time = 12
ignorehitpause = 1
persistent = 0

[State white fadeout]
type = BGPalFx
trigger1 = time = 0
trigger1 = var(42) = 2
trigger1 = root, stateno != [3891, 3893]
add = 255, 255, 255
time = 10
ignorehitpause = 1
persistent = 0
pausemovetime = 9999

[State white fadeout]
type = BGPalFx
trigger1 = time = 10
trigger1 = var(42) = 2
trigger1 = root, stateno != [3891, 3893]
add = 255, 255, 255
sinadd = -255, -255, -255, 48
time = 12
ignorehitpause = 1
persistent = 0
pausemovetime = 9999

[State red fadeout]
type = BGPalFx
trigger1 = time = 0
trigger1 = var(42) = 3
trigger1 = root, stateno != [3891, 3893]
add = 312, -512, -512
time = 10
ignorehitpause = 1

[State red fadeout]
type = BGPalFx
trigger1 = time = 10
trigger1 = var(42) = 3
trigger1 = root, stateno != [3891, 3893]
add = 312, -512, -512
sinadd = -312, 512, 512, 48
time = 12
ignorehitpause = 1

[State silence]
type = assertspecial
trigger1 = time <= 42
trigger1 = var(42) = 3
trigger1 = root, stateno != [3891, 3893]
flag = nofg

[State effect]
type = Playsnd
trigger1 = time = 0
trigger1 = var(42) = 3
trigger1 = root, stateno != [3891, 3893]
value = 0, 13
persistent = 0
volume = 255
ignorehitpause = 1
abspan = 0

[State 6008]
type = destroyself
trigger1 = roundstate < 3


;==============================================================================================
[Statedef 5205]
type = A
physics = N
movetype = H

[State 5205, Anim]
type = changeanim
trigger1 = !animtime
trigger1 = anim=5035
value = 5050

[State 5205, Accel]
type = veladd
trigger1 = 1
y = gethitvar(yaccel)

[State 5205, Ground]
type= selfstate
trigger1= vel y > 0
trigger1= pos y >= const(movement.air.gethit.groundrecover.groundlevel)
value= 5200

[State Air]
type = SelfState
trigger1 = time >= 60
value = 5210


;============================================================================================== 
[Statedef 5200]
type = A
movetype = H
physics = N

[State Anim]
type = changeanim
trigger1 = anim = 5035 && !animtime
value = 5050

[State Vel]
type = veladd
trigger1 = 1
y = gethitvar(yaccel)

[State End]
type = SelfState
trigger1 = vel y > 0 && pos y >= -10
value = 5201


[Statedef 5201]
type = A
physics = N
movetype = I
anim = 5200
ctrl = 0
facep2 = 1
velset = 0, 0

[State Pos]
type = posset
trigger1 = time = 0
y = 0

[State Vel]
type = veladd
trigger1 = animelemtime(3) >= 0
y = 0.5

[State Vel]
type = velset
trigger1 = animelem = 3
x = -3
y = -4

[State Pos]
type = posadd
trigger1 = animelem = 2
x = ceil(-6 * const(size.xscale))

[State Pos]
type = posadd
trigger1 = animelem = 3
x = ceil(-16 * const(size.xscale))

[State Snd]
type = playsnd
trigger1 = !time
value = 1, 10
channel = 0

[State Flash]
type = palfx
trigger1 = !time
add = 255, 255, 255
sinadd = -255, -255, -255, 40
time = 10

[State Land Sound]
type = PlaySnd
trigger1 = time = 0
value = 0, 0

[State Dust]
type = explod
trigger1 = time = 0
anim = F60
pos = 0, 0

[State NHB]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State End]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y > -vel y
value = 5202
ctrl = 1


[Statedef 5202]
type = S
physics = S
movetype = I
anim = 47
ctrl = 1
velset = 0, 0

[State 5202, 2]
type = PosSet
trigger1 = time = 0
y = 0

[State 5202, 5]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1


;============================================================================================== 
[Statedef 5210]
type = A
movetype = I
physics = N
anim = 5210
ctrl = 0

[State Snd]
type = playsnd
trigger1 = !time
value = 1, 10
channel = 0

[State flash]
type = palfx
trigger1 = !time
add = 255, 255, 255
sinadd = -255, -255, -255, 40
time = 10

[State Accel]
type = veladd
trigger1 = 1
y = 0.6

[State Vel]
type = velset
trigger1 = !time
x = ifelse((command = "holdfwd" && command != "holdback"), 4, ifelse((command != "holdfwd" && command = "holdback"), -4, 0))
y = -7.55

[State Turn]
type = turn
trigger1 = !time
trigger1 = p2dist x < 0

[State NHB]
type = nothitby
trigger1 = time<14
value = SCA
time = 1

[State ctrl]
type = ctrlset
trigger1 = time >= 14
value = 1

[State Land]
type = changestate
trigger1 = vel y > 0
trigger1 = pos y > -vel y
value = 52


;==============================================================================================
[Statedef 5900]
type = S

[State 1]
type = VarRangeSet
trigger1 = roundsexisted = 0
value = 0

[State 2]
type = VarRangeSet
trigger1 = roundsexisted = 0
fvalue = 0

[State Defense Bonus]
type = varset
trigger1 = 1
var(44) = 0

[State 3]
type = RemapPal
trigger1 = 1
source = 1, 1
dest = 1, palno

[State 4]
type = ChangeState
trigger1 = roundno = 1
value = 190

[State 4]
type = changestate
trigger1 = !time && teammode = turns
trigger1 = roundsexisted = 0 && roundno >= 2
value = 190

[State 5]
type = ChangeState
trigger1 = 1
value = 0


;==============================================================================================
[Statedef -2]

[State -2, P2 Safe Fall]
type = targetstate
trigger1 = numtarget=1
trigger1 = target, command = "recovery"
trigger1 = target, gethitvar(fall.recover)
trigger1 = target, alive && target, hitfall
trigger1 = target, pos y >= -48 && target, vel y > 0
trigger1 = target, stateno = 5030 || target, stateno = 5035 || target, stateno = 5050 || target, stateno = 5071
value = 5205
ignorehitpause = 1

[State -2, Throws Disallowed]
type= varset
triggerall= numenemy
trigger1= enemynear, movetype != H
trigger1= enemynear, stateno != 140
trigger1= (enemynear, ctrl && enemynear, time >= 1) || (enemynear, time >= 8)
trigger2= enemynear, movetype = A
trigger3= (enemynear, stateno != [0, 52]) && (enemynear, stateno != [120, 155]) && (enemynear, stateno != [5000, 5120])
var(39)= 0

[State -2, Throws Disallowed]
type= varset
triggerall= numenemy
trigger1= enemynear, stateno = [150, 155]
trigger2= (enemynear, stateno = 51 || enemynear, stateno = 140) && (enemynear, prevstateno = [150, 155])
trigger3= enemynear, movetype = H && enemynear, statetype != A && var(10) <= 0
trigger4= enemynear, stateno = 40 && enemynear, prevstateno != 52 && (enemynear, anim != [0, 29])
var(39)= 1
ignorehitpause= 1

[State Tech]
type = varadd
trigger1 = var(27)>0
var(27) = -1

[State -2, Stance Type]
type = varset
trigger1 = (stateno!=[0, 12]) && stateno!=52
fvar(33) = 0

[State -2, Stance Type]
type = varset
triggerall = stateno!=52
trigger1 = stateno = 11 && time>=30
trigger2 = stateno = 20 && vel x < 0
trigger3 = stateno = 107
fvar(33) = 1

[State -2, Fire]
type = Explod
trigger1 = numenemy
trigger1 = numexplod(2500) > 0
anim = ifelse(random>500, 12213, 12214)
id = 12213
postype = p2
pos = -10, -40
ignorehitpause = 1
random = 50, 40
sprpriority = 2
ownpal = 1
vel = -(enemy, vel x), ifelse(random>500, -4, -5)
scale = 0.1, 0.75
accel = 0, ifelse(random>500, -0.4, -0.5)

[State -2, Fire]
type = Explod
triggerall = random <= 299
trigger1 = numenemy
trigger1 = numexplod(2500) > 0
anim = 12212
id = 12213
postype = p2
pos = -10, -40
ignorehitpause = 1
random = 50, 40
sprpriority = 2
ownpal = 1
vel = -(enemy, vel x), ifelse(random>500, -4, -5)
scale = 1, 0.2
accel = 0, ifelse(random>500, -0.4, -0.5)

[State -2, Var(33) AI Differentiate air combos]
type = Varset
trigger1 = stateno = 50 && vel x = 0
v = 33
value = 1

[State -2, Var(33)reset AI Differentiate air combos Cummulative problems cautionary action]
type = Varset
trigger1 = stateno = 1852 && animtime = 0
v = 33
value = 0

[State -2, Removeburstknuckle]
type = RemoveExplod
trigger1 = stateno != 4020 && stateno != 4043 && stateno != 11063
id = 100

[State Remove Fist Fire 4]
type = RemoveExplod
trigger1 = stateno != 1710 && stateno != 3460 && stateno != 3470
id = 2603

[State -2, Stop Intro music]
type = StopSnd
trigger1 = roundstate = 2
channel = 2

[State -2, time allow for dragon punch extra]
type = VarAdd 
trigger1 = Var(34) > 0
var(34) = -1 

[State -2, CountDown]
type = VarAdd 
trigger1 = Var(11) > 0
var(11) = -1 
ignorehitpause = 1

[State CC Power]
type = poweradd
trigger1 = (gametime%2) = 1
trigger1 = var(10) > 0
trigger2 = var(10) = 1
ignorehitpause = 1
value = -15

[State -2, afterimages]
type = Afterimagetime
trigger1 = var(10) > 0
trigger1 = power = 0
time = 0

[State -2, CC Timer]
type = VarAdd 
trigger1 = Var(10) >= 1
var(10) = -1 
ignorehitpause = 1

[State -2, VarSet]
type = poweradd
trigger1 = movetype = H
trigger1 = var(10) > 0
value = -1500

[State -2, VarSet]
type = poweradd
trigger1 = var(28) > 0
trigger1 = var(10) > 0
value = -3000

[State -2, VarSet]
type = VarSet
trigger1 = var(28) > 0
trigger1 = var(10) > 0
var(29) = 1

[State -2, VarSet]
type = VarSet
trigger1 = var(28) = 0
var(29) = 0

[State -2, VarSet]
type = VarSet
trigger1 = movetype = H
var(10) = 0

[State -2, VarSet]
type = VarSet
trigger1 = movetype = H
var(28) = 0

[State -2, VarSet]
type = VarSet
trigger1 = var(10) >= 1
trigger1 = power <= 0
var(10) = 0

[State -2, Juggling for Rage Burst]
type = AssertSpecial
trigger1 = var(10) >= 1
trigger2 = roundstate >= 3
flag = nojugglecheck

[State -2, no blocking]
type = Assertspecial
trigger1 = var(10) >= 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = noairguard

[State CC PalFX]
type = palfx
trigger1 = var(10) >= 1
time = 2
add = floor(80 / (power / 600.0 + 1)) + ceil(sin(gametime / 16.0*pi) * 20), 10 + ceil(sin(gametime / 16.0*pi) * 20), 10 + ceil(sin(gametime / 16.0*pi) * 20)
ignorehitpause = 1

[State -2, shadowrem]
type = afterimagetime
trigger1 = movetype = H
time = 0

[State -2, Hitcount]
type = varadd
trigger1 = MoveHit=1
trigger2 = ProjHit2000 = 1 && Numtarget
trigger2 = ((Target, GetHitVar(hitcount)) % 3) = 1
var(17) = 1

[State -2, Hitcount Reset]
type = varset
trigger1 = numenemy && var(17)
trigger1 = (enemynear, movetype != H) && (enemynear, anim != [5300, 5301])
trigger1 = (stateno != 1700 || prevstateno != 2100) && stateno != 1710
trigger1 = (stateno != 1840 || prevstateno != 2200) && stateno != 1842
trigger1 = stateno != 1852 || prevstateno != 2210
trigger1 = stateno != 1870 || prevstateno != 2211
var(17) = 0
ignorehitpause = 1

[State -2, Damage Scaling - Normal]
type = varset
trigger1 = 1
fvar(10) = ifelse(var(17) >= 28, 4, ifelse(var(17) <= 0, 32, 32 - var(17))) / 32.0
ignorehitpause = 1

[State -2, Damage Scaling - Custom Combo]
type = varset
trigger1 = var(10) >= 1
fvar(10) = 0.75 * ifelse(var(17) >= 28, 4, ifelse(var(17) <= 0, 32, 32 - var(17))) / 32.0
ignorehitpause = 1

[State -2, Damage Scaling Limit]
type = varset
trigger1 = fvar(10) < 0
fvar(10) = 0
ignorehitpause = 1

[State -2, Damage Scaling - Root Multiplier]
type = attackmulset
trigger1 = 1
value = fvar(10)
ignorehitpause = 1

[State -2, Defense Bonus]
type = DefenceMulSet
trigger1 = var(44) >= 1
value = ifelse(var(44) >= 3, 0.85, ifelse(var(44) = 2, 0.90, 0.95))

[State KO Screen 1]
type = helper
trigger1 = winko
trigger1 = numhelper(9999) = 0
helpertype = normal
name = "lookatdaflashyfxduhh..."
id = 9999
pos = 0, 0
bindtime = -1
postype = left
stateno = 9999
keyctrl = 0
ignorehitpause = 1
ownpal = 1
pausemovetime = 9999
supermovetime = 9999

[State -2, Vega Flag]
type=varset
trigger1= 1
fvar(34)=0
ignorehitpause=1

[State -2, Vega Flag]
type=varset
triggerall= numenemy
trigger1= enemynear,name="Vega" && enemynear,authorname="Phantom.of.the.Server"
trigger2= enemynear,name="Cammy" && enemynear,authorname="Phantom.of.the.Server" && enemynear,numhelper(6100)
trigger3= enemynear,name="Shin Gouki" && enemynear,authorname="Phantom.of.the.Server" && enemynear,numhelper(6100)
trigger4= enemynear,name="cvsgouki" && enemynear,authorname="Warusaki3" && (enemynear,numhelper(7804) || enemynear,numhelper(7805))
trigger5= enemynear,name="cvsjuni" && enemynear,authorname="Warusaki3" && enemynear,numhelper(7500)
trigger6= enemynear,name="cvsvega" && (enemynear,authorname="Warusaki3" || enemynear,authorname="Gargoyle")
trigger7= enemynear,name="M.Bison" && enemynear,authorname="N-Mario"
trigger8= enemynear,name="M. Bison" && enemynear,authorname="VK, Updated by Terry Kuo, adapted by Tenebrous"
trigger9= enemynear,name="CvSBison" && enemynear,authorname="Team Kai (Saiai and Koga)"
fvar(34)=1
ignorehitpause=1

[State -2, Vega Flag]
type=varset
triggerall= numenemy>=2
trigger1= enemynear(1),name="Vega" && enemynear(1),authorname="Phantom.of.the.Server"
trigger2= enemynear(1),name="Cammy" && enemynear(1),authorname="Phantom.of.the.Server" && enemynear(1),numhelper(6100)
trigger3= enemynear(1),name="Shin Gouki" && enemynear(1),authorname="Phantom.of.the.Server" && enemynear(1),numhelper(6100)
trigger4= enemynear(1),name="cvsgouki" && enemynear(1),authorname="Warusaki3" && (enemynear(1),numhelper(7804) || enemynear(1),numhelper(7805))
trigger5= enemynear(1),name="cvsjuni" && enemynear(1),authorname="Warusaki3" && enemynear(1),numhelper(7500)
trigger6= enemynear(1),name="cvsvega" && (enemynear(1),authorname="Warusaki3" || enemynear(1),authorname="Gargoyle")
trigger7= enemynear(1),name="M.Bison" && enemynear(1),authorname="N-Mario"
trigger8= enemynear(1),name="M. Bison" && enemynear(1),authorname="VK, Updated by Terry Kuo, adapted by Tenebrous"
trigger9= enemynear(1),name="CvSBison" && enemynear(1),authorname="Team Kai (Saiai and Koga)"
fvar(34)=1
ignorehitpause=1

[State -2, Vega Flag]
type=varset
triggerall= numpartner
trigger1= partner,name="Vega" && partner,authorname="Phantom.of.the.Server"
trigger2= partner,name="Cammy" && partner,authorname="Phantom.of.the.Server" && partner,numhelper(6100)
trigger3= partner,name="Shin Gouki" && partner,authorname="Phantom.of.the.Server" && partner,numhelper(6100)
trigger4= partner,name="cvsgouki" && partner,authorname="Warusaki3" && (partner,numhelper(7804) || partner,numhelper(7805))
trigger5= partner,name="cvsjuni" && partner,authorname="Warusaki3" && partner,numhelper(7500)
trigger6= partner,name="cvsvega" && (partner,authorname="Warusaki3" || partner,authorname="Gargoyle")
trigger7= partner,name="M.Bison" && partner,authorname="N-Mario"
trigger8= partner,name="M. Bison" && partner,authorname="VK, Updated by Terry Kuo, adapted by Tenebrous"
trigger9= partner,name="CvSBison" && partner,authorname="Team Kai (Saiai and Koga)"
fvar(34)=2
ignorehitpause=1

[State -2, Debug]
type = DisplaytoClipboard
trigger1= 1
text = "Attack = %f  Defense = %f  AI Throttle = %f"
params = fvar(10), ifelse(var(44) >= 3, 0.85, ifelse(var(44) = 2, 0.90, ifelse(var(44) = 1, 0.95, 1.00))), (AIlevel ** 2 / 64.0)
ignorehitpause = 1

[State -2, Debug]
type = appendtoclipboard
trigger1 = 1
text= "\nhttp://www.reubenkee.com/"
ignorehitpause = 1


;==============================================================================================
[Statedef -3]

[State -3, P2 Facing]
type= targetfacing
trigger1= movecontact = 1 && numtarget = 1
trigger1= !(target, Hitshakeover) && !(target, Hitfall) && (target, time <= 1)
value= ifelse(p2dist x >= 0, -1, 1)
ignorehitpause = 1

[State -3, Underground Juggle Prevention]
type = targetbind
trigger1 = movecontact = 1
trigger1 = numtarget && numenemy
trigger1 = (target, time = 0) && (target, ID = enemynear, ID)
trigger1 = !(target, hitshakeover) && (target, pos y > 0)
pos = ceil(p2dist x), ceil(-pos y)
ignorehitpause = 1

[State -3, lightpain]
type = playsnd
triggerall = random < 400
triggerall = time = 1
triggerall = alive = 1
trigger1 = stateno = 5000 && anim = 5000
trigger2 = stateno = 5000 && anim = 5010
trigger3 = stateno = 5010 && anim = 5020
trigger4 = stateno = 5020 && anim = 5000
trigger5 = stateno = 5020 && anim = 5010
value = 10, ifelse(random>500, 1, 4)
volume = 75
channel = 0

[State -3, midpain]
type = playsnd
triggerall = random < 400
triggerall = time = 1
triggerall = alive = 1
trigger1 = stateno = 5000 && anim = 5001
trigger2 = stateno = 5000 && anim = 5011
trigger3 = stateno = 5010 && anim = 5021
trigger4 = stateno = 5020 && anim = 5001
trigger5 = stateno = 5020 && anim = 5011
value = 10, ifelse(random>500, 2, 4)
volume = 75
channel = 0

[State -3, heavypain]
type = playsnd
triggerall = random < 400
triggerall = time = 1
trigger1 = stateno = 5000 && anim = 5002
trigger2 = stateno = 5000 && anim = 5012
trigger3 = stateno = 5010 && anim = 5022
trigger4 = stateno = 5020 && anim = 5002
trigger5 = stateno = 5020 && anim = 5012
trigger6 = stateno = 5070
trigger7 = stateno = 5080
value = 10, 3
volume = 75
channel = 0

[State 1]
type = Playerpush
trigger1 = winko
value = 0
ignorehitpause = 1
