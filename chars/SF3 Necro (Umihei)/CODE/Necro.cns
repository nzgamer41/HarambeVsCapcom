;var(0) = SAゲージ表示仕様
;var(1) = 投げ不能時間
;var(2) = グラップ判定
;var(3) = 削減値
;var(4) = ブロ方向（0 = 立ち, 1 = 両方, 2 = しゃがみ）
;var(5) = 落下判定
;var(6) = GetHitVar(Damage)
;var(7) = GetHitVar(HitShakeTime)
;var(8) = GetHitVar(HitTime)
;var(9) = Life と GetHitVar(Damage) の比較
;var(10) = Hitした持続フレーム
;var(11) = 追い討ち制限時間
;var(12) = 未使用
;var(13) = 弱中強の区別
;var(14) = ジャンプとハイジャンプの区別
;var(15) = モードの区別
;var(16) = スタンゲージの長さ
;var(17) = スーパーアーツの選択
;var(18) = スタン値の保存（私のキャラ同士の時）
;var(19) = 先行入力用
;var(20) = スタン時間（敵用）
;var(21) = スタン時間（自分用）
;var(22) = MoveType = H であるかの判定
;var(23) = 未使用
;var(24) = 未使用
;var(25) = 未使用
;var(26) = AIレベル
;var(27) = 体力最大値
;var(28) = QS判定
;var(29) = 連続技補正
;var(30) = 特殊ダウン判定
;var(31) = 連打キャンセル（AI用）
;var(32) = 画面端ヒットバック
;var(33) = Blocking
;var(34) = Blocking
;var(35) = Blocking
;var(36) = Blocking
;var(37) = 未使用
;var(38) = SAチャージ音
;var(39) = 未使用
;var(40) = 未使用
;var(41) = 未使用
;var(42) = 未使用
;var(43) = 未使用
;var(44) = 未使用
;var(45) = スタン値の保存（私のキャラ同士の時 飛び道具用1）
;var(46) = スタン値の保存（私のキャラ同士の時 飛び道具用2）
;var(47) = スタン値の保存（私のキャラ同士の時 飛び道具用3）
;var(48) = 未使用
;var(49) = 未使用
;var(50) = 体力回復用
;var(51) = 未使用
;var(52) = 未使用
;var(53) = 未使用
;var(54) = 未使用
;var(55) = 未使用
;var(56) = 未使用
;var(57) = 未使用
;var(58) = 未使用
;var(59) = AI判定

;fvar(0) = 未使用
;fvar(1) = 未使用
;fvar(2) = 未使用
;fvar(3) = 未使用
;fvar(4) = 未使用
;fvar(5) = 未使用
;fvar(6) = 未使用
;fvar(7) = 未使用
;fvar(8) = 強トルネードフックHIT回数
;fvar(9) = 未使用
;fvar(10) = 電刃波動拳
;fvar(11) = スタン値の蓄積（自分用）
;fvar(12) = スタン値の蓄積（敵用）
;fvar(13) = 未使用
;fvar(14) = 未使用
;fvar(15) = 未使用
;fvar(16) = 未使用
;fvar(17) = 未使用
;fvar(18) = AI用
;fvar(19) = 未使用
;fvar(20) = 未使用
;fvar(21) = 未使用
;fvar(22) = 未使用
;fvar(23) = 未使用
;fvar(24) = PA効果
;fvar(25) = 電磁ブラスト連打判定
;fvar(26) = 電磁ブラスト繰り返し回数
;fvar(27) = 電磁ブラストHIT回数
;fvar(28) = 電磁ブラストGUARD回数
;fvar(29) = 未使用
;fvar(30) = 未使用
;fvar(31) = 未使用
;fvar(32) = 未使用
;fvar(33) = 未使用
;fvar(34) = 未使用
;fvar(35) = 未使用
;fvar(36) = 未使用
;fvar(37) = 未使用
;fvar(38) = 未使用
;fvar(39) = 未使用

;-------------------------------------------------------------------
[Data]
life = 1070
power = 3000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 108
sparkno = 8999
guard.sparkno = 8999
KO.echo = 0
volume = 255
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = 0.99
yscale = 1.01
ground.back = 20
ground.front = 20
air.back = 20
air.front = 20
height = 50
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = -5, -90   ;Approximate position of head
mid.pos = -5, -60    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 1.8
walk.back = -1.8
run.fwd  = 7.1,-3    ;Run forward (x, y) x+2
run.back = -8.3,-4.0 ;Hop backward (x, y) x+2
jump.neu = 0,-10     ;Neutral jumping velocity (x, y)
jump.back = -3.15    ;Jump back Speed (x, y)
jump.fwd = 3.1       ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55      ;Air jump speeds (opt)
airjump.fwd = 2.5         ;.

[Movement]
airjump.num = 0      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .3      ;Vertical acceleration
stand.friction = .8
crouch.friction = .8

;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...

;---------------------------------------------------------------------------
;Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0
movetype = I

[State 0, 1]
type = ChangeAnim
trigger1 = Anim != 0 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 0

[State 0]
type = VelSet
trigger1 = Time = 0
Y = 0

[State 0]
type = VelSet
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
X = 0

[State 0]
type = ChangeState
trigger1 = !alive
value = 5050

;---------------------------------------------------------------------------
[Statedef 10]
type = C
physics = C
anim = 10

[State 10, 1]
type = VelMul
trigger1 = Time = 0
x = .75

[State 10, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 11

;---------------------------------------------------------------------------
[Statedef 11]
type    = C
physics = C
anim = 11
sprpriority = 0

[State 11, 1] ;Change from turning animation
type = ChangeAnim
trigger1 = Anim = 6 && AnimTime = 0
value = 11

;---------------------------------------------------------------------------
[Statedef 12]
type    = S
physics = S
anim = 12

[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
[Statedef 13]
type = C
physics = C
anim = 10
ctrl = 0

[State 10, 1]
type = VelMul
trigger1 = Time = 0
x = .75

[State 10, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 14

;---------------------------------------------------------------------------
[Statedef 14]
type = C
physics = C
anim = 11
sprpriority = 0
ctrl = 0

[State 11, 1]
type = ChangeState
trigger1 = RoundState > 2
value = 15

;---------------------------------------------------------------------------
[Statedef 15]
type = S
physics = S
anim = 12
ctrl = 0

[State 12, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Walk
[Statedef 20]
type = S
physics = S
sprpriority = 0

[State 20]
type = VelSet
trigger1 = command = "holdfwd"
x = const(velocity.walk.fwd.x)

[State 20]
type = VelSet
trigger1 = command = "holdback"
x = const(velocity.walk.back.x)

[State 20]
type = ChangeAnim
triggerall = vel x > 0
trigger1 = Anim != 20; && Anim != 5
;trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 20]
type = ChangeAnim
triggerall = vel x < 0
trigger1 = Anim != 21; && Anim != 5
;trigger2 = Anim = 5 && AnimTime = 0
value = 21

;---------------------------------------------------------------------------
;Walk(AI)
[Statedef 25]
type = S
physics = N
sprpriority = 0
anim = 20
ctrl = 0

[State 20]
type = VelSet
trigger1 = time = 0
x = const(velocity.walk.fwd.x)

[State 20]
type = ChangeState
trigger1 = RoundState > 2
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Walk(AI)
[Statedef 26]
type = S
physics = N
ctrl = 0
sprpriority = 0
anim = 21

[State 20]
type = VelSet
trigger1 = time = 0
x = const(velocity.walk.back.x)

[State 20]
type = ChangeState
trigger1 = RoundState > 2
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Jump Start
[Statedef 40]
type = S
physics = S
anim = 40
ctrl = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
var(14) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
X = ifelse(sysvar(1) = 0, const(velocity.jump.neu.x), ifelse(sysvar(1) = 1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
Y = Const(Movement.YAccel) * ifelse(sysvar(1) = 0, -20.25, ifelse(sysvar(1) = 1, -20.75, -20.25))

[State 52, 2]
type = PlaySnd
trigger1 = AnimTime = 0
value = 40, 0

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Jump Start (AI)
[Statedef 41]
type = S
physics = S
anim = 40
ctrl = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
var(14) = 0

[State 40, 2]
type = VarSet
triggerall = P2BodyDist X >= 60
triggerall = P2BodyDist X < 120
trigger1 = P2StateType = S
trigger2 = P2StateType = C
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = P2BodyDist X < 60
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
X = ifelse(sysvar(1) = 0, const(velocity.jump.neu.x), ifelse(sysvar(1) = 1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
Y = Const(Movement.YAccel) * ifelse(sysvar(1) = 0, -20.25, ifelse(sysvar(1) = 1, -20.75, -20.25))

[State 52, 2]
type = PlaySnd
trigger1 = AnimTime = 0
value = 40, 0

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Jump Up
[Statedef 50]
type = A
physics = N

[State 1300, widt]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 1300, widt]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 50, 1]
type = Gravity
trigger1 = time > 0

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = 41 + (Vel X > 0) + 2 * (Vel X < 0)

[State 50, 3]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52
ctrl = 1

;---------------------------------------------------------------------------
;Jump Land
[Statedef 52]
type = S
physics = S
ctrl = 1
velset = 0, 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
Y = 0

[State 52, 2]
type = PlaySnd
trigger1 = Time = 0
value = 52, 0

[State 52, 2]
type = ChangeAnim
trigger1 = Time = 0
value = 47 + (P2Dist X < 0)

[State 52, 2]
type = Turn
trigger1 = Time = 0
trigger1 = P2Dist X < 0

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;High Jump Start
[Statedef 60]
type = S
physics = S
anim = 60
ctrl = 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
var(14) = 1

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
sysvar(1) = -1

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
X = ifelse(sysvar(1) = 0, const(velocity.jump.neu.x), ifelse(sysvar(1) = 1, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))*1.2
Y = Const(Movement.YAccel) * (-25.75)

[State 52, 2]
type = PlaySnd
trigger1 = AnimTime = 0
value = 40, 0

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 70
ctrl = 1

;---------------------------------------------------------------------------
;High Jump Up
[Statedef 70]
type = A
physics = N

[State 1300, widt]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 1300, widt]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 50, 1]
type = Gravity
trigger1 = time > 0

[State 50, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0

[State 50, 2]
type = ChangeAnim
trigger1 = Time = 0
value = 61 + (Vel X > 0) + 2 * (Vel X < 0)

[State 50, 3]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 72

;---------------------------------------------------------------------------
;High Jump Land
[Statedef 72]
type = S
physics = S
ctrl = 0
velset = 0, 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
Y = 0

[State 52, 2]
type = PlaySnd
trigger1 = Time = 0
value = 52, 0

[State 52, 2]
type = ChangeAnim
trigger1 = Time = 0
value = 47 + (P2Dist X < 0)

[State 52, 2]
type = Turn
trigger1 = Time = 0
trigger1 = P2Dist X < 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
var(14) = 0

[State 52, 4]
type = CtrlSet
trigger1 = Time = 2
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Front Step
[Statedef 100]
type = S
physics = S
ctrl = 0
anim = 100
velset = 0, 0

[state 100, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 101

;---------------------------------------------------------------------------
[Statedef 101]
type = S
physics = N
ctrl = 0
anim = 101

[State 101, 5]
type = PlaySnd
trigger1 = Time = 0
value = 100, 0

[State 101, 5]
type = VelAdd
trigger1 = Time = 0
X = 6
Y = Const(Movement.YAccel) * (-7.25)

[State 101, 5]
type = Gravity
trigger1 = Time > 0

[State 101, 5]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 102

;---------------------------------------------------------------------------
[Statedef 102]
type = S
physics = S
ctrl = 0
anim = 102
velset = 0, 0

[State 101, 5]
type = PosSet
trigger1 = Time = 0
Y = 0

[State 101, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 103
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 103]
type = S
physics = S
ctrl = 1
anim = 103

[State 101, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Back Step
[Statedef 105]
type = S
physics = S
ctrl = 0
anim = 105
velset = 0, 0

[state 100, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 106

;---------------------------------------------------------------------------
[Statedef 106]
type = S
physics = N
ctrl = 0
anim = 106

[State 101, 5]
type = PlaySnd
trigger1 = Time = 0
value = 100, 0

[State 101, 5]
type = VelAdd
trigger1 = Time = 0
X = -6
Y = Const(Movement.YAccel) * (-6.25)

[State 101, 5]
type = Gravity
trigger1 = Time > 0

[State 101, 5]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 107

;---------------------------------------------------------------------------
[Statedef 107]
type = S
physics = S
ctrl = 0
anim = 107
velset = 0, 0

[State 101, 5]
type = PosSet
trigger1 = Time = 0
Y = 0

[State 101, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 108
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 108]
type = S
physics = S
ctrl = 1
anim = 108

[State 101, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; GUARD (start)
[Statedef 120]
type = U
physics = U

[State 120, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 120 + (statetype = C) + (statetype = A) * 2

[State 120, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 120, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 120, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 130 + (statetype = C) + (statetype = A) * 2

[State 120, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; STAND GUARD (guarding)
[Statedef 130]
type = S
physics = S

[State 5120, 7]
type = Turn
trigger1 = Time = 0
trigger1 = P2Dist X < 0

[State 130, 1]
type = ChangeAnim
trigger1 = Anim != 130
value = 130

[State 130, Hi to Lo]
type = ChangeState
trigger1 = command = "holddown"
value = 131

[State 130, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; CROUCH GUARD (guarding)
[Statedef 131]
type = C
physics = C

[State 5120, 7]
type = Turn
trigger1 = Time = 0
trigger1 = P2Dist X < 0

[State 131, 1]
type = ChangeAnim
trigger1 = Anim != 131
value = 131

[State 131, Lo to Hi]
type = ChangeState
trigger1 = command != "holddown"
value = 130

[State 131, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; AIR GUARD (guarding)
[Statedef 132]
type = A
physics = N

[State 132, 1]
type = ChangeAnim
trigger1 = Anim != 132
value = 132

[State 132, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 132, 3]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 132, 4]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 132, 5]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 132, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 132, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

[State 132, Stop Guarding]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = !inguarddist
value = 140

;---------------------------------------------------------------------------
; GUARD (end)
[Statedef 140]
type = U
physics = U
ctrl = 1

[State 140, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 140 + (statetype = C) + (statetype = A) * 2

[State 140, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 140, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 140, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 140, Hi to Lo]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 140, Lo to Hi]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

;[State 140, 5] ;Implemented within engine
;type = ChangeState
;trigger1 = AnimTime = 0
;value = (statetype = C)*11 + (statetype = A)*51

;---------------------------------------------------------------------------
; SGUARDHIT (shaking)
[Statedef 150]
type = S
movetype = H
physics = N
velset = 0, 0
anim = 150

[State 150]
type = VarSet
trigger1 = time = 0
var(7) = GetHitVar(HitShakeTime)

[State 150]
type = VarAdd
trigger1 = time > 0
var(7) = -1

[State 150]
type = VarSet
trigger1 = time = 0
var(8) = GetHitVar(CtrlTime)

;------------------------------ガードブロッキング------------------------------
;地上基本技を前ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 0
stateno = 3005
attr = S, NA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [0, 1]
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 0
StateNo = 3005
attr = SC, NA
time = 1

;------------------------------------
;地上必殺技（飛び道具除く）を前ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 1
stateno = 3005
attr = S, SA, HA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [0, 1]
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 1
StateNo = 3005
attr = SC, SA, HA
time = 1

;------------------------------------
;地上基本技を下ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(35) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 2
stateno = 3025
attr = C, NA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [1, 2]
trigger1 = var(35) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 2
StateNo = 3025
attr = SC, NA
time = 1

;------------------------------------
;地上必殺技（飛び道具除く）を下ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 3
stateno = 3025
attr = C, SA, HA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [1, 2]
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 3
StateNo = 3025
attr = SC, SA, HA
time = 1

;------------------------------------
;空中基本技を前ブロ
[State -2, Blocking-3]
type = HitOverride
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 4
stateno = 3005
attr = A, NA
time = 1

;------------------------------------
;空中必殺技（飛び道具除く）を前ブロ
[State -2, Blocking-3]
type = HitOverride
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 5
stateno = 3005
attr = A, SA, HA
time = 1

;------------------------------------
;空中・上段飛び道具を前ブロ
[State -2, Blocking]
type = HitOverride
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 6
stateno = 3005
attr = SA, AP
time = 1

;------------------------------------
;下段飛び道具を下ブロ
[State -2, Blocking]
type = HitOverride
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 7
stateno = 3025
attr = C, AP
time = 1

;------------------------------------
[State 150]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 150]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 150]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = command = "holdup"
trigger3 = command = "holddown"
value = 160

[State 152]
type = HitVelSet
trigger1 = var(7) <= 0
X = 1

[State 150]
type = ChangeState
trigger1 = var(7) <= 0
value = 151 + 2 * (command = "holddown")

;---------------------------------------------------------------------------
; SGUARDHIT2 (knocked back)
[Statedef 151]
type = S
movetype = H
physics = S
anim = 151

[State 151]
type = VarAdd
trigger1 = time > 0
var(8) = -1

;------------------------------ガードブロッキング------------------------------
;地上基本技を前ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 0
stateno = 3005
attr = S, NA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [0, 1]
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 0
StateNo = 3005
attr = SC, NA
time = 1

;------------------------------------
;地上必殺技（飛び道具除く）を前ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 1
stateno = 3005
attr = S, SA, HA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [0, 1]
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 1
StateNo = 3005
attr = SC, SA, HA
time = 1

;------------------------------------
;地上基本技を下ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(35) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 2
stateno = 3025
attr = C, NA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [1, 2]
trigger1 = var(35) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 2
StateNo = 3025
attr = SC, NA
time = 1

;------------------------------------
;地上必殺技（飛び道具除く）を下ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 3
stateno = 3025
attr = C, SA, HA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [1, 2]
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 3
StateNo = 3025
attr = SC, SA, HA
time = 1

;------------------------------------
;空中基本技を前ブロ
[State -2, Blocking-3]
type = HitOverride
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 4
stateno = 3005
attr = A, NA
time = 1

;------------------------------------
;空中必殺技（飛び道具除く）を前ブロ
[State -2, Blocking-3]
type = HitOverride
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 5
stateno = 3005
attr = A, SA, HA
time = 1

;------------------------------------
;空中・上段飛び道具を前ブロ
[State -2, Blocking]
type = HitOverride
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 6
stateno = 3005
attr = SA, AP
time = 1

;------------------------------------
;下段飛び道具を下ブロ
[State -2, Blocking]
type = HitOverride
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 7
stateno = 3025
attr = C, AP
time = 1

;------------------------------------
[State 151]
type = VelSet
trigger1 = var(8) <= 0
x = 0

[State 151]
type = CtrlSet
trigger1 = var(8) <= 0
value = 1

[State 151]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 151]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 151]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = command = "holdup"
trigger3 = command = "holddown"
value = 161

[State 151]
type = ChangeState
trigger1 = var(8) <= 0
value = 130
ctrl = 1

;---------------------------------------------------------------------------
; CGUARDHIT (shaking)
[Statedef 152]
type = C
movetype = H
physics = N
velset = 0, 0
anim = 152

[State 152]
type = VarSet
trigger1 = time = 0
var(7) = GetHitVar(HitShakeTime)

[State 152]
type = VarAdd
trigger1 = time > 0
var(7) = -1

[State 152]
type = VarSet
trigger1 = time = 0
var(8) = GetHitVar(CtrlTime)

;------------------------------ガードブロッキング------------------------------
;地上基本技を前ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 0
stateno = 3005
attr = S, NA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [0, 1]
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 0
StateNo = 3005
attr = SC, NA
time = 1

;------------------------------------
;地上必殺技（飛び道具除く）を前ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 1
stateno = 3005
attr = S, SA, HA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [0, 1]
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 1
StateNo = 3005
attr = SC, SA, HA
time = 1

;------------------------------------
;地上基本技を下ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(35) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 2
stateno = 3025
attr = C, NA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [1, 2]
trigger1 = var(35) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 2
StateNo = 3025
attr = SC, NA
time = 1

;------------------------------------
;地上必殺技（飛び道具除く）を下ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 3
stateno = 3025
attr = C, SA, HA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [1, 2]
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 3
StateNo = 3025
attr = SC, SA, HA
time = 1

;------------------------------------
;空中基本技を前ブロ
[State -2, Blocking-3]
type = HitOverride
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 4
stateno = 3005
attr = A, NA
time = 1

;------------------------------------
;空中必殺技（飛び道具除く）を前ブロ
[State -2, Blocking-3]
type = HitOverride
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 5
stateno = 3005
attr = A, SA, HA
time = 1

;------------------------------------
;空中・上段飛び道具を前ブロ
[State -2, Blocking]
type = HitOverride
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 6
stateno = 3005
attr = SA, AP
time = 1

;------------------------------------
;下段飛び道具を下ブロ
[State -2, Blocking]
type = HitOverride
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 7
stateno = 3025
attr = C, AP
time = 1

;------------------------------------
[State 152]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = command != "holddown"
value = 162

[State 152]
type = HitVelSet
trigger1 = var(7) <= 0
X = 1

[State 152]
type = ChangeState
trigger1 = var(7) <= 0
value = 151 + 2 * (command = "holddown")

[State 152]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 152]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

;---------------------------------------------------------------------------
; CGUARDHIT2 (knocked back)
[Statedef 153]
type = C
movetype = H
physics = C
anim = 153

[State 151]
type = VarAdd
trigger1 = time > 0
var(8) = -1

;------------------------------ガードブロッキング------------------------------
;地上基本技を前ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 0
stateno = 3005
attr = S, NA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [0, 1]
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 0
StateNo = 3005
attr = SC, NA
time = 1

;------------------------------------
;地上必殺技（飛び道具除く）を前ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 1
stateno = 3005
attr = S, SA, HA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [0, 1]
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 1
StateNo = 3005
attr = SC, SA, HA
time = 1

;------------------------------------
;地上基本技を下ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(35) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 2
stateno = 3025
attr = C, NA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [1, 2]
trigger1 = var(35) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 2
StateNo = 3025
attr = SC, NA
time = 1

;------------------------------------
;地上必殺技（飛び道具除く）を下ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 3
stateno = 3025
attr = C, SA, HA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [1, 2]
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 3
StateNo = 3025
attr = SC, SA, HA
time = 1

;------------------------------------
;空中基本技を前ブロ
[State -2, Blocking-3]
type = HitOverride
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 4
stateno = 3005
attr = A, NA
time = 1

;------------------------------------
;空中必殺技（飛び道具除く）を前ブロ
[State -2, Blocking-3]
type = HitOverride
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 5
stateno = 3005
attr = A, SA, HA
time = 1

;------------------------------------
;空中・上段飛び道具を前ブロ
[State -2, Blocking]
type = HitOverride
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 6
stateno = 3005
attr = SA, AP
time = 1

;------------------------------------
;下段飛び道具を下ブロ
[State -2, Blocking]
type = HitOverride
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 7
stateno = 3025
attr = C, AP
time = 1

;------------------------------------
[State 151]
type = VelSet
trigger1 = var(8) <= 0
x = 0

[State 151]
type = CtrlSet
trigger1 = var(8) <= 0
value = 1

[State 151]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 151]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 151]
type = ChangeState
trigger1 = command != "holdback"
trigger2 = command != "holddown"
value = 163

[State 151]
type = ChangeState
trigger1 = var(8) <= 0
value = 130
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 160]
type = S
movetype = H
physics = N
velset = 0, 0

[State 151]
type = VarAdd
trigger1 = time > 0
var(7) = -1

;------------------------------ガードブロッキング------------------------------
;地上基本技を前ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 0
stateno = 3005
attr = S, NA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [0, 1]
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 0
StateNo = 3005
attr = SC, NA
time = 1

;------------------------------------
;地上必殺技（飛び道具除く）を前ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 1
stateno = 3005
attr = S, SA, HA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [0, 1]
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 1
StateNo = 3005
attr = SC, SA, HA
time = 1

;------------------------------------
;地上基本技を下ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(35) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 2
stateno = 3025
attr = C, NA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [1, 2]
trigger1 = var(35) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 2
StateNo = 3025
attr = SC, NA
time = 1

;------------------------------------
;地上必殺技（飛び道具除く）を下ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 3
stateno = 3025
attr = C, SA, HA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [1, 2]
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 3
StateNo = 3025
attr = SC, SA, HA
time = 1

;------------------------------------
;空中基本技を前ブロ
[State -2, Blocking-3]
type = HitOverride
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 4
stateno = 3005
attr = A, NA
time = 1

;------------------------------------
;空中必殺技（飛び道具除く）を前ブロ
[State -2, Blocking-3]
type = HitOverride
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 5
stateno = 3005
attr = A, SA, HA
time = 1

;------------------------------------
;空中・上段飛び道具を前ブロ
[State -2, Blocking]
type = HitOverride
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 6
stateno = 3005
attr = SA, AP
time = 1

;------------------------------------
;下段飛び道具を下ブロ
[State -2, Blocking]
type = HitOverride
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 7
stateno = 3025
attr = C, AP
time = 1

;------------------------------------
[State 150]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 150]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 150]
type = ChangeState
trigger1 = command = "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
value = 150

[State 150]
type = ChangeState
trigger1 = command = "holdback"
trigger1 = command = "holddown"
value = 152

[State 152]
type = HitVelSet
trigger1 = var(7) <= 0
X = 1

[State 150]
type = ChangeState
trigger1 = var(7) <= 0
value = 151 + 2 * (command = "holddown")

;---------------------------------------------------------------------------
[Statedef 161]
type = S
movetype = H
physics = S

[State 151]
type = VarAdd
trigger1 = time > 0
var(8) = -1

;------------------------------ガードブロッキング------------------------------
;地上基本技を前ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 0
stateno = 3005
attr = S, NA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [0, 1]
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 0
StateNo = 3005
attr = SC, NA
time = 1

;------------------------------------
;地上必殺技（飛び道具除く）を前ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 1
stateno = 3005
attr = S, SA, HA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [0, 1]
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 1
StateNo = 3005
attr = SC, SA, HA
time = 1

;------------------------------------
;地上基本技を下ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(35) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 2
stateno = 3025
attr = C, NA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [1, 2]
trigger1 = var(35) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 2
StateNo = 3025
attr = SC, NA
time = 1

;------------------------------------
;地上必殺技（飛び道具除く）を下ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 3
stateno = 3025
attr = C, SA, HA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [1, 2]
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 3
StateNo = 3025
attr = SC, SA, HA
time = 1

;------------------------------------
;空中基本技を前ブロ
[State -2, Blocking-3]
type = HitOverride
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 4
stateno = 3005
attr = A, NA
time = 1

;------------------------------------
;空中必殺技（飛び道具除く）を前ブロ
[State -2, Blocking-3]
type = HitOverride
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 5
stateno = 3005
attr = A, SA, HA
time = 1

;------------------------------------
;空中・上段飛び道具を前ブロ
[State -2, Blocking]
type = HitOverride
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 6
stateno = 3005
attr = SA, AP
time = 1

;------------------------------------
;下段飛び道具を下ブロ
[State -2, Blocking]
type = HitOverride
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 7
stateno = 3025
attr = C, AP
time = 1

;------------------------------------
[State 151]
type = VelSet
trigger1 = var(8) <= 0
x = 0

[State 151]
type = CtrlSet
trigger1 = var(8) <= 0
value = 1

[State 151]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 151]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 151]
type = ChangeState
trigger1 = command = "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
value = 151

[State 151]
type = ChangeState
trigger1 = command = "holdback"
trigger1 = command = "holddown"
value = 153

[State 151]
type = ChangeState
trigger1 = var(8) <= 0
value = 130
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 162]
type = C
movetype = H
physics = N
velset = 0, 0

[State 151]
type = VarAdd
trigger1 = time > 0
var(7) = -1

;------------------------------ガードブロッキング------------------------------
;地上基本技を前ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 0
stateno = 3005
attr = S, NA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [0, 1]
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 0
StateNo = 3005
attr = SC, NA
time = 1

;------------------------------------
;地上必殺技（飛び道具除く）を前ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 1
stateno = 3005
attr = S, SA, HA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [0, 1]
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 1
StateNo = 3005
attr = SC, SA, HA
time = 1

;------------------------------------
;地上基本技を下ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(35) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 2
stateno = 3025
attr = C, NA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [1, 2]
trigger1 = var(35) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 2
StateNo = 3025
attr = SC, NA
time = 1

;------------------------------------
;地上必殺技（飛び道具除く）を下ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 3
stateno = 3025
attr = C, SA, HA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [1, 2]
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 3
StateNo = 3025
attr = SC, SA, HA
time = 1

;------------------------------------
;空中基本技を前ブロ
[State -2, Blocking-3]
type = HitOverride
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 4
stateno = 3005
attr = A, NA
time = 1

;------------------------------------
;空中必殺技（飛び道具除く）を前ブロ
[State -2, Blocking-3]
type = HitOverride
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 5
stateno = 3005
attr = A, SA, HA
time = 1

;------------------------------------
;空中・上段飛び道具を前ブロ
[State -2, Blocking]
type = HitOverride
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 6
stateno = 3005
attr = SA, AP
time = 1

;------------------------------------
;下段飛び道具を下ブロ
[State -2, Blocking]
type = HitOverride
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 7
stateno = 3025
attr = C, AP
time = 1

;------------------------------------
[State 152]
type = ChangeState
trigger1 = command = "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
value = 150

[State 152]
type = ChangeState
trigger1 = command = "holdback"
trigger1 = command = "holddown"
value = 152

[State 152]
type = HitVelSet
trigger1 = var(7) <= 0
X = 1

[State 152]
type = ChangeState
trigger1 = var(7) <= 0
value = 151 + 2 * (command = "holddown")

[State 152]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 152]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

;---------------------------------------------------------------------------
[Statedef 163]
type = C
movetype = H
physics = C

[State 151]
type = VarAdd
trigger1 = time > 0
var(8) = -1

;------------------------------ガードブロッキング------------------------------
;地上基本技を前ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 0
stateno = 3005
attr = S, NA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [0, 1]
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 0
StateNo = 3005
attr = SC, NA
time = 1

;------------------------------------
;地上必殺技（飛び道具除く）を前ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 1
stateno = 3005
attr = S, SA, HA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [0, 1]
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 1
StateNo = 3005
attr = SC, SA, HA
time = 1

;------------------------------------
;地上基本技を下ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(35) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 2
stateno = 3025
attr = C, NA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [1, 2]
trigger1 = var(35) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 2
StateNo = 3025
attr = SC, NA
time = 1

;------------------------------------
;地上必殺技（飛び道具除く）を下ブロ
[State -2, Blocking]
type = HitOverride
triggerall = var(16) < 5
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 3
stateno = 3025
attr = C, SA, HA
time = 1

[State -2, Blocking]
type = HitOverride
triggerall = var(16) >= 5
triggerall = EnemyNear,var(4) = [1, 2]
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 3
StateNo = 3025
attr = SC, SA, HA
time = 1

;------------------------------------
;空中基本技を前ブロ
[State -2, Blocking-3]
type = HitOverride
trigger1 = var(33) = [1, 3]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 4
stateno = 3005
attr = A, NA
time = 1

;------------------------------------
;空中必殺技（飛び道具除く）を前ブロ
[State -2, Blocking-3]
type = HitOverride
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 5
stateno = 3005
attr = A, SA, HA
time = 1

;------------------------------------
;空中・上段飛び道具を前ブロ
[State -2, Blocking]
type = HitOverride
trigger1 = var(33) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 6
stateno = 3005
attr = SA, AP
time = 1

;------------------------------------
;下段飛び道具を下ブロ
[State -2, Blocking]
type = HitOverride
trigger1 = var(35) = [1, 2]
trigger2 = var(59) = 1 && Random < 200 * var(26)
trigger3 = var(15) = 0 && var(17) = 5
slot = 7
stateno = 3025
attr = C, AP
time = 1

;------------------------------------
[State 151]
type = VelSet
trigger1 = var(8) <= 0
x = 0

[State 151]
type = CtrlSet
trigger1 = var(8) <= 0
value = 1

[State 151]
type = StateTypeSet
trigger1 = statetype = S && command = "holddown"
statetype = C
physics = C

[State 151]
type = StateTypeSet
trigger1 = statetype = C && command != "holddown"
statetype = S
physics = S

[State 151]
type = ChangeState
trigger1 = command = "holdback"
trigger1 = command != "holddown"
trigger1 = command != "holdup"
value = 151

[State 151]
type = ChangeState
trigger1 = command = "holdback"
trigger1 = command = "holddown"
value = 153

[State 151]
type = ChangeState
trigger1 = var(8) <= 0
value = 130
ctrl = 1

;---------------------------------------------------------------------------
; AGUARDHIT (shaking)
[Statedef 154]
type = A
movetype= H
physics = N
velset = 0,0

[State 154, 1]
type = ChangeAnim
trigger1 = 1
value = 152

[State 154, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 155 ;AGUARDHIT2

[State 154, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
;AGUARDHIT2 (knocked away)
[Statedef 155]
type = A
movetype = H
physics = N
anim = 152

[State 155, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 155, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 155, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
value = 1

[State 155, 4]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 155, 5]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback"
trigger1 = inguarddist
value = 130

[State 155, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

;---------------------------------------------------------------------------
;Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
velset = 0, 0

[State 175, 2]
type = ChangeAnim
trigger1 = Time = 0
value = 170

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
[Statedef 175]
type = S
ctrl = 0
velset = 0,0

[State 175, 1]
type = ChangeState
trigger1 = Time = 0
;trigger1 = !SelfAnimExist(175)
value = 170

[State 175, 2]
type = Null;ChangeAnim
trigger1 = Time = 0
value = 175

[State 175, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
[Statedef 180]
type = S

[State 180, 2]
type = ChangeState
trigger1 = time = 0
value = 181 + random%2

;---------------------------------------------------------------------------
;Win pose 1
[Statedef 181]
type = S
movetype = I
physics = S
anim = 181
ctrl = 0
velset = 0, 0

[State 181, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = -10

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = 10

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(8) = 0
X = -9

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(11) = 0
value = 181, 0

[State 181, 1]
type = AssertSpecial
trigger1 = Time < 100
flag = RoundNotOver

;---------------------------------------------------------------------------
;Win pose 2
[Statedef 182]
type = S
movetype = I
physics = S
anim = 182
ctrl = 0
velset = 0, 0

[State 181, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(8) = 0
value = 182, 0

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = 16

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = 18

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
X = 16

[State 181, 1]
type = AssertSpecial
trigger1 = Time < 150
flag = RoundNotOver

;---------------------------------------------------------------------------
;Win pose 3
[Statedef 183]
type = S
movetype = I
physics = S
anim = 183
ctrl = 0
velset = 0, 0

[State 181, 2]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, 1]
type = AssertSpecial
trigger1 = Time < 150
flag = RoundNotOver

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; Introduction state decider
[Statedef 190]
ctrl = 0

[State 152]
type = VarSet
trigger1 = time = 0
var(27) = Life
;------------------------------SA選択（タッグ時は全て使用可）------------------------------
[State 190]
type = VarSet
trigger1 = TeamMode = Simul
trigger1 = time = 0
var(0) = 0

[State 190]
type = Helper
trigger1 = TeamMode = Single || TeamMode = Turns
trigger1 = time = 0
trigger1 = var(0) < 0
stateno = 2600
ID = 2600
postype = p1
pos = 0, 0
ontop = 1
bindtime = -1

[State 190]
type = Helper
trigger1 = TeamMode = Single || TeamMode = Turns
trigger1 = time = 0
trigger1 = var(0) > 0
StateNo = 2700
ID = 2700
postype = p1
pos = 0, 0
ontop = 1
bindtime = -1

;------------------------------スタンゲージ選択------------------------------
[State 190]
type = Helper
triggerall = time = 0
trigger1 = TeamMode = Single || TeamMode = Turns
trigger1 = NumEnemy = 1
stateno = 2800
ID = 2800
postype = p1
pos = 0, 0

[State 190]
type = VarSet
triggerall = time = 0
trigger1 = TeamMode = Simul
trigger2 = NumEnemy > 1
var(16) = -1

;---------------------------------------------------------------------------
[State 190, 2]
type = ChangeState
trigger1 = Time = 0
value = 191

;---------------------------------------------------------------------------
[Statedef 191]
type = S
movetype = I
physics = S
anim = 191
ctrl = 0
velset = 0, 0

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
[Statedef 192]
type = A
movetype = I
physics = N
anim = 192
ctrl = 0
velset = 0, 0
sprpriority = 3

[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 193

;---------------------------------------------------------------------------
[Statedef 193]
type = A
movetype = I
physics = N
anim = 193
ctrl = 0
velset = -2, 0
sprpriority = 3

[State 192, 3]
type = VelAdd
trigger1 = Time > 0
Y = .2

[State 192, 3]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
[Statedef 195]
type = L
movetype = I
physics = C
anim = 195
ctrl = 0
velset = 0, 0

[State 191, 2]
type = VarSet
trigger1 = Time = 0
var(15) = 2

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 1202, 23]
type = Explod
trigger1 = time = 160
anim = 196
ID = 196
pos = -50, -100
postype = left
scale = 420, 400
sprpriority = 5

[State 191, 6]
type = Helper
trigger1 = Time = 0
StateNo = 197
ID = 197
postype = p1
pos = 0, -250
ownpal = 1

[State 192, 3]
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 195
value = 0

[State 192, 3]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 0
trigger1 = time > 300
value = 0

;---------------------------------------------------------------------------
[Statedef 197]
type = A
movetype = I
physics = N
anim = 197
ctrl = 0
velset = 0, 1.2

[State 192, 3]
type = DestroySelf
trigger1 = Pos Y >= 0 && Vel Y > 0

;---------------------------------------------------------------------------
[Statedef 200]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 201]
type = S
movetype = A
physics = S
anim = 201
ctrl = 0

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3500
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(40 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(85 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 200, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 221]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, NA
damage = ifelse(30 - 5 * var(29) < 10, 10, 30 - 5 * var(29)), 0
getpower = 20, 10
givepower = 0, 0
animtype = L
guardflag = M
hitflag = MAF
priority = 1, Hit
pausetime = 0, 7
hitsound = S200, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 8 + (fvar(12) >= 45 + 8 * (var(16)%4))
ground.hittime = 8 + (fvar(12) >= 45 + 8 * (var(16)%4))
guard.ctrltime = 8
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime = 4
yaccel = .65
p2facing = 1

[State 221]
type = VarAdd
triggerall = MoveHit
triggerall = var(16) < 5
trigger1 = EnemyNear,Stateno = 5000
trigger2 = EnemyNear,Stateno = 5010
trigger3 = EnemyNear,Stateno = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 202

[State 200, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 209

;---------------------------------------------------------------------------
;HitStop
[Statedef 202]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 202

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 53

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 203

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 204

;---------------------------------------------------------------------------
;Blocked
[Statedef 203]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -13

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 204

;---------------------------------------------------------------------------
;HitBack
[Statedef 204]
type = S
movetype = A
physics = S
ctrl = 0
anim = 204

[State 200, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 209

;---------------------------------------------------------------------------
[Statedef 209]
type = S
movetype = A
physics = S
ctrl = 1
anim = 209

[State 200, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 210]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 211]
type = S
movetype = A
physics = S
anim = 211
ctrl = 0

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3500
pos = ceil(120 * const(size.xscale)), ceil(47 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(120 * const(size.xscale)), ceil(92 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 200, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 5
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 221]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, NA
damage = ifelse(50 - 5 * var(29) < 10, 10, 50 - 5 * var(29)), 0
getpower = 20, 10
givepower = 0, 0
animtype = L
guardflag = M
hitflag = MAF
priority = 1, Hit
pausetime = 0, 7
hitsound = S200, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 8 + (fvar(12) >= 43 + 8 * (var(16)%4))
ground.hittime = 8 + (fvar(12) >= 43 + 8 * (var(16)%4))
guard.ctrltime = 8
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime = 4
yaccel = .65
p2facing = 1

[State 221]
type = VarAdd
triggerall = MoveHit
triggerall = var(16) < 5
trigger1 = EnemyNear,Stateno = 5000
trigger2 = EnemyNear,Stateno = 5010
trigger3 = EnemyNear,Stateno = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 5, 5, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 212

[State 200, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 219

;---------------------------------------------------------------------------
;HitStop
[Statedef 212]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 212

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 53

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 213

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 214

;---------------------------------------------------------------------------
;Blocked
[Statedef 213]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -13

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 214

;---------------------------------------------------------------------------
;HitBack
[Statedef 214]
type = S
movetype = A
physics = S
ctrl = 0
anim = 214

[State 200, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 219

;---------------------------------------------------------------------------
[Statedef 219]
type = S
movetype = A
physics = S
ctrl = 1
anim = 219

[State 200, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 220]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 221]
type = S
movetype = A
physics = S
ctrl = 0
anim = 221

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3510
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(30 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(75 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 10, ifelse(P2BodyDist X <= 10, P2BodyDist X, 10))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 4, ifelse(P2BodyDist X <= 4, P2BodyDist X, 4))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 4, ifelse(P2BodyDist X <= 4, P2BodyDist X, 4))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
X = -4

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(8) = 0
X = -4

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(9) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(10) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(12) = 0
X = -2

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(5) = 0
value = 220, 0

[State 221]
type = PowerAdd
trigger1 = AnimElemTime(5) = 0
value = 20

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 11
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 221]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, NA
damage = ifelse(50 - 5 * var(29) < 10, 10, 50 - 5 * var(29)), 0
getpower = 80, 40
givepower = 20, 0
animtype = M
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 0, 9
hitsound = S220, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 12 + (EnemyNear,StateType = C) + (fvar(12) >= 37 + 8 * (var(16)%4))
ground.hittime = 12 + (EnemyNear,StateType = C) + (fvar(12) >= 37 + 8 * (var(16)%4))
guard.ctrltime = 11
ground.velocity = -1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
air.hittime = 6
yaccel = .65
P2Facing = 1

[State 221]
type = VarAdd
triggerall = MoveHit
triggerall = var(16) < 5
trigger1 = EnemyNear,Stateno = 5000
trigger2 = EnemyNear,Stateno = 5010
trigger3 = EnemyNear,Stateno = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 11, 11, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 222

[State 221]
type = ChangeState
trigger1 = AnimTime = 0
value = 229
ctrl = 1

;---------------------------------------------------------------------------
;HitStop
[Statedef 222]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 222

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 51

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 11

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 223

[State 210, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 224

;---------------------------------------------------------------------------
;Blocked
[Statedef 223]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -10

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 210, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 224

;---------------------------------------------------------------------------
;HitBack
[Statedef 224]
type = S
movetype = A
physics = S
ctrl = 0
anim = 224

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = -4

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = -4

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
X = -2

[State 210, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 229
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 229]
type = S
movetype = A
physics = S
ctrl = 1
anim = 229

[State 210, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 230]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 231]
type = S
movetype = A
physics = S
ctrl = 0
anim = 231

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3510
pos = ceil(135 * const(size.xscale)), ceil(47 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(135 * const(size.xscale)), ceil(92 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 220, 0

[State 221]
type = PowerAdd
trigger1 = AnimElemTime(4) = 0
value = 20

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 11
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 221]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, NA
damage = ifelse(70 - 5 * var(29) < 10, 10, 70 - 5 * var(29)), 0
getpower = 80, 40
givepower = 20, 0
animtype = M
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 0, 9
hitsound = S220, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 12 + (EnemyNear,StateType = C) + (fvar(12) >= 37 + 8 * (var(16)%4))
ground.hittime = 12 + (EnemyNear,StateType = C) + (fvar(12) >= 37 + 8 * (var(16)%4))
guard.ctrltime = 11
ground.velocity = -1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
air.hittime = 6
yaccel = .65
P2Facing = 1

[State 221]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,Stateno = 5000
trigger2 = EnemyNear,Stateno = 5010
trigger3 = EnemyNear,Stateno = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 11, 11, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 232

[State 221]
type = ChangeState
trigger1 = AnimTime = 0
value = 239

;---------------------------------------------------------------------------
;HitStop
[Statedef 232]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 232

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 51

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 233

[State 210, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 234

;---------------------------------------------------------------------------
;Blocked
[Statedef 233]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -10

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 210, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 234

;---------------------------------------------------------------------------
;HitBack
[Statedef 234]
type = S
movetype = A
physics = S
ctrl = 0
anim = 234

[State 210, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 239

;---------------------------------------------------------------------------
[Statedef 239]
type = S
movetype = A
physics = S
ctrl = 1
anim = 239

[State 210, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 240]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 241]
type = S
movetype = A
physics = S
ctrl = 0
anim = 241

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3520
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(45 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(90 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 4, ifelse(P2BodyDist X <= 4, P2BodyDist X, 4))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 15, ifelse(P2BodyDist X <= 15, P2BodyDist X, 15))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 13, ifelse(P2BodyDist X <= 13, P2BodyDist X, 13))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(11) = 0
X = -4

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(12) = 0
X = -6

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(13) = 0
X = -3

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(14) = 0
X = -3

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(15) = 0
X = -3

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(16) = 0
X = -4

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(17) = 0
X = -3

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(18) = 0
X = -6

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 11
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(9) = 0
value = 240, 0

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(9) = 0
value = 1000, 0

[State 220, 1]
type = PowerAdd
trigger1 = AnimElemTime(10) = 0
value = 30

[State 220, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, NA
damage = ifelse(100 - 5 * var(29) < 10, 10, 100 - 5 * var(29)), 0
getpower = 140, 60
givepower = 40, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 11
hitsound = S240, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 16 + (EnemyNear,StateType = C) * 2 + (fvar(12) >= 37 + 8 * (var(16)%4))
ground.hittime = 16 + (EnemyNear,StateType = C) * 2 + (fvar(12) >= 37 + 8 * (var(16)%4))
guard.ctrltime = 14
ground.velocity = -2.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, -2.2 * 4
air.hittime = 8
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 11, 11, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 242

[State 220, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 249
ctrl = 1

;---------------------------------------------------------------------------
;HitStop
[Statedef 242]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 242

[State 220, 1]
type = VarSet
trigger1 = time = 0
var(19) = 49

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 2

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 11

[State 220, 1]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 243

[State 220, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 244

;---------------------------------------------------------------------------
;Blocked
[Statedef 243]
type = S
movetype = A
physics = S
ctrl = 0

[State 220, 1]
type = VarAdd
trigger1 = time = 0
var(19) = -7

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 220, 1]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 220, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 244

;---------------------------------------------------------------------------
;HitBack
[Statedef 244]
type = S
movetype = A
physics = S
ctrl = 0
anim = 244

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(1) = 0
X = -4

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = -6

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = -3

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = -3

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = -3

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = -4

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
X = -3

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(8) = 0
X = -6

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 249
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 249]
type = S
movetype = A
physics = S
ctrl = 1
anim = 249

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 250]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 251]
type = S
movetype = A
physics = S
ctrl = 0
anim = 251

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3520
pos = ceil(80 * const(size.xscale)), ceil(50 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(80 * const(size.xscale)), ceil(95 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 1
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 15
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 6, ifelse(P2BodyDist X <= 6, P2BodyDist X, 6))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 6, ifelse(P2BodyDist X <= 6, P2BodyDist X, 6))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 10, ifelse(P2BodyDist X <= 10, P2BodyDist X, 10))

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(7) = 0
value = 240, 0

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(7) = 0
value = 1800, 0

[State 220, 1]
type = PowerAdd
trigger1 = AnimElemTime(8) = 0
value = 30

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(9) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 2, ifelse(P2BodyDist X <= 2, P2BodyDist X, 2))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(12) = 0
X = -6

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(13) = 0
X = -6

[State 220, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, NA
damage = ifelse(130 - 5 * var(29) < 10, 10, 130 - 5 * var(29)), 0
getpower = 140, 60
givepower = 40, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 11
hitsound = S240, 1
guardsound = S200, 2
guard.ctrltime = 14
ground.velocity = -0.2 * 3, -11.2
ground.cornerpush.veloff = 0
air.velocity = -0.2 * 3, -11.2
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 15, 15, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 252

[State 220, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 259

;---------------------------------------------------------------------------
;HitStop
[Statedef 252]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 252

[State 220, 1]
type = VarSet
trigger1 = time = 0
var(19) = 49

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 2

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 220, 1]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 253

[State 220, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 254

;---------------------------------------------------------------------------
;Blocked
[Statedef 253]
type = S
movetype = A
physics = S
ctrl = 0

[State 220, 1]
type = VarAdd
trigger1 = time = 0
var(19) = -7

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 220, 1]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 220, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 254

;---------------------------------------------------------------------------
;HitBack
[Statedef 254]
type = S
movetype = A
physics = S
ctrl = 0
anim = 254

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(1) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 2, ifelse(P2BodyDist X <= 2, P2BodyDist X, 2))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = -6

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = -6

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 259

;---------------------------------------------------------------------------
[Statedef 259]
type = S
movetype = A
physics = S
ctrl = 1
anim = 259

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 260]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 261]
type = S
movetype = A
physics = S
ctrl = 0
anim = 261

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3500
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(65 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(110 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 200, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 5
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 230, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, NA
damage = ifelse(40 - 5 * var(29) < 10, 10, 40 - 5 * var(29)), 0
getpower = 20, 10
givepower = 0, 0
animtype = L
guardflag = M
hitflag = MAF
priority = 1, Hit
pausetime = 0, 7
hitsound = S260, 1
guardsound = S200, 2
ground.type = Low
ground.slidetime = 8 + (fvar(12) >= 43 + 8 * (var(16)%4))
ground.hittime = 8 + (fvar(12) >= 43 + 8 * (var(16)%4))
guard.ctrltime = 8
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime = 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 5, 5, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 262

[State 230, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 269

;---------------------------------------------------------------------------
;HitStop
[Statedef 262]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 262

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 53

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 263

[State 230, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 264

;---------------------------------------------------------------------------
;Blocked
[Statedef 263]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -13

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 230, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 264

;---------------------------------------------------------------------------
;HitBack
[Statedef 264]
type = S
movetype = A
physics = S
ctrl = 0
anim = 264

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 269

;---------------------------------------------------------------------------
[Statedef 269]
type = S
movetype = A
physics = S
ctrl = 1
anim = 269

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 270]
ctrl = 0

[State 1202, 20]
type = VarSet
triggerall = time = 0
trigger1 = PrevStateNo != [272, 273]
var(31) = 0

[State 1202, 20]
type = VarSet
triggerall = time = 0
trigger1 = PrevStateNo = [272, 273]
var(31) = 1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != [272, 274]
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != [272, 273]
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [272, 273]
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 271]
type = S
movetype = A
physics = S
ctrl = 0
anim = 271

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3500
pos = ceil(100 * const(size.xscale)), ceil(70 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(100 * const(size.xscale)), ceil(115 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 200, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 7
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 230, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, NA
damage = ifelse(45 - 5 * var(29) < 10, 10, 45 - 5 * var(29)), 0
getpower = 20, 10
givepower = 0, 0
animtype = L
guardflag = M
hitflag = MAF
priority = 1, Hit
pausetime = 0, 7
hitsound = S260, 1
guardsound = S200, 2
ground.type = Low
ground.slidetime = 8 + (fvar(12) >= 41 + 8 * (var(16)%4))
ground.hittime = 8 + (fvar(12) >= 41 + 8 * (var(16)%4))
guard.ctrltime = 8
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime = 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
triggerall = var(16) < 5
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 7, 7, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 272

[State 230, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 279

;---------------------------------------------------------------------------
;HitStop
[Statedef 272]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 272

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 53

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 273

[State 230, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 274

;---------------------------------------------------------------------------
;Blocked
[Statedef 273]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -13

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 230, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 274

;---------------------------------------------------------------------------
;HitBack
[Statedef 274]
type = S
movetype = A
physics = S
ctrl = 0
anim = 274

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 279

;---------------------------------------------------------------------------
[Statedef 279]
type = S
movetype = A
physics = S
ctrl = 1
anim = 279

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 280]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 281]
type = S
movetype = A
physics = S
ctrl = 0
anim = 281

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3510
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(75 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(120 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 220, 0

[State 200, 5]
type = PowerAdd
trigger1 = AnimElemTime(5) = 0
value = 20

[State 240, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, NA
damage = ifelse(70 - 5 * var(29) < 10, 10, 70 - 5 * var(29)), 0
getpower = 80, 40
givepower = 20, 0
animtype = M
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 0, 9
hitsound = S280, 1
guardsound = S200, 2
ground.type = Low
ground.slidetime = 12 + (EnemyNear,StateType = C) + (fvar(12) >= 45 + 8 * (var(16)%4))
ground.hittime = 12 + (EnemyNear,StateType = C) + (fvar(12) >= 45 + 8 * (var(16)%4))
guard.ctrltime = 11
ground.velocity = -1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
air.hittime = 6
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 282

[State 250, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 289

;---------------------------------------------------------------------------
;HitStop
[Statedef 282]
type = S
movetype = A
physics = S
ctrl = 0
anim = 282
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 51

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 283

[State 250, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 284

;---------------------------------------------------------------------------
;Blocked
[Statedef 283]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -10

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 250, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 284

;---------------------------------------------------------------------------
;HitBack
[Statedef 284]
type = S
movetype = A
physics = S
ctrl = 0
anim = 284

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 289

;---------------------------------------------------------------------------
[Statedef 289]
type = S
movetype = A
physics = S
ctrl = 1
anim = 289

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 290]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 291]
type = S
movetype = A
physics = S
ctrl = 0
anim = 291

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3510
pos = ceil(105 * const(size.xscale)), ceil(25 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(105 * const(size.xscale)), ceil(70 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 13
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 220, 0

[State 200, 5]
type = PowerAdd
trigger1 = AnimElemTime(4) = 0
value = 20

[State 240, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, NA
damage = ifelse(80 - 5 * var(29) < 10, 10, 80 - 5 * var(29)), 0
getpower = 80, 40
givepower = 20, 0
animtype = M
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 0, 9
hitsound = S280, 1
guardsound = S200, 2
ground.type = Low
ground.slidetime = 12 + (EnemyNear,StateType = C) + (fvar(12) >= 35 + 8 * (var(16)%4))
ground.hittime = 12 + (EnemyNear,StateType = C) + (fvar(12) >= 35 + 8 * (var(16)%4))
guard.ctrltime = 11
ground.velocity = -1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
air.hittime = 6
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 13, 13, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 292

[State 250, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 299

;---------------------------------------------------------------------------
;HitStop
[Statedef 292]
type = S
movetype = A
physics = S
ctrl = 0
anim = 292
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 51

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 293

[State 250, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 294

;---------------------------------------------------------------------------
;Blocked
[Statedef 293]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -10

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 250, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 294

;---------------------------------------------------------------------------
;HitBack
[Statedef 294]
type = S
movetype = A
physics = S
ctrl = 0
anim = 294

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 299

;---------------------------------------------------------------------------
[Statedef 299]
type = S
movetype = A
physics = S
ctrl = 1
anim = 299

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 300]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 301]
type = S
movetype = A
physics = S
ctrl = 0
anim = 301

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3520
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(((800.0/19) - (16.0/57) * P2Dist X) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil((((800.0/19) - (16.0/57) * P2Dist X) + 45) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 13
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 4, ifelse(P2BodyDist X <= 4, P2BodyDist X, 4))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 2, ifelse(P2BodyDist X <= 2, P2BodyDist X, 2))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 4, ifelse(P2BodyDist X <= 4, P2BodyDist X, 4))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(8) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 6, ifelse(P2BodyDist X <= 6, P2BodyDist X, 6))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(9) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 4, ifelse(P2BodyDist X <= 4, P2BodyDist X, 4))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(10) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 4, ifelse(P2BodyDist X <= 4, P2BodyDist X, 4))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(11) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 10, ifelse(P2BodyDist X <= 10, P2BodyDist X, 10))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(12) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 6, ifelse(P2BodyDist X <= 6, P2BodyDist X, 6))

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(12) = 0
value = 240, 0

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(12) = 0
value = 1800, 0

[State 200, 5]
type = PowerAdd
trigger1 = AnimElemTime(12) = 0
value = 30

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(14) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(15) = 0
X = -10

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(16) = 0
X = -6

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(17) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(18) = 0
X = -8

[State 250, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, NA
damage = ifelse(110 - 5 * var(29) < 10, 10, 110 - 5 * var(29)), 0
getpower = 140, 60
givepower = 40, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 11
hitsound = S300, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 16 + (EnemyNear,StateType = C) * 2 + (fvar(12) >= 35 + 8 * (var(16)%4))
ground.hittime = 16 + (EnemyNear,StateType = C) * 2 + (fvar(12) >= 35 + 8 * (var(16)%4))
guard.ctrltime = 14
ground.velocity = -2.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, -2.2 * 4
air.hittime = 8
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 13, 13, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 302

[State 250, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 309

;---------------------------------------------------------------------------
;HitStop
[Statedef 302]
type = S
movetype = A
physics = S
ctrl = 0
anim = 302
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 49

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 2

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 303

[State 250, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 304

;---------------------------------------------------------------------------
;Blocked
[Statedef 303]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -7

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 250, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 304

;---------------------------------------------------------------------------
;HitBack
[Statedef 304]
type = S
movetype = A
physics = S
ctrl = 0
anim = 304

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = -10

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = -6

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = -8

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 309

;---------------------------------------------------------------------------
[Statedef 309]
type = S
movetype = A
physics = S
ctrl = 1
anim = 309

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 310]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 311]
type = S
movetype = A
physics = S
ctrl = 0
anim = 311

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3520
pos = ceil(118 * const(size.xscale)), ceil(-35 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(118 * const(size.xscale)), ceil(10 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 17
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(10) = 0
value = 240, 0

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(10) = 0
value = 310, 0

[State 200, 5]
type = PowerAdd
trigger1 = AnimElemTime(11) = 0
value = 30

[State 250, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, NA
damage = ifelse(140 - 5 * var(29) < 10, 10, 140 - 5 * var(29)), 0
getpower = 140, 60
givepower = 40, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 11
hitsound = S300, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 16 + (EnemyNear,StateType = C) * 2 + (fvar(12) >= 31 + 8 * (var(16)%4))
ground.hittime = 16 + (EnemyNear,StateType = C) * 2 + (fvar(12) >= 31 + 8 * (var(16)%4))
guard.ctrltime = 14
ground.velocity = -2.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, -2.2 * 4
air.hittime = 8
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 17, 17, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 312

[State 250, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;HitStop
[Statedef 312]
type = S
movetype = A
physics = S
ctrl = 0
anim = 312
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 49

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 2

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 313

[State 250, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 314

;---------------------------------------------------------------------------
;Blocked
[Statedef 313]
type = S
movetype = A
physics = S
ctrl = 0
anim = 313

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -7

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 250, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 314

;---------------------------------------------------------------------------
[Statedef 314]
type = S
movetype = A
physics = S
ctrl = 0

[State 1101]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = PrevStateNo = 312
value = 314
elem = 4

[State 1101]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = PrevStateNo = 313
value = 314
elem = 1

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 320]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != [272, 273]
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != [272, 273]
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = [272, 273]
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 321]
type = S
movetype = A
physics = S
ctrl = 0
anim = 321

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3510
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(30 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(75 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 10, ifelse(P2BodyDist X <= 10, P2BodyDist X, 10))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 4, ifelse(P2BodyDist X <= 4, P2BodyDist X, 4))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 4, ifelse(P2BodyDist X <= 4, P2BodyDist X, 4))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
X = -4

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(8) = 0
X = -4

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(9) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(10) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(12) = 0
X = -2

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(5) = 0
value = 220, 0

[State 221]
type = PowerAdd
trigger1 = AnimElemTime(5) = 0
value = 20

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 11
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 221]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, NA
damage = ifelse(50 - 5 * var(29) < 10, 10, 50 - 5 * var(29)), 0
getpower = 80, 40
givepower = 20, 0
animtype = M
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 0, 9
hitsound = S220, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 12 + (EnemyNear,StateType = C) + (fvar(12) >= 37 + 8 * (var(16)%4))
ground.hittime = 12 + (EnemyNear,StateType = C) + (fvar(12) >= 37 + 8 * (var(16)%4))
guard.ctrltime = 11
ground.velocity = -1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
air.hittime = 6
yaccel = .65
P2Facing = 1

[State 221]
type = VarAdd
triggerall = MoveHit
triggerall = var(16) < 5
trigger1 = EnemyNear,Stateno = 5000
trigger2 = EnemyNear,Stateno = 5010
trigger3 = EnemyNear,Stateno = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 11, 11, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 322

[State 221]
type = ChangeState
trigger1 = AnimTime = 0
value = 329

;---------------------------------------------------------------------------
;HitStop
[Statedef 322]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 322

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 51

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 323

[State 210, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 324

;---------------------------------------------------------------------------
;Blocked
[Statedef 323]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -10

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 210, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 324

;---------------------------------------------------------------------------
;HitBack
[Statedef 324]
type = S
movetype = A
physics = S
ctrl = 0
anim = 324

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = -4

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = -4

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
X = -2

[State 210, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 329

;---------------------------------------------------------------------------
[Statedef 329]
type = S
movetype = A
physics = S
ctrl = 1
anim = 329

[State 210, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------
[Statedef 400]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 401]
type = C
movetype = A
physics = C
ctrl = 0
anim = 401

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3500
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(((826.0/11) - (1.0/11) * P2Dist X) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil((((826.0/11) - (1.0/11) * P2Dist X) + 45)* const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 200, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 245, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = C, NA
damage = ifelse(30 - 5 * var(29) < 10, 10, 30 - 5 * var(29)), 0
getpower = 20, 10
givepower = 0, 0
animtype = L
guardflag = M
hitflag = MAF
priority = 1, Hit
pausetime = 0, 7
hitsound = S200, 1
guardsound = S200, 2
ground.type = Low
ground.slidetime = 8 + (fvar(12) >= 45 + 8 * (var(16)%4))
ground.hittime = 8 + (fvar(12) >= 45 + 8 * (var(16)%4))
guard.ctrltime = 8
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime = 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 402

[State 400, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 409

;---------------------------------------------------------------------------
;HitStop
[Statedef 402]
type = C
movetype = A
physics = C
ctrl = 0
velset = 0, 0
anim = 402

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 53

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 403

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 404

;---------------------------------------------------------------------------
;Blocked
[Statedef 403]
type = C
movetype = A
physics = C
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -13

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 404

;---------------------------------------------------------------------------
;HitBack
[Statedef 404]
type = C
movetype = A
physics = C
ctrl = 0
anim = 404

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 409

;---------------------------------------------------------------------------
[Statedef 409]
type = C
movetype = A
physics = C
ctrl = 1
anim = 409

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 410]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 411]
type = C
movetype = A
physics = C
ctrl = 0
anim = 411

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3510
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil((70 - (5.0/6) * P2Dist X) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(((70 - (5.0/6) * P2Dist X) + 45) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 7
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(8) = 0
value = 220, 0

[State 200, 5]
type = PowerAdd
trigger1 = AnimElemTime(8) = 0
value = 20

[State 410, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = C, NA
damage = ifelse(60 - 5 * var(29) < 10, 10, 60 - 5 * var(29)), 0
getpower = 80, 40
givepower = 20, 0
animtype = M
guardflag = M
hitflag = MAF
priority = 2, Hit
pausetime = 0, 9
hitsound = S220, 1
guardsound = S200, 2
ground.type = Low
ground.slidetime = 12 + (EnemyNear,StateType = C) + (fvar(12) >= 41 + 8 * (var(16)%4))
ground.hittime = 12 + (EnemyNear,StateType = C) + (fvar(12) >= 41 + 8 * (var(16)%4))
guard.ctrltime = 11
ground.velocity = -1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
air.hittime = 6
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 7, 7, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 412

[State 410, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 419

;---------------------------------------------------------------------------
;HitStop
[Statedef 412]
type = C
movetype = A
physics = C
ctrl = 0
anim = 412
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 51

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 413

[State 410, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 414

;---------------------------------------------------------------------------
;Blocked
[Statedef 413]
type = C
movetype = A
physics = C
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -10

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 410, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 414

;---------------------------------------------------------------------------
;HitBack
[Statedef 414]
type = C
movetype = A
physics = C
ctrl = 0
anim = 414

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 419

;---------------------------------------------------------------------------
[Statedef 419]
type = C
movetype = A
physics = C
ctrl = 1
anim = 419

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 420]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 421]
type = C
movetype = A
physics = C
ctrl = 0
anim = 421

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3520
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(70 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(115 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 5
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(5) = 0
value = 240, 0

[State 420, 4]
type = PowerAdd
trigger1 = AnimElemTime(6) = 0
value = 30

[State 420, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = C, NA
damage = ifelse(90 - 5 * var(29) < 10, 10, 90 - 5 * var(29)), 0
getpower = 140, 60
givepower = 40, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 11
hitsound = S240, 1
guardsound = S200, 2
ground.type = Low
ground.slidetime = 16 + (EnemyNear,StateType = C) * 2 + (fvar(12) >= 43 + 8 * (var(16)%4))
ground.hittime = 16 + (EnemyNear,StateType = C) * 2 + (fvar(12) >= 43 + 8 * (var(16)%4))
guard.ctrltime = 14
ground.velocity = -2.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, -2.2 * 4
air.hittime = 8
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 5, 5, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 422

[State 420, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 429

;---------------------------------------------------------------------------
;HitStop
[Statedef 422]
type = C
movetype = A
physics = C
ctrl = 0
anim = 422
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 49

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(29) = 2

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 420, 4]
type = ChangeState
trigger1 = Time <= 3
trigger1 = var(16) >= 5
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 423

[State 420, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 424

;---------------------------------------------------------------------------
;Blocked
[Statedef 423]
type = C
movetype = A
physics = C
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -7

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 420, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 424

;---------------------------------------------------------------------------
;HitBack
[Statedef 424]
type = C
movetype = A
physics = C
ctrl = 0
anim = 424

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 429

;---------------------------------------------------------------------------
[Statedef 429]
type = C
movetype = A
physics = C
ctrl = 1
anim = 429

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 430]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 431]
type = C
movetype = A
physics = C
ctrl = 0
anim = 431

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3500
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(85 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(130 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 2

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 200, 0

[State 430, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = C, NA
damage = ifelse(35 - 5 * var(29) < 10, 10, 35 - 5 * var(29)), 0
getpower = 20, 10
givepower = 0, 0
animtype = L
guardflag = L
hitflag = MAF
priority = 1, Hit
pausetime = 0, 7
hitsound = S260, 1
guardsound = S200, 2
ground.type = Low
ground.slidetime = 8 + (fvar(12) >= 45 + 8 * (var(16)%4))
ground.hittime = 8 + (fvar(12) >= 45 + 8 * (var(16)%4))
guard.ctrltime = 8
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime = 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 432

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 439

;---------------------------------------------------------------------------
;HitStop
[Statedef 432]
type = C
movetype = A
physics = C
ctrl = 0
velset = 0, 0
anim = 432

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 53

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 433

[State 430, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 434

;---------------------------------------------------------------------------
;Blocked
[Statedef 433]
type = C
movetype = A
physics = C
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -13

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 430, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 434

;---------------------------------------------------------------------------
;HitBack
[Statedef 434]
type = C
movetype = A
physics = C
ctrl = 0
anim = 434

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 439

;---------------------------------------------------------------------------
[Statedef 439]
type = C
movetype = A
physics = C
ctrl = 1
anim = 439

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 440]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 441]
type = C
movetype = A
physics = C
ctrl = 0
anim = 441

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3510
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(((1019.0/14) + (3.0/14) * P2Dist X) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil((((1019.0/14) + (3.0/14) * P2Dist X) + 45) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 2

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(5) = 0
value = 220, 0

[State 200, 5]
type = PowerAdd
trigger1 = AnimElemTime(6) = 0
value = 20

[State 440, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = C, NA
damage = ifelse(60 - 5 * var(29) < 10, 10, 60 - 5 * var(29)), 0
getpower = 80, 40
givepower = 20, 0
animtype = M
guardflag = L
hitflag = MAF
priority = 2, Hit
pausetime = 0, 9
hitsound = S280, 1
guardsound = S200, 2
ground.type = Low
ground.slidetime = 12 + (EnemyNear,StateType = C) + (fvar(12) >= 45 + 8 * (var(16)%4))
ground.hittime = 12 + (EnemyNear,StateType = C) + (fvar(12) >= 45 + 8 * (var(16)%4))
guard.ctrltime = 11
ground.velocity = -1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
air.hittime = 6
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 442

[State 440, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 449

;---------------------------------------------------------------------------
;HitStop
[Statedef 442]
type = C
movetype = A
physics = C
ctrl = 0
velset = 0, 0
anim = 442

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 51

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 11

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 443

[State 440, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 444

;---------------------------------------------------------------------------
;Blocked
[Statedef 443]
type = C
movetype = A
physics = C
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -10

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 440, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 444

;---------------------------------------------------------------------------
;HitBack
[Statedef 444]
type = C
movetype = A
physics = C
ctrl = 0
anim = 444

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 449

;---------------------------------------------------------------------------
[Statedef 449]
type = C
movetype = A
physics = C
ctrl = 1
anim = 449

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 450]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 451]
type = C
movetype = A
physics = C
ctrl = 0
anim = 451

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3520
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(82 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(127 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 2

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 1
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = ifelse(EnemyNear,StateType != A, -1, -1)

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(11) = 0
value = 240, 0

[State 200, 5]
type = PowerAdd
trigger1 = AnimElemTime(11) = 0
value = 30

[State 450, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = C, NA
damage = ifelse(100 - 5 * var(29) < 10, 10, 100 - 5 * var(29)), 0
getpower = 140, 60
givepower = 40, 0
animtype = H
guardflag = L
hitflag = MAF
priority = 3, Hit
pausetime = 0, 11
hitsound = S300, 1
guardsound = S200, 2
ground.type = Trip
ground.slidetime = 16 + (EnemyNear,StateType = C) * 2 + (fvar(12) >= 45 + 8 * (var(16)%4))
ground.hittime = 16 + (EnemyNear,StateType = C) * 2 + (fvar(12) >= 45 + 8 * (var(16)%4))
guard.ctrltime = 14
ground.velocity = -1, -3
ground.cornerpush.veloff = 0
air.velocity = -1, -3
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5070
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 452

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;HitStop
[Statedef 452]
type = C
movetype = A
physics = C
ctrl = 0
anim = 452
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 49

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 2

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 453

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 454

;---------------------------------------------------------------------------
;Blocked
[Statedef 453]
type = C
movetype = A
physics = C
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -7

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 454

;---------------------------------------------------------------------------
;HitBack
[Statedef 454]
type = C
movetype = A
physics = C
ctrl = 0
anim = 454

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 600]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 210, 2]
type = VelAdd
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
X = fvar(13)
Y = fvar(14)

[State 210, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = PrevStateNo != 3042
value = StateNo + 1

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 601]
type = A
movetype = A
physics = N
ctrl = 0
anim = 601

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3500
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil((19 - 0.25 * P2Dist X) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(((19 - 0.25 * P2Dist X) + 45) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 200, 0

[State 225, 6]
type = Gravity
trigger1 = time > 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveContact
var(10) = time - 5

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 7
persistent = 0
ignorehitpause = 1

[State 625, 1]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 625, 1]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 600, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = A, NA
damage = ifelse(30 - 5 * var(29) < 10, 10, 30 - 5 * var(29)), 0
getpower = 20, 10
givepower = 0, 0
animtype = L
guardflag = HA
hitflag = MAF
priority = 1, Hit
pausetime = 0, 7
hitsound = S200, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 8 + (fvar(12) >= 41 + 8 * (var(16)%4))
ground.hittime = 8 + (fvar(12) >= 41 + 8 * (var(16)%4))
guard.ctrltime = 8
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime  = 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 7, 7, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 602

[State 625, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = ifelse(var(14) = 0, 720, 721)

;---------------------------------------------------------------------------
;HitStop
[Statedef 602]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
anim = 602

[State 625, 4]
type = VarSet
trigger1 = Time = 0
var(19) = 53

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 625, 4]
type = VarAdd
trigger1 = Time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 603

[State 625, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 604

;---------------------------------------------------------------------------
;Blocked
[Statedef 603]
type = A
movetype = A
physics = N
ctrl = 0

[State 625, 4]
type = VarAdd
trigger1 = Time = 0
var(19) = -9

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 625, 4]
type = VarAdd
trigger1 = Time > 0
var(19) = 1

[State 625, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 604

;---------------------------------------------------------------------------
;HitBack
[Statedef 604]
type = A
movetype = A
physics = N
ctrl = 0

[State 625, 1]
type = ChangeAnim
trigger1 = time = 6 - var(10)
value = 604

[State 625, 1]
type = VelAdd
trigger1 = time = 0
X = fvar(13)
Y = fvar(14)

[State 225, 6]
type = Gravity
trigger1 = time > 0

[State 625, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = ifelse(var(14) = 0, 720, 721)

;---------------------------------------------------------------------------
[Statedef 610]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 210, 2]
type = VelAdd
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
X = fvar(13)
Y = fvar(14)

[State 210, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = PrevStateNo != 3042
value = StateNo + 1

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 611]
type = A
movetype = A
physics = N
ctrl = 0
anim = 611

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3500
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(((295.0/17) + (15.0/17) * P2Dist X) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil((((295.0/17) + (15.0/17) * P2Dist X) + 45) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 200, 0

[State 225, 6]
type = Gravity
trigger1 = time > 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveContact
var(10) = time - 4

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 7
persistent = 0
ignorehitpause = 1

[State 625, 1]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 625, 1]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 600, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = A, NA
damage = ifelse(40 - 5 * var(29) < 10, 10, 40 - 5 * var(29)), 0
getpower = 20, 10
givepower = 0, 0
animtype = L
guardflag = HA
hitflag = MAF
priority = 1, Hit
pausetime = 0, 7
hitsound = S200, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 8 + (fvar(12) >= 41 + 8 * (var(16)%4))
ground.hittime = 8 + (fvar(12) >= 41 + 8 * (var(16)%4))
guard.ctrltime = 8
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime  = 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 7, 7, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 612

[State 625, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = ifelse(var(14) = 0, 720, 721)

;---------------------------------------------------------------------------
;HitStop
[Statedef 612]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0

[State 625, 4]
type = VarSet
trigger1 = Time = 0
var(19) = 53

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 625, 4]
type = VarAdd
trigger1 = Time > 0
var(19) = 1

[State 625, 4]
type = ChangeAnim
trigger1 = var(19) < 60
value = 612
elem = var(10)

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 613

[State 625, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 614

;---------------------------------------------------------------------------
;Blocked
[Statedef 613]
type = A
movetype = A
physics = N
ctrl = 0

[State 625, 4]
type = VarAdd
trigger1 = Time = 0
var(19) = -9

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 625, 4]
type = VarAdd
trigger1 = Time > 0
var(19) = 1

[State 625, 4]
type = ChangeAnim
trigger1 = var(19) < 60
value = 612
elem = var(10)

[State 625, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 614

;---------------------------------------------------------------------------
;HitBack
[Statedef 614]
type = A
movetype = A
physics = N
ctrl = 0

[State 625, 1]
type = VelAdd
trigger1 = time = 0
X = fvar(13)
Y = fvar(14)

[State 225, 6]
type = Gravity
trigger1 = time > 0

[State 625, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = ifelse(var(14) = 0, 720, 721)

;---------------------------------------------------------------------------
[Statedef 620]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 210, 2]
type = VelAdd
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
X = fvar(13)
Y = fvar(14)

[State 210, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = PrevStateNo != 3042
value = StateNo + 1

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 621]
type = A
movetype = A
physics = N
ctrl = 0
anim = 621

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3510
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(12 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(57 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 220, 0

[State 200, 5]
type = PowerAdd
trigger1 = AnimElemTime(4) = 0
value = 20

[State 225, 6]
type = Gravity
trigger1 = time > 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 11
persistent = 0
ignorehitpause = 1

[State 625, 4]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 625, 4]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 610, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = A, NA
damage = ifelse(70 - 5 * var(29) < 10, 10, 70 - 5 * var(29)), 0
getpower = 80, 40
givepower = 20, 0
animtype = M
guardflag = HA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 8
hitsound = S220, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 11 + (EnemyNear,StateType = C) + (fvar(12) >= 37 + 8 * (var(16)%4))
ground.hittime = 11 + (EnemyNear,StateType = C) + (fvar(12) >= 37 + 8 * (var(16)%4))
guard.ctrltime = 10
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime = 6
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 11, 11, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 622

[State 625, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = ifelse(var(14) = 0, 720, 721)

;---------------------------------------------------------------------------
;HitStop
[Statedef 622]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
anim = 622

[State 625, 4]
type = VarSet
trigger1 = Time = 0
var(19) = 52

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 625, 4]
type = VarAdd
trigger1 = Time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 623

[State 625, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 624

;---------------------------------------------------------------------------
;Blocled
[Statedef 623]
type = A
movetype = A
physics = N
ctrl = 0

[State 625, 4]
type = VarAdd
trigger1 = Time = 0
var(19) = -8

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 625, 4]
type = VarAdd
trigger1 = Time > 0
var(19) = 1

[State 625, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 624

;---------------------------------------------------------------------------
;HitBack
[Statedef 624]
type = A
movetype = A
physics = N
ctrl = 0
anim = 624

[State 225, 6]
type = VelAdd
trigger1 = time = 0
X = fvar(13)
Y = fvar(14)

[State 225, 6]
type = Gravity
trigger1 = time > 0

[State 625, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = ifelse(var(14) = 0, 720, 721)

;---------------------------------------------------------------------------
[Statedef 630]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 210, 2]
type = VelAdd
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
X = fvar(13)
Y = fvar(14)

[State 210, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = PrevStateNo != 3042
value = StateNo + 1

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 631]
type = A
movetype = A
physics = N
ctrl = 0
anim = 631

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3510
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil((20 + (2.0/3) * P2Dist X) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(((20 + (2.0/3) * P2Dist X) + 45) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 220, 0

[State 200, 5]
type = PowerAdd
trigger1 = AnimElemTime(4) = 0
value = 20

[State 225, 6]
type = Gravity
trigger1 = time > 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 11
persistent = 0
ignorehitpause = 1

[State 625, 4]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 625, 4]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 615, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = A, NA
damage = ifelse(80 - 5 * var(29) < 10, 10, 80 - 5 * var(29)), 0
getpower = 70, 20
givepower = 10, 0
animtype = M
guardflag = HA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 8
hitsound = S220, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 11 + (EnemyNear,StateType = C) + (fvar(12) >= 37 + 8 * (var(16)%4))
ground.hittime = 11 + (EnemyNear,StateType = C) + (fvar(12) >= 37 + 8 * (var(16)%4))
guard.ctrltime = 10
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 11, 11, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 632

[State 625, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = ifelse(var(14) = 0, 720, 721)

;---------------------------------------------------------------------------
;HitStop
[Statedef 632]
type = A
movetype = A
physics = N
ctrl = 0
anim = 632
velset = 0, 0

[State 625, 4]
type = VarSet
trigger1 = Time = 0
var(19) = 52

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 625, 4]
type = VarAdd
trigger1 = Time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 633

[State 625, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 634

;---------------------------------------------------------------------------
;Blocked
[Statedef 633]
type = A
movetype = A
physics = N
ctrl = 0

[State 625, 4]
type = VarAdd
trigger1 = Time = 0
var(19) = -8

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 625, 4]
type = VarAdd
trigger1 = Time > 0
var(19) = 1

[State 625, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 634

;---------------------------------------------------------------------------
;HitBack
[Statedef 634]
type = A
movetype = A
physics = N
ctrl = 0
anim = 634

[State 625, 4]
type = VelAdd
trigger1 = time = 0
X = fvar(13)
Y = fvar(14)

[State 225, 6]
type = Gravity
trigger1 = time > 0

[State 625, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = ifelse(var(14) = 0, 720, 721)

;---------------------------------------------------------------------------
[Statedef 640]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 210, 2]
type = VelAdd
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
X = fvar(13)
Y = fvar(14)

[State 210, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = PrevStateNo != 3042
value = StateNo + 1

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 641]
type = A
movetype = A
physics = N
ctrl = 0
anim = 641

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3520
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(((80.0/11) + (15.0/44) * P2Dist X) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil((((80.0/11) + (15.0/44) * P2Dist X) + 45) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 240, 0

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 1000, 0

[State 200, 5]
type = PowerAdd
trigger1 = AnimElemTime(6) = 0
value = 30

[State 225, 6]
type = Gravity
trigger1 = time > 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 15
persistent = 0
ignorehitpause = 1

[State 200, 5]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 200, 5]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 620, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = A, NA
damage = ifelse(100 - 5 * var(29) < 10, 10, 100 - 5 * var(29)), 0
getpower = 140, 60
givepower = 40, 0
animtype = H
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 9
hitsound = S240, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 14 + (EnemyNear,StateType = C) * 2 + (fvar(12) >= 33 + 8 * (var(16)%4))
ground.hittime = 14 + (EnemyNear,StateType = C) + (fvar(12) >= 33 + 8 * (var(16)%4))
guard.ctrltime = 12
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime = 8
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 15, 15, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 642

[State 625, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = ifelse(var(14) = 0, 720, 721)

;---------------------------------------------------------------------------
;HitStop
[Statedef 642]
type = A
movetype = A
physics = N
ctrl = 0
anim = 642
velset = 0, 0

[State 625, 4]
type = VarSet
trigger1 = Time = 0
var(19) = 51

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 625, 4]
type = VarAdd
trigger1 = Time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 643

[State 625, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 644

;---------------------------------------------------------------------------
;Blocked
[Statedef 643]
type = A
movetype = A
physics = N
ctrl = 0

[State 625, 4]
type = VarAdd
trigger1 = Time = 0
var(19) = -7

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 625, 4]
type = VarAdd
trigger1 = Time > 0
var(19) = 1

[State 625, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 644

;---------------------------------------------------------------------------
;HitBack
[Statedef 644]
type = A
movetype = A
physics = N
ctrl = 0
anim = 644

[State 200, 5]
type = VelAdd
trigger1 = time = 0
X = fvar(13)
Y = fvar(14)

[State 225, 6]
type = Gravity
trigger1 = time > 0

[State 625, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = ifelse(var(14) = 0, 720, 721)

;---------------------------------------------------------------------------
[Statedef 660]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 210, 2]
type = VelAdd
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
X = fvar(13)
Y = fvar(14)

[State 210, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = PrevStateNo != 3042
value = StateNo + 1

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 661]
type = A
movetype = A
physics = N
ctrl = 0
anim = 661

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3500
pos = ceil(88 * const(size.xscale)), ceil(60 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(88 * const(size.xscale)), ceil(105 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 200, 0

[State 225, 6]
type = Gravity
trigger1 = time > 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 625, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time - 2

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 5
persistent = 0
ignorehitpause = 1

[State 625, 4]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 625, 4]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 630, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = A, NA
damage = ifelse(30 - 5 * var(29) < 10, 10, 30 - 5 * var(29)), 0
getpower = 20, 10
givepower = 0, 0
animtype = L
guardflag = HA
hitflag = MAF
priority = 1, Hit
pausetime = 0, 7
hitsound = S260, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 8 + (fvar(12) >= 43 + 8 * (var(16)%4))
ground.hittime = 8 + (fvar(12) >= 43 + 8 * (var(16)%4))
guard.ctrltime = 8
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime = 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 5, 5, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 662

[State 625, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = ifelse(var(14) = 0, 720, 721)

;---------------------------------------------------------------------------
;HitStop
[Statedef 662]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0

[State 625, 4]
type = VarSet
trigger1 = time = 0
var(19) = 53

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 625, 4]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 625, 4]
type = ChangeAnim
trigger1 = var(19) < 60
value = 662
elem = var(10)

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 663

[State 625, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 664

;---------------------------------------------------------------------------
;Blocked
[Statedef 663]
type = A
movetype = A
physics = N
ctrl = 0

[State 625, 4]
type = VarAdd
trigger1 = time = 0
var(19) = -9

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 625, 4]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 625, 4]
type = ChangeAnim
trigger1 = var(19) < 60
value = 662
elem = var(10)

[State 625, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 664

;---------------------------------------------------------------------------
;HitBack
[Statedef 664]
type = A
movetype = A
physics = N
ctrl = 0

[State 625, 1]
type = VelAdd
trigger1 = time = 0
X = fvar(13)
Y = fvar(14)

[State 225, 6]
type = Gravity
trigger1 = time > 0

[State 625, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = ifelse(var(14) = 0, 720, 721)

;---------------------------------------------------------------------------
[Statedef 680]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 210, 2]
type = VelAdd
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
X = fvar(13)
Y = fvar(14)

[State 210, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = PrevStateNo != 3042
value = StateNo + 1

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 681]
type = A
movetype = A
physics = N
ctrl = 0
anim = 681

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3510
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(((780.0/17) - (15.0/34) * P2Dist X) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil((((780.0/17) - (15.0/34) * P2Dist X) + 45) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 220, 0

[State 200, 5]
type = PowerAdd
trigger1 = AnimElemTime(6) = 0
value = 20

[State 225, 6]
type = Gravity
trigger1 = time > 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 645, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time - 10

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 9
persistent = 0
ignorehitpause = 1

[State 625, 4]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 625, 4]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 640, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = A, NA
damage = ifelse(70 - 5 * var(29) < 10, 10, 70 - 5 * var(29)), 0
getpower = 80, 40
givepower = 20, 0
animtype = M
guardflag = HA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 8
hitsound = S280, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 11 + (EnemyNear,StateType = C) + (fvar(12) >= 39 + 8 * (var(16)%4))
ground.hittime = 11 + (EnemyNear,StateType = C) + (fvar(12) >= 39 + 8 * (var(16)%4))
guard.ctrltime = 10
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime = 6
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 9, 9, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 682

[State 625, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = ifelse(var(14) = 0, 720, 721)

;---------------------------------------------------------------------------
;HitStop
[Statedef 682]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
anim = 682

[State 625, 4]
type = VarSet
trigger1 = time = 0
var(19) = 52

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 625, 4]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 683

[State 625, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 684

;---------------------------------------------------------------------------
;Blocked
[Statedef 683]
type = A
movetype = A
physics = N
ctrl = 0

[State 625, 4]
type = VarAdd
trigger1 = time = 0
var(19) = -8

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 625, 4]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 625, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 684

;---------------------------------------------------------------------------
;HitBack
[Statedef 684]
type = A
movetype = A
physics = N
ctrl = 0

[State 625, 1]
type = VelAdd
trigger1 = time = 0
X = fvar(13)
Y = fvar(14)

[State 225, 6]
type = Gravity
trigger1 = time > 0

[State 625, 4]
type = ChangeAnim
trigger1 = time = 4 - var(10)
value = 684

[State 625, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = ifelse(var(14) = 0, 720, 721)

;---------------------------------------------------------------------------
[Statedef 700]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 210, 2]
type = VelAdd
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
X = fvar(13)
Y = fvar(14)

[State 210, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = PrevStateNo != 3042
value = StateNo + 1

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 701]
type = A
movetype = A
physics = N
ctrl = 0
anim = 701

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3520
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(35 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(80 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(12) = 0
value = 240, 0

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(12) = 0
value = 1800, 0

[State 200, 5]
type = PowerAdd
trigger1 = AnimElemTime(13) = 0
value = 30

[State 225, 6]
type = Gravity
trigger1 = time > 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 645, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time - 15

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 13
persistent = 0
ignorehitpause = 1

[State 645, 1]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 645, 1]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 650, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = A, NA
damage = ifelse(120 - 5 * var(29) < 10, 10, 120 - 5 * var(29)), 0
getpower = 140, 60
givepower = 40, 0
animtype = H
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 9
hitsound = S300, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 14 + (EnemyNear,StateType = C) * 2 + (fvar(12) >= 35 + 8 * (var(16)%4))
ground.hittime = 14 + (EnemyNear,StateType = C) * 2 + (fvar(12) >= 35 + 8 * (var(16)%4))
guard.ctrltime = 12
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime = 8
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 13, 13, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 702

[State 625, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = ifelse(var(14) = 0, 720, 721)

;---------------------------------------------------------------------------
;HitStop
[Statedef 702]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
anim = 702

[State 625, 4]
type = VarSet
trigger1 = time = 0
var(19) = 51

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 625, 4]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 703

[State 625, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 704

;---------------------------------------------------------------------------
;Blocked
[Statedef 703]
type = A
movetype = A
physics = N
ctrl = 0

[State 625, 4]
type = VarAdd
trigger1 = time = 0
var(19) = -7

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 625, 4]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 625, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 704

;---------------------------------------------------------------------------
;HitBack
[Statedef 704]
type = A
movetype = A
physics = N
ctrl = 0

[State 625, 1]
type = VelAdd
trigger1 = time = 0
X = fvar(13)
Y = fvar(14)

[State 625, 2]
type = ChangeAnim
trigger1 = time = ifelse(var(10) = 1, 2, 4 - var(10))
value = 704

[State 225, 6]
type = Gravity
trigger1 = time > 0

[State 625, 4]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = ifelse(var(14) = 0, 720, 721)

;---------------------------------------------------------------------------
[Statedef 720]
type = S
movetype = A
physics = S
velset = 0, 0
ctrl = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
Y = 0

[State 52, 2]
type = PlaySnd
trigger1 = Time = 0
value = 52, 0

[State 52, 2]
type = ChangeAnim
trigger1 = Time = 0
value = 47 + (P2Dist X < 0)

[State 52, 2]
type = Turn
trigger1 = Time = 0
trigger1 = P2Dist X < 0

[State 52, 4]
type = CtrlSet
trigger1 = Time = 2
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 721]
type = S
movetype = A
physics = S
velset = 0, 0
ctrl = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
Y = 0

[State 52, 2]
type = PlaySnd
trigger1 = Time = 0
value = 52, 0

[State 52, 2]
type = ChangeAnim
trigger1 = Time = 0
value = 47 + (P2Dist X < 0)

[State 52, 2]
type = Turn
trigger1 = Time = 0
trigger1 = P2Dist X < 0

[State 40, 1]
type = VarSet
trigger1 = Time = 0
var(14) = 0

[State 52, 4]
type = CtrlSet
trigger1 = Time = 2
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 800]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 801]
type = C
movetype = A
physics = C
ctrl = 0
anim = 801

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3520
pos = ceil(140 * const(size.xscale)), ceil(25 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(140 * const(size.xscale)), ceil(70 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 1
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 11
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 0

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(8) = 0
value = 240, 0

[State 220, 1]
type = PowerAdd
trigger1 = AnimElemTime(9) = 0
value = 30

[State 220, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = C, NA
damage = ifelse(140 - 5 * var(29) < 10, 10, 140 - 5 * var(29)), 0
getpower = 140, 60
givepower = 40, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 11
hitsound = S240, 1
guardsound = S200, 2
guard.ctrltime = 14
ground.velocity = -1.9 * 5, -5.7
ground.cornerpush.veloff = 0
air.velocity = -1.9 * 5, -5.7
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = var(16) < 5
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 11, 11, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 802

[State 220, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 809

;---------------------------------------------------------------------------
;HitStop
[Statedef 802]
type = C
movetype = A
physics = C
ctrl = 0
velset = 0, 0
anim = 802

[State 220, 1]
type = VarSet
trigger1 = time = 0
var(19) = 49

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 2

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 220, 1]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 803

[State 220, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 804

;---------------------------------------------------------------------------
;Blocked
[Statedef 803]
type = C
movetype = A
physics = C
ctrl = 0

[State 220, 1]
type = VarAdd
trigger1 = time = 0
var(19) = -7

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 220, 1]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 220, 7]
type = ChangeState
trigger1 = var(19) >= 60
value = 804

;---------------------------------------------------------------------------
;HitBack
[Statedef 804]
type = C
movetype = A
physics = C
ctrl = 0
anim = 804

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 809

;---------------------------------------------------------------------------
[Statedef 809]
type = C
movetype = A
physics = C
ctrl = 1
anim = 809

[State 1101]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 810]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 210, 2]
type = Null;VelAdd
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
X = fvar(13)
Y = fvar(14)

[State 210, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = PrevStateNo != 3042
value = StateNo + 1

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 811]
type = A
movetype= A
physics = N
ctrl = 0
anim = 811
velset = 0, 0

[State 221]
type = VelAdd
trigger1 = AnimElemTime(2) = 0
X = 1.73 * 2
Y = 1 * 2

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3500
pos = ceil(0 * const(size.xscale) + P2Dist X), ceil((26 + (3.0/8) * P2Dist X) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(0 * const(size.xscale) + P2Dist X), ceil(((26 + (3.0/8) * P2Dist X) + 45) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 200, 0

[State 1000, 1]
type = PowerAdd
trigger1 = AnimElemTime(4) = 0
value = 20

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 1000, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 410, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time - 9

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 410, 1]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 410, 1]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 625, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = A, NA
damage = ifelse(50 - 5 * var(29) < 10, 10, 50 - 5 * var(29)), 0
getpower = 90, 30
givepower = 20, 0
animtype = L
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 7
hitsound = S1400, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 8
ground.hittime = 8
guard.ctrltime = 8
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime = 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))

[State 1000, 1]
type = ChangeState
trigger1 = MoveContact
value = 812

[State 1000, 1]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 818

;---------------------------------------------------------------------------
;HitStop
[Statedef 812]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 53

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 625, 4]
type = ChangeAnim
trigger1 = var(19) < 60
value = 811
elem = ifelse(var(10) <= 3, 4, Floor(((var(10) - 4)%16)/2) + 5)

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = P2StateNo = [3000, 3099]
value = 813

[State 310, 11]
type = ChangeState
trigger1 = var(19) >= 60
value = 814

;---------------------------------------------------------------------------
;Blocked
[Statedef 813]
type = A
movetype = A
physics = N
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -9

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 625, 4]
type = ChangeAnim
trigger1 = var(19) < 60
value = 811
elem = ifelse(var(10) <= 3, 4, Floor(((var(10) - 4)%16)/2) + 5)

[State 310, 11]
type = ChangeState
trigger1 = var(19) >= 60
value = 814

;---------------------------------------------------------------------------
[Statedef 814]
type = A
movetype = A
physics = N
ctrl = 0

[State 221]
type = VelAdd
trigger1 = time = 0
X = 1.73 * 2
Y = 1 * 2

[State 625, 4]
type = ChangeAnim
triggerall = time = 0
trigger1 = var(10) <= 3
trigger2 = var(10) > 3
trigger2 = (var(10) - 4)%16 != [2, 9]
value = 814
elem = 2

[State 625, 4]
type = ChangeAnim
triggerall = time = 0
trigger1 = var(10) > 3
trigger1 = (var(10) - 4)%16 = [2, 9]
value = 814
elem = 6

[State 410, 1]
type = VarSet
trigger1 = time = 0
trigger1 = Anim = 814
trigger1 = AnimElem = 2
var(10) = 2

[State 410, 1]
type = VarSet
trigger1 = time = 0
trigger1 = Anim = 814
trigger1 = AnimElem = 6
var(10) = 10

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3500
pos = ceil(0 * const(size.xscale) + P2Dist X), ceil((26 + (3.0/8) * P2Dist X) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(0 * const(size.xscale) + P2Dist X), ceil(((26 + (3.0/8) * P2Dist X) + 45) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 410, 1]
type = VarAdd
trigger1 = time > 1
var(10) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 410, 1]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 410, 1]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 625, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
trigger1 = time >= 6
attr = A, NA
damage = ifelse(15 - 5 * var(29) < 10, 10, 15 - 5 * var(29)), 0
getpower = 0, 0
givepower = 20, 0
animtype = L
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 7
hitsound = S1400, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 8
ground.hittime = 8
guard.ctrltime = 8
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime = 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))

[State 1000, 1]
type = ChangeState
trigger1 = MoveContact
value = 815

[State 1000, 1]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 818

;---------------------------------------------------------------------------
;HitStop
[Statedef 815]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 53

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 625, 4]
type = ChangeAnim
trigger1 = var(19) < 60
value = 814
elem = 1 + (var(10)%16)/2

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = P2StateNo = [3000, 3099]
value = 816

[State 310, 11]
type = ChangeState
trigger1 = var(19) >= 60
value = 817

;---------------------------------------------------------------------------
;Blocked
[Statedef 816]
type = A
movetype = A
physics = N
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -9

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 625, 4]
type = ChangeAnim
trigger1 = var(19) < 60
value = 814
elem = 1 + (var(10)%16)/2

[State 310, 11]
type = ChangeState
trigger1 = var(19) >= 60
value = 817

;---------------------------------------------------------------------------
[Statedef 817]
type = A
movetype = A
physics = N
ctrl = 0

[State 221]
type = VelAdd
trigger1 = time = 0
X = 1.73 * 2
Y = 1 * 2

[State 625, 4]
type = ChangeAnim
triggerall = time = 0
trigger1 = var(10)%16 != [2, 9]
value = 814
elem = 2

[State 625, 4]
type = ChangeAnim
triggerall = time = 0
trigger1 = var(10)%16 = [2, 9]
value = 814
elem = 6

[State 1000, 1]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 818

;---------------------------------------------------------------------------
[Statedef 818]
type = S
movetype = A
physics = S
ctrl = 0
anim = 818
velset = 0, 0

[State 1000, 1]
type = PosSet
trigger1 = Time = 0
Y = 0

[State 1000, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 819

;---------------------------------------------------------------------------
[Statedef 819]
type = S
movetype = A
physics = S
ctrl = 1
anim = 819

[State 1000, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 820]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 210, 2]
type = Null;VelAdd
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
X = fvar(13)
Y = fvar(14)

[State 210, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = PrevStateNo != 3042
value = StateNo + 1

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 821]
type = A
movetype= A
physics = N
ctrl = 0
anim = 821
velset = 0, 0

[State 221]
type = VelAdd
trigger1 = AnimElemTime(2) = 0
X = 1.41 * 2
Y = 1.41 * 2

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3500
pos = ceil(0 * const(size.xscale) + P2Dist X), ceil(((-40.0/13) + (55.0/52) * P2Dist X) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(0 * const(size.xscale) + P2Dist X), ceil((((-40.0/13) + (55.0/52) * P2Dist X) + 45) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 200, 0

[State 1000, 1]
type = PowerAdd
trigger1 = AnimElemTime(4) = 0
value = 20

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 1000, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 410, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time - 9

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 410, 1]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 410, 1]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 625, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = A, NA
damage = ifelse(60 - 5 * var(29) < 10, 10, 60 - 5 * var(29)), 0
getpower = 90, 30
givepower = 20, 0
animtype = L
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 8
hitsound = S1400, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 8
ground.hittime = 8
guard.ctrltime = 8
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime = 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))

[State 1000, 1]
type = ChangeState
trigger1 = MoveContact
value = 822

[State 1000, 1]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 818

;---------------------------------------------------------------------------
;HitStop
[Statedef 822]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 52

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 625, 4]
type = ChangeAnim
trigger1 = var(19) < 60
value = 821
elem = ifelse(var(10) <= 3, 4, Floor(((var(10) - 4)%16)/2) + 5)

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = P2StateNo = [3000, 3099]
value = 823

[State 310, 11]
type = ChangeState
trigger1 = var(19) >= 60
value = 824

;---------------------------------------------------------------------------
;Blocked
[Statedef 823]
type = A
movetype = A
physics = N
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -8

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 625, 4]
type = ChangeAnim
trigger1 = var(19) < 60
value = 821
elem = ifelse(var(10) <= 3, 4, Floor(((var(10) - 4)%16)/2) + 5)

[State 310, 11]
type = ChangeState
trigger1 = var(19) >= 60
value = 824

;---------------------------------------------------------------------------
[Statedef 824]
type = A
movetype = A
physics = N
ctrl = 0

[State 221]
type = VelAdd
trigger1 = time = 0
X = 1.41 * 2
Y = 1.41 * 2

[State 625, 4]
type = ChangeAnim
triggerall = time = 0
trigger1 = var(10) <= 3
trigger2 = var(10) > 3
trigger2 = (var(10) - 4)%16 != [2, 9]
value = 824
elem = 2

[State 625, 4]
type = ChangeAnim
triggerall = time = 0
trigger1 = var(10) > 3
trigger1 = (var(10) - 4)%16 = [2, 9]
value = 824
elem = 6

[State 410, 1]
type = VarSet
trigger1 = time = 0
trigger1 = Anim = 824
trigger1 = AnimElem = 2
var(10) = 2

[State 410, 1]
type = VarSet
trigger1 = time = 0
trigger1 = Anim = 824
trigger1 = AnimElem = 6
var(10) = 10

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3500
pos = ceil(0 * const(size.xscale) + P2Dist X), ceil(((-40.0/13) + (55.0/52) * P2Dist X) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(0 * const(size.xscale) + P2Dist X), ceil((((-40.0/13) + (55.0/52) * P2Dist X) + 45) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 410, 1]
type = VarAdd
trigger1 = time > 1
var(10) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 410, 1]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 410, 1]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 625, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
trigger1 = time >= 6
attr = A, NA
damage = ifelse(20 - 5 * var(29) < 10, 10, 20 - 5 * var(29)), 0
getpower = 0, 0
givepower = 20, 0
animtype = L
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 8
hitsound = S1400, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 8
ground.hittime = 8
guard.ctrltime = 8
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime = 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))

[State 1000, 1]
type = ChangeState
trigger1 = MoveContact
value = 825

[State 1000, 1]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 818

;---------------------------------------------------------------------------
;HitStop
[Statedef 825]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 52

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 625, 4]
type = ChangeAnim
trigger1 = var(19) < 60
value = 824
elem = 1 + (var(10)%16)/2

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = P2StateNo = [3000, 3099]
value = 826

[State 310, 11]
type = ChangeState
trigger1 = var(19) >= 60
value = 827

;---------------------------------------------------------------------------
;Blocked
[Statedef 826]
type = A
movetype = A
physics = N
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -8

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 625, 4]
type = ChangeAnim
trigger1 = var(19) < 60
value = 824
elem = 1 + (var(10)%16)/2

[State 310, 11]
type = ChangeState
trigger1 = var(19) >= 60
value = 827

;---------------------------------------------------------------------------
[Statedef 827]
type = A
movetype = A
physics = N
ctrl = 0

[State 221]
type = VelAdd
trigger1 = time = 0
X = 1.41 * 2
Y = 1.41 * 2

[State 625, 4]
type = ChangeAnim
triggerall = time = 0
trigger1 = var(10)%16 != [2, 9]
value = 824
elem = 2

[State 625, 4]
type = ChangeAnim
triggerall = time = 0
trigger1 = var(10)%16 = [2, 9]
value = 824
elem = 6

[State 1000, 1]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 818

;---------------------------------------------------------------------------
[Statedef 830]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 210, 2]
type = Null;VelAdd
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
X = fvar(13)
Y = fvar(14)

[State 210, 1]
type = ChangeState
trigger1 = Time = 0
trigger1 = PrevStateNo != 3042
value = StateNo + 1

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3042
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 831]
type = A
movetype= A
physics = N
ctrl = 0
anim = 831
velset = 0, 0

[State 221]
type = VelAdd
trigger1 = AnimElemTime(2) = 0
X = 1 * 2
Y = 1.73 * 2

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3500
pos = ceil(0 * const(size.xscale) + P2Dist X), ceil(((-155) + 6 * P2Dist X) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(0 * const(size.xscale) + P2Dist X), ceil((((-155) + 6 * P2Dist X) + 45) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 200, 0

[State 1000, 1]
type = PowerAdd
trigger1 = AnimElemTime(4) = 0
value = 30

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 1000, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 410, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time - 9

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(18) = 5
persistent = 0
ignorehitpause = 1

[State 410, 1]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 410, 1]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 625, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = A, NA
damage = ifelse(80 - 5 * var(29) < 10, 10, 80 - 5 * var(29)), 0
getpower = 140, 50
givepower = 20, 0
animtype = L
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 8
hitsound = S1400, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 8
ground.hittime = 8
guard.ctrltime = 8
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime = 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 5, 5, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))

[State 1000, 1]
type = ChangeState
trigger1 = MoveContact
value = 832

[State 1000, 1]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 818

;---------------------------------------------------------------------------
;HitStop
[Statedef 832]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 52

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 625, 4]
type = ChangeAnim
trigger1 = var(19) < 60
value = 831
elem = ifelse(var(10) <= 3, 4, Floor(((var(10) - 4)%16)/2) + 5)

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = P2StateNo = [3000, 3099]
value = 833

[State 310, 11]
type = ChangeState
trigger1 = var(19) >= 60
value = 834

;---------------------------------------------------------------------------
;Blocked
[Statedef 833]
type = A
movetype = A
physics = N
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -8

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 625, 4]
type = ChangeAnim
trigger1 = var(19) < 60
value = 831
elem = ifelse(var(10) <= 3, 4, Floor(((var(10) - 4)%16)/2) + 5)

[State 310, 11]
type = ChangeState
trigger1 = var(19) >= 60
value = 834

;---------------------------------------------------------------------------
[Statedef 834]
type = A
movetype = A
physics = N
ctrl = 0

[State 221]
type = VelAdd
trigger1 = time = 0
X = 1 * 2
Y = 1.73 * 2

[State 625, 4]
type = ChangeAnim
triggerall = time = 0
trigger1 = var(10) <= 3
trigger2 = var(10) > 3
trigger2 = (var(10) - 4)%16 != [2, 9]
value = 834
elem = 2

[State 625, 4]
type = ChangeAnim
triggerall = time = 0
trigger1 = var(10) > 3
trigger1 = (var(10) - 4)%16 = [2, 9]
value = 834
elem = 6

[State 410, 1]
type = VarSet
trigger1 = time = 0
trigger1 = Anim = 834
trigger1 = AnimElem = 2
var(10) = 2

[State 410, 1]
type = VarSet
trigger1 = time = 0
trigger1 = Anim = 834
trigger1 = AnimElem = 6
var(10) = 10

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3500
pos = ceil(0 * const(size.xscale) + P2Dist X), ceil(((-155) + 6 * P2Dist X) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(0 * const(size.xscale) + P2Dist X), ceil((((-155) + 6 * P2Dist X) + 45) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 410, 1]
type = VarAdd
trigger1 = time > 1
var(10) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(18) = 5
persistent = 0
ignorehitpause = 1

[State 410, 1]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 410, 1]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 625, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
trigger1 = time >= 6
attr = A, NA
damage = ifelse(20 - 5 * var(29) < 10, 10, 20 - 5 * var(29)), 0
getpower = 0, 0
givepower = 20, 0
animtype = L
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 8
hitsound = S1400, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 8
ground.hittime = 8
guard.ctrltime = 8
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime = 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 5, 5, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))

[State 1000, 1]
type = ChangeState
trigger1 = MoveContact
value = 835

[State 1000, 1]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 818

;---------------------------------------------------------------------------
;HitStop
[Statedef 835]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 52

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 625, 4]
type = ChangeAnim
trigger1 = var(19) < 60
value = 834
elem = 1 + (var(10)%16)/2

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = P2StateNo = [3000, 3099]
value = 836

[State 310, 11]
type = ChangeState
trigger1 = var(19) >= 60
value = 837

;---------------------------------------------------------------------------
;Blocked
[Statedef 836]
type = A
movetype = A
physics = N
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -8

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 625, 4]
type = ChangeAnim
trigger1 = var(19) < 60
value = 834
elem = 1 + (var(10)%16)/2

[State 310, 11]
type = ChangeState
trigger1 = var(19) >= 60
value = 837

;---------------------------------------------------------------------------
[Statedef 837]
type = A
movetype = A
physics = N
ctrl = 0

[State 221]
type = VelAdd
trigger1 = time = 0
X = 1 * 2
Y = 1.73 * 2

[State 625, 4]
type = ChangeAnim
triggerall = time = 0
trigger1 = var(10)%16 != [2, 9]
value = 834
elem = 2

[State 625, 4]
type = ChangeAnim
triggerall = time = 0
trigger1 = var(10)%16 = [2, 9]
value = 834
elem = 6

[State 1000, 1]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 818

;---------------------------------------------------------------------------
;Throw
[Statedef 910]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 911]
type = S
movetype = A
physics = S
velset = 0, 0
ctrl = 0
anim = 901

[State 911]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 200, 0

[State 911]
type = HitDef
triggerall = P2BodyDist X <= 26
trigger1 = var(1) >= 6
trigger1 = EnemyNear,Facing != Facing
trigger2 = var(1) = -1
trigger2 = EnemyNear,Facing = Facing
attr = S, NT
hitflag = M
priority = 5, Miss
p2facing = 1
P1StateNo = 912
P2StateNo = 916

[State 911]
type = HitDef
triggerall = P2BodyDist X <= 26
trigger1 = var(1) >= 6
trigger1 = EnemyNear,Facing = Facing
trigger2 = var(1) = -1
trigger2 = EnemyNear,Facing != Facing
attr = S, NT
hitflag = M
priority = 5, Miss
p2facing = -1
P1StateNo = 932
P2StateNo = 936

[State 800, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 912]
type = S
movetype= A
physics = S
anim = 912
poweradd = 70

[State 912]
type = PlaySnd
trigger1 = time = 0
value = 900, 0

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 900, 2

[State 902]
type = TargetState
triggerall = var(2) = 1
triggerall = time <= 5
triggerall = var(16) < 5
trigger1 = target,command = "x"
trigger2 = target,command = "y"
trigger3 = target,command = "z"
trigger4 = target,command = "a"
trigger5 = target,command = "b"
trigger6 = target,command = "c"
value = 945

[State 902]
type = ChangeState
triggerall = var(2) = 1
triggerall = time <= 5
triggerall = var(16) >= 5
trigger1 = target,command = "x"
trigger1 = target,command = "a"
value = 940

[State 902]
type = ChangeState
triggerall = var(2) = 1
triggerall = time <= 5
triggerall = var(16) < 5
trigger1 = target,command = "x"
trigger2 = target,command = "y"
trigger3 = target,command = "z"
trigger4 = target,command = "a"
trigger5 = target,command = "b"
trigger6 = target,command = "c"
value = 940

[State 801, 5]
type = NotHitBy
value = SCA
trigger1 = 1

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(1) = 0
pos = 60, 0

[State 7901]
type = Width
trigger1 = AnimElemTime(1) = 0
edge = 60, 0

[State 801, Hurt 11]
type = PlaySnd
trigger1 = AnimElemTime(7) = 0
value = 240, 1

[State 221]
type = Explod
trigger1 = AnimElemTime(7) = 0
anim= 3520
pos = 100, 35
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 801, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElemTime(7) = 0
value = -ceil(120 * 0.87)

[State 801, Hurt 11]
type = VarAdd
trigger1 = AnimElemTime(7) = 0
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 13, 13, 48 + 8 * (var(16)%4) - fvar(12))

[State 810, Throw 11]
type = TargetState
trigger1 = AnimTime = 0
value = ifelse(fvar(12) < 48 + 8 * (var(16)%4), 917, 918)

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 913

;---------------------------------------------------------------------------
[Statedef 913]
type = S
movetype= A
physics = S
ctrl = 0
anim = 913

[State 225, 6]
type = VelAdd
trigger1 = time = 0
X = -10
persistent = 0

[State 822, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 914

;---------------------------------------------------------------------------
[Statedef 914]
type = S
movetype= A
physics = S
ctrl = 1
anim = 914

[State 822, 1]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 916]
type = A
movetype = H
physics = N
velset = 0, 0

[State 820, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 916

[State 5000, 5]
type = VarAdd
trigger1 = AuthorName = "Umihei"
trigger1 = var(16) >= 5
trigger1 = var(28)/100 = 1
var(28) = -100
ignorehitpause = 1

[State 902]
type = SelfState
triggerall = EnemyNear,var(2) = 1
triggerall = time <= 5
triggerall = var(16) >= 5
trigger1 = AuthorName = "Umihei"
trigger1 = command = "x"
trigger1 = command = "a"
value = 945

[State 820, 1]
type = SprPriority
trigger1 = AnimElemTime(1) = 0
value = 1

[State 1953]
type = VarAdd
trigger1 = AuthorName = "Umihei"
trigger1 = AnimElemTime(7) = 0
fvar(11) = ifelse(48 + 8 * (var(16)%4) - fvar(11) > 13, 13, 48 + 8 * (var(16)%4) - fvar(11))

[State 821, 4]
type = SelfState
trigger1 = Time >= 180
value = 5100

;---------------------------------------------------------------------------
[Statedef 917]
type = A
movetype = H
physics = N
velset = -5, -10
sprpriority = 1

[State 820, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 5050

[State 821, 4]
type = VelAdd
trigger1 = time > 0
Y = .65

[State 1953]
type = SelfState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 918]
type = A
movetype = H
physics = N
velset = -5, -10
sprpriority = 1

[State 820, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 5050

[State 821, 4]
type = VelAdd
trigger1 = time > 0
Y = .65

[State 1953]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 6100

;---------------------------------------------------------------------------
;Throw
[Statedef 920]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 921]
type = S
movetype = A
physics = S
velset = 0, 0
ctrl = 0
anim = 901

[State 921]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 200, 0

[State 911]
type = HitDef
triggerall = P2BodyDist X <= 26
trigger1 = var(1) >= 6
trigger1 = EnemyNear,Facing != Facing
trigger2 = var(1) = -1
trigger2 = EnemyNear,Facing = Facing
attr = S, NT
hitflag = M
priority = 5, Miss
p2facing = 1
P1StateNo = 922
P2StateNo = 926

[State 911]
type = HitDef
triggerall = P2BodyDist X <= 26
trigger1 = var(1) >= 6
trigger1 = EnemyNear,Facing = Facing
trigger2 = var(1) = -1
trigger2 = EnemyNear,Facing != Facing
attr = S, NT
hitflag = M
priority = 5, Miss
p2facing = -1
P1StateNo = 932
P2StateNo = 936

[State 805, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 922]
type = S
movetype = A
physics = S
anim = 922
poweradd = 70

[State 912]
type = PlaySnd
trigger1 = time = 0
value = 900, 0

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 900, 2

[State 912]
type = VarAdd
trigger1 = time = 0
var(29) = 5

[State 902]
type = TargetState
triggerall = var(2) = 1
triggerall = time <= 5
triggerall = var(16) < 5
trigger1 = target,command = "x"
trigger2 = target,command = "y"
trigger3 = target,command = "z"
trigger4 = target,command = "a"
trigger5 = target,command = "b"
trigger6 = target,command = "c"
value = 945

[State 902]
type = ChangeState
triggerall = var(2) = 1
triggerall = time <= 5
triggerall = var(16) >= 5
trigger1 = target,command = "x"
trigger1 = target,command = "a"
value = 940

[State 902]
type = ChangeState
triggerall = var(2) = 1
triggerall = time <= 5
triggerall = var(16) < 5
trigger1 = target,command = "x"
trigger2 = target,command = "y"
trigger3 = target,command = "z"
trigger4 = target,command = "a"
trigger5 = target,command = "b"
trigger6 = target,command = "c"
value = 940

[State 801, 5]
type = NotHitBy
value = SCA
trigger1 = 1

[State 922]
type = Width
trigger1 = AnimElemTime(1) = 0
edge = 60, 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(1) = 0
pos = 60, 0

[State 922]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
Y = -1 * EnemyNear,Const(size.height)

[State 922]
type = TargetBind
trigger1 = AnimElemTime(3) = 0
pos = 20, -40

[State 922]
type = PosAdd
trigger1 = AnimElemTime(9) = 0
X = -20
Y = 10

[State 922]
type = TargetBind
trigger1 = AnimElemTime(9) = 0
pos = 40, -50

[State 922]
type = PosAdd
trigger1 = AnimElemTime(11) = 0
X = -10
Y = 10

[State 922]
type = TargetBind
trigger1 = AnimElemTime(11) = 0
pos = 50, -60

[State 922]
type = PosAdd
trigger1 = AnimElemTime(13) = 0
X = 5
Y = 25

[State 922]
type = TargetBind
trigger1 = AnimElemTime(13) = 0
pos = 45, -85

[State 922]
type = PosAdd
trigger1 = AnimElemTime(14) = 0
Y = 10

[State 922]
type = TargetBind
trigger1 = AnimElemTime(14) = 0
pos = 45, -95

[State 922]
type = Width
trigger1 = AnimElemTime(15) = 0
edge = 0, 60

[State 922]
type = PosSet
trigger1 = AnimElemTime(15) = 0
Y = 0

[State 922]
type = TargetBind
trigger1 = AnimElemTime(15) = 0
pos = -90, -60

[State 922]
type = TargetState
trigger1 = AnimElemTime(15) = 0
value = 927

[State 801, Hurt 11]
type = VarAdd
trigger1 = Target,Pos Y >= 0 && Target,Vel Y > 0
trigger1 = AnimElemTime(15) >= 0
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 19, 19, 48 + 8 * (var(16)%4) - fvar(12))

[State 801, Hurt 11]
type = TargetLifeAdd
trigger1 = Target,Pos Y >= 0 && Target,Vel Y > 0
trigger1 = AnimElemTime(15) >= 0
value = -1 * ceil(100 * 0.87)

[State 922]
type = PlaySnd
trigger1 = Target,Pos Y >= 0 && Target,Vel Y > 0
trigger1 = AnimElemTime(15) >= 0
value = 900, 1

[State 922]
type = TargetState
trigger1 = Target,Pos Y >= 0 && Target,Vel Y > 0
trigger1 = AnimElemTime(15) >= 0
value = ifelse(fvar(12) < 48 + 8 * (var(16)%4), 928, 929)

[State 810, State End]
type = ChangeState
trigger1 = Target,Pos Y >= 0 && Target,Vel Y > 0
value = 923

;---------------------------------------------------------------------------
[Statedef 923]
type = S
movetype= A
physics = S
ctrl = 0

[State 822, 1]
type = ChangeState
Trigger1 = AnimTime = 0
trigger1 = Anim = 922
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 926]
type = S
movetype= H
physics = S
velset = 0, 0
sprpriority = 1

[State 822, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 926

[State 5000, 5]
type = VarAdd
trigger1 = AuthorName = "Umihei"
trigger1 = var(16) >= 5
trigger1 = var(28)/100 = 1
var(28) = -100
ignorehitpause = 1

[State 902]
type = SelfState
triggerall = EnemyNear,var(2) = 1
triggerall = time <= 5
triggerall = var(16) >= 5
trigger1 = AuthorName = "Umihei"
trigger1 = command = "x"
trigger1 = command = "a"
value = 945

[State 821, 4]
type = SelfState
trigger1 = Time >= 180
value = 5100

;---------------------------------------------------------------------------
[Statedef 927]
type = A
movetype = H
physics = N
velset = 6, 1
sprpriority = 1

[State 822, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 822, 1]
type = VelAdd
Trigger1 = Time > 0
Y = .65

[State 1953]
type = VarAdd
trigger1 = AuthorName = "Umihei"
trigger1 = Time = 12
fvar(11) = ifelse(48 + 8 * (var(16)%4) - fvar(11) > 19, 19, 48 + 8 * (var(16)%4) - fvar(11))

;---------------------------------------------------------------------------
[Statedef 928]
type = L
movetype = H
physics = N
velset = 0, 0
sprpriority = 1

[State 1953]
type = SelfState
trigger1 = time = 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 929]
type = L
movetype = H
physics = N
velset = 0, 0
sprpriority = 1

[State 1953]
type = ChangeState
trigger1 = time = 0
value = 6100

;---------------------------------------------------------------------------
[Statedef 932]
type = S
movetype= A
physics = S
anim = 932
poweradd = 70

[State 912]
type = PlaySnd
trigger1 = time = 0
value = 900, 0

[State 902]
type = TargetState
triggerall = var(2) = 1
triggerall = time <= 5
triggerall = var(16) < 5
trigger1 = target,command = "x"
trigger2 = target,command = "y"
trigger3 = target,command = "z"
trigger4 = target,command = "a"
trigger5 = target,command = "b"
trigger6 = target,command = "c"
value = 945

[State 902]
type = ChangeState
triggerall = var(2) = 1
triggerall = time <= 5
triggerall = var(16) >= 5
trigger1 = target,command = "x"
trigger1 = target,command = "a"
value = 940

[State 902]
type = ChangeState
triggerall = var(2) = 1
triggerall = time <= 5
triggerall = var(16) < 5
trigger1 = target,command = "x"
trigger2 = target,command = "y"
trigger3 = target,command = "z"
trigger4 = target,command = "a"
trigger5 = target,command = "b"
trigger6 = target,command = "c"
value = 940

[State 801, 5]
type = NotHitBy
value = SCA
trigger1 = 1

[State 7901]
type = Width
trigger1 = AnimElemTime(1) = 0
edge = 90, 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(1) = 0
pos = 90, 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(7) = 0
pos = 60, -80

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(8) = 0
pos = 15, -150

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(9) = 0
pos = -45, -150

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(10) = 0
pos = -65, -145

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(11) = 0
pos = -70, -140

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(12) = 0
pos = -55, -100

[State 801, Bind 1]
type = PlaySnd
trigger1 = AnimElemTime(13) = 0
value = 900, 1

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(13) = 0
pos = -60, 0

[State 801, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElemTime(13) = 0
value = -ceil(200 * 0.87)

[State 801, Hurt 11]
type = VarAdd
trigger1 = AnimElemTime(13) = 0
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 11, 11, 48 + 8 * (var(16)%4) - fvar(12))

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElemTime(13) = 0
value = ifelse(fvar(12) < 48 + 8 * (var(16)%4), 937, 938)

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 936]
type = A
movetype = H
physics = N
velset = 0, 0

[State 820, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 936

[State 5000, 5]
type = VarAdd
trigger1 = AuthorName = "Umihei"
trigger1 = var(16) >= 5
trigger1 = var(28)/100 = 1
var(28) = -100
ignorehitpause = 1

[State 902]
type = SelfState
triggerall = EnemyNear,var(2) = 1
triggerall = time <= 5
triggerall = var(16) >= 5
trigger1 = AuthorName = "Umihei"
trigger1 = command = "x"
trigger1 = command = "a"
value = 945

[State 820, 1]
type = SprPriority
trigger1 = AnimElemTime(1) = 0
value = 1

[State 1953]
type = VarAdd
trigger1 = AuthorName = "Umihei"
trigger1 = Time = 42
fvar(11) = ifelse(48 + 8 * (var(16)%4) - fvar(11) > 11, 11, 48 + 8 * (var(16)%4) - fvar(11))

;---------------------------------------------------------------------------
[Statedef 937]
type = L
movetype = H
physics = N
velset = 0, 0
sprpriority = 1

[State 1953]
type = SelfState
trigger1 = time = 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 938]
type = L
movetype = H
physics = N
velset = 0, 0
sprpriority = 1

[State 1953]
type = ChangeState
trigger1 = time = 0
value = 6100

;---------------------------------------------------------------------------
;Grasp Defence
[Statedef 940]
type = S
movetype = I
physics = S
ctrl = 0
velset = 0, 0
anim = 940

[State 1903]
type = PlaySnd
trigger1 = Time = 0
value = 940, 0

[State 221]
type = Explod
trigger1 = AnimElemTime(1) = 0
anim = 3550
pos =  26, 113 - EnemyNear,Const(Size.Height)
postype = p2
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1903]
type = ChangeState
trigger1 = AnimTime = 0
value = 941

;---------------------------------------------------------------------------
[Statedef 941]
type = S
movetype = I
physics = S
ctrl = 0
velset = -14, 0
anim = 941

[State 1903]
type = ChangeState
trigger1 = Vel X >= 0
;trigger1 = time = 18
value = 942

;---------------------------------------------------------------------------
[Statedef 942]
type = S
movetype = I
physics = S
ctrl = 1
velset = 0, 0
anim = 942

[State 1903]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Grasp Defence
[Statedef 945]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0, 0
sprpriority = 1

[State 1903]
type = PosSet
trigger1 = time = 0
Y = 0

[State 1903]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse(AuthorName = "Umihei", 945, 130)

[State 1903]
type = ChangeState
trigger1 = time = 19
value = 946

;---------------------------------------------------------------------------
[Statedef 946]
type = A
movetype = H
physics = N
ctrl = 0

[State 1903]
type = VelAdd
trigger1 = time = 0
X = -6
Y = Const(Movement.YAccel) * (-6.75)

[State 1903]
type = Gravity
trigger1 = time > 0

[State 1903]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse(AuthorName = "Umihei", 946, 130)

[State 1903]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 947

;---------------------------------------------------------------------------
[Statedef 947]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0, 0

[State 1903]
type = PosSet
trigger1 = time = 0
Y = 0

[State 1903]
type = ChangeAnim
trigger1 = Time = 0
value = ifelse(AuthorName = "Umihei", 947, 130)

[State 1903]
type = SelfState
trigger1 = Time >= 5
trigger1 = Anim = 130
value = 0
ctrl = 1

[State 1903]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = AuthorName = "Umihei"
value = 948

;---------------------------------------------------------------------------
[Statedef 948]
type = S
movetype = I
physics = S
ctrl = 1
velset = 0, 0
anim = 948

[State 1903]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Leap Attack
[Statedef 950]
ctrl = 0

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 1202, 20]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
X = 0

[State 1202, 20]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
value = StateNo + 1

[State 1202, 20]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 951]
type = S
movetype= A
physics = S
ctrl = 0
anim = 951

[State 1000, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 952

;---------------------------------------------------------------------------
[Statedef 952]
type = A
movetype = A
physics = N
ctrl = 0
anim = 952

[State 221]
type = VelAdd
trigger1 = time = 0
X = 2
Y = Const(Movement.YAccel) * (-9.75)

[State 1000, 1]
type = Gravity
trigger1 = time > 0

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3510
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(((295.0/17) + (15.0/17) * P2Dist X) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3560
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil((((295.0/17) + (15.0/17) * P2Dist X) + 45) * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1000, 1]
type = PlaySnd
trigger1 = AnimElemTime(5) = 0
value = 220, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 410, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time - 11

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 410, 1]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 410, 1]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 625, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, NA
damage = ifelse(40 - 5 * var(29) < 10, 10, 40 - 5 * var(29)), 0
getpower = 20, 10
givepower = 0, 0
animtype = M
guardflag = HA
hitflag = MAF
priority = 2, Hit
pausetime = 0, 8
hitsound = S220, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 12 + (EnemyNear,StateType = C) + (fvar(12) >= 45 + 8 * (var(16)%4))
ground.hittime = 12 + (EnemyNear,StateType = C) + (fvar(12) >= 45 + 8 * (var(16)%4))
guard.ctrltime = 11
ground.velocity = -1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
air.hittime = 6
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))

[State 1000, 1]
type = ChangeState
trigger1 = MoveContact
value = 953

[State 1000, 1]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 958

;---------------------------------------------------------------------------
;HitStop
[Statedef 953]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 52

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 625, 4]
type = ChangeAnim
trigger1 = var(19) < 60
value = 953
elem = var(10)

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = P2StateNo = [3000, 3099]
value = 954

[State 310, 11]
type = ChangeState
trigger1 = var(19) >= 60
value = 956

;---------------------------------------------------------------------------
;Blocked
[Statedef 954]
type = A
movetype = A
physics = N
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -10

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 625, 4]
type = ChangeAnim
trigger1 = var(19) < 60
value = 953
elem = var(10)

[State 310, 11]
type = ChangeState
trigger1 = var(19) >= 60
value = 956

;---------------------------------------------------------------------------
;HitBack
[Statedef 956]
type = A
movetype = A
physics = N
ctrl = 0

[State 225, 6]
type = VelAdd
trigger1 = time = 0
X = fvar(13)
Y = fvar(14)

[State 225, 6]
type = Gravity
trigger1 = time > 0

[State 1000, 1]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 958

;---------------------------------------------------------------------------
[Statedef 958]
type = S
movetype = A
physics = S
ctrl = 0
anim = 958
velset = 0, 0

[State 1000, 1]
type = PosSet
trigger1 = Time = 0
Y = 0

[State 1000, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 959

;---------------------------------------------------------------------------
[Statedef 959]
type = S
movetype = A
physics = S
ctrl = 1
anim = 959

[State 1000, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Personal Action
[Statedef 980]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 981]
type = S
movetype = A
physics = S
ctrl = 0
anim = 981

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 200, 5]
type = PowerAdd
trigger1 = AnimElemTime(6) = 0
value = 40

[State 200, 5]
type = VarSet
trigger1 = AnimElemTime(6) = 0
fvar(24) = 1

[State 195, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 982

;---------------------------------------------------------------------------
[Statedef 982]
type = S
movetype = A
physics = S
ctrl = 0

[State 200, 5]
type = ChangeAnim
trigger1 = time = 0
trigger1 = PrevStateNo = 981
value = 982

[State 200, 5]
type = PlaySnd
trigger1 = Time = 0
trigger1 = PrevStateNo = 981
value = 980, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 0
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = time = 0
trigger1 = PrevStateNo = 981
var(10) = 0

[State 221]
type = VarAdd
trigger1 = time > 0
var(10) = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 221]
type = HitDef
triggerall = (var(3) = [0, 35]) || var(11) > 0
trigger1 = PrevStateNo = 981
trigger2 = PrevStateNo != 981
trigger2 = time >= 3
attr = S, NA
damage = 5
getpower = 20, 10
givepower = 0, 0
animtype = L
guardflag = M
hitflag = MAF
priority = 1, Hit
pausetime = 0, 7
hitsound = S200, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 8 + (fvar(12) >= 45 + 8 * (var(16)%4))
ground.hittime = 8 + (fvar(12) >= 45 + 8 * (var(16)%4))
guard.ctrltime = 8
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
air.hittime = 4
yaccel = .65
p2facing = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 983

[State 195, 4]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = Command != "/z"
trigger2 = Command != "/c"
value = 988

;---------------------------------------------------------------------------
;HitStop
[Statedef 983]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 53

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 5]
type = ChangeAnim
trigger1 = var(19) < 60
value = 982
elem = ((var(10) - 1)%10) + 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 984

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 982

;---------------------------------------------------------------------------
;Blocked
[Statedef 984]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -13

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 5]
type = ChangeAnim
trigger1 = var(19) < 60
value = 982
elem = ((var(10) - 1)%10) + 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 982

;---------------------------------------------------------------------------
[Statedef 988]
type = S
movetype = A
physics = S
ctrl = 0
anim = 988

[State 195, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 989

;---------------------------------------------------------------------------
[Statedef 989]
type = S
movetype = A
physics = S
ctrl = 1
anim = 989

[State 195, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1000]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 1001]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1001

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(7) = 0
value = 1000, 0

[State 221]
type = Explod
trigger1 = AnimElemTime(6) = 0
anim= 1040
ID = 1040
bindtime = -1
RemoveTime = -1
pos = 0, 0
postype = p1
sprpriority = 3

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 16, ifelse(P2BodyDist X <= 16, P2BodyDist X, 16))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 18, ifelse(P2BodyDist X <= 18, P2BodyDist X, 18))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 22, ifelse(P2BodyDist X <= 22, P2BodyDist X, 22))

[State 1200, 19]
type = PowerAdd
trigger1 = AnimElemTime(7) = 0
value = 30

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 10 + (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time - 6

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 9
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(60 - 5 * var(29) < 10, 10, 60 - 5 * var(29)), ifelse(15 - var(29) < 1, 1, 15 - var(29))
getpower = 140, 60
givepower = 60, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 16
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 12 + (fvar(12) >= 39 + 8 * (var(16)%4))
ground.hittime = 12 + (fvar(12) >= 39 + 8 * (var(16)%4))
guard.ctrltime = 11
ground.velocity = -1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 9, 9, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveGuarded
value = 1002

[State 1200, 22]
type = ChangeState
trigger1 = MoveHit
value = 1003

[State 1000, 14]
type = ChangeState
trigger1 = AnimTime = 0
value = 1010

;---------------------------------------------------------------------------
;HitStop
[Statedef 1002]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1002

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 44

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1005

;---------------------------------------------------------------------------
[Statedef 1003]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1002

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 44

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1004

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1006

;---------------------------------------------------------------------------
;Blocked
[Statedef 1004]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1005

;---------------------------------------------------------------------------
;HitBack
[Statedef 1005]
type = S
movetype = A
physics = S
ctrl = 0

[State 1200, 22]
type = ChangeAnim
trigger1 = time = 2 - var(10)
value = 1005

[State 221]
type = RemoveExplod
trigger1 = time = 2 - var(10)
ID = 1040

[State 221]
type = Explod
trigger1 = time = 2 - var(10)
anim= 1045
ID = 1045
bindtime = -1
pos = 0, 0
postype = p1
sprpriority = 3

[State 221]
type = RemoveExplod
trigger1 = Anim = 1005
trigger1 = AnimElemTime(4) = 0
ID = 1045

[State 1200, 4]
type = PosAdd
trigger1 = Anim = 1005
trigger1 = AnimElemTime(4) = 0
X = -22

[State 1200, 4]
type = PosAdd
trigger1 = Anim = 1005
trigger1 = AnimElemTime(5) = 0
X = -18

[State 1200, 4]
type = PosAdd
trigger1 = Anim = 1005
trigger1 = AnimElemTime(6) = 0
X = -16

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1005
value = 1039

;---------------------------------------------------------------------------
;HitBack
[Statedef 1006]
type = S
movetype = A
physics = S
ctrl = 0

[State 1200, 22]
type = ChangeAnim
trigger1 = time = 2 - var(10)
value = 1006

[State 221]
type = RemoveExplod
trigger1 = time = 2 - var(10)
ID = 1040

[State 221]
type = Explod
trigger1 = time = 2 - var(10)
anim= 1045
ID = 1045
bindtime = -1
pos = 0, 0
postype = p1
sprpriority = 3

[State 221]
type = RemoveExplod
trigger1 = Anim = 1006
trigger1 = AnimElemTime(4) = 0
ID = 1045

[State 1200, 4]
type = PosAdd
trigger1 = Anim = 1006
trigger1 = AnimElemTime(4) = 0
X = -22

[State 1200, 4]
type = PosAdd
trigger1 = Anim = 1006
trigger1 = AnimElemTime(5) = 0
X = -18

[State 1200, 4]
type = PosAdd
trigger1 = Anim = 1006
trigger1 = AnimElemTime(6) = 0
X = -16

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1006
value = 1039

;---------------------------------------------------------------------------
[Statedef 1010]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1010

[State 1000, 14]
type = VarSet
trigger1 = time = 0
fvar(25) = 0

[State 1000, 14]
type = VarAdd
triggerall = time > 0
trigger1 = Command = "x"
trigger2 = Command = "~x"
trigger3 = Command = "y"
trigger4 = Command = "~y"
trigger5 = Command = "z"
trigger6 = Command = "~z"
fvar(25) = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 10 + (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time - 3

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 5
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(60 - 5 * var(29) < 10, 10, 60 - 5 * var(29)), ifelse(15 - var(29) < 1, 1, 15 - var(29))
getpower = 140, 60
givepower = 60, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 16
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 12 + (fvar(12) >= 43 + 8 * (var(16)%4))
ground.hittime = 12 + (fvar(12) >= 43 + 8 * (var(16)%4))
guard.ctrltime = 11
ground.velocity = -1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 5, 5, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveGuarded
value = 1012

[State 1200, 22]
type = ChangeState
trigger1 = MoveHit
value = 1013

[State 1000, 14]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = fvar(25) > 0
value = 1020

[State 1000, 14]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = fvar(25) = 0
value = 1030

;---------------------------------------------------------------------------
;HitStop
[Statedef 1012]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1012

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 44

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1015

;---------------------------------------------------------------------------
[Statedef 1013]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1012

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 44

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1014

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1016

;---------------------------------------------------------------------------
;Blocked
[Statedef 1014]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1015

;---------------------------------------------------------------------------
;HitBack
[Statedef 1015]
type = S
movetype = A
physics = S
ctrl = 0

[State 1200, 22]
type = ChangeAnim
trigger1 = time = 2 - var(10)
value = 1005
elem = 3

[State 221]
type = RemoveExplod
trigger1 = time = 2 - var(10)
ID = 1040

[State 221]
type = Explod
trigger1 = time = 2 - var(10)
anim= 1045
ID = 1045
bindtime = -1
pos = 0, 0
postype = p1
sprpriority = 3

[State 221]
type = RemoveExplod
trigger1 = Anim = 1005
trigger1 = AnimElemTime(4) = 0
ID = 1045

[State 1200, 4]
type = PosAdd
trigger1 = Anim = 1005
trigger1 = AnimElemTime(4) = 0
X = -22

[State 1200, 4]
type = PosAdd
trigger1 = Anim = 1005
trigger1 = AnimElemTime(5) = 0
X = -18

[State 1200, 4]
type = PosAdd
trigger1 = Anim = 1005
trigger1 = AnimElemTime(6) = 0
X = -16

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1005
value = 1039

;---------------------------------------------------------------------------
;HitBack
[Statedef 1016]
type = S
movetype = A
physics = S
ctrl = 0

[State 1200, 22]
type = ChangeAnim
trigger1 = time = 2 - var(10)
value = 1006
elem = 3

[State 221]
type = RemoveExplod
trigger1 = time = 2 - var(10)
ID = 1040

[State 221]
type = Explod
trigger1 = time = 2 - var(10)
anim= 1045
ID = 1045
bindtime = -1
pos = 0, 0
postype = p1
sprpriority = 3

[State 221]
type = RemoveExplod
trigger1 = Anim = 1006
trigger1 = AnimElemTime(4) = 0
ID = 1045

[State 1200, 4]
type = PosAdd
trigger1 = Anim = 1006
trigger1 = AnimElemTime(4) = 0
X = -22

[State 1200, 4]
type = PosAdd
trigger1 = Anim = 1006
trigger1 = AnimElemTime(5) = 0
X = -18

[State 1200, 4]
type = PosAdd
trigger1 = Anim = 1006
trigger1 = AnimElemTime(6) = 0
X = -16

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1006
value = 1039

;---------------------------------------------------------------------------
[Statedef 1020]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1020

[State 1000, 14]
type = VarSet
trigger1 = time = 0
fvar(25) = 0

[State 1000, 14]
type = VarAdd
triggerall = time > 0
trigger1 = Command = "x"
trigger2 = Command = "~x"
trigger3 = Command = "y"
trigger4 = Command = "~y"
trigger5 = Command = "z"
trigger6 = Command = "~z"
fvar(25) = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 10 + (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time - 3

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 5
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(60 - 5 * var(29) < 10, 10, 60 - 5 * var(29)), ifelse(15 - var(29) < 1, 1, 15 - var(29))
getpower = 140, 60
givepower = 60, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 16
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 12 + (fvar(12) >= 43 + 8 * (var(16)%4))
ground.hittime = 12 + (fvar(12) >= 43 + 8 * (var(16)%4))
guard.ctrltime = 11
ground.velocity = -1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 5, 5, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveGuarded
value = 1022

[State 1200, 22]
type = ChangeState
trigger1 = MoveHit
value = 1023

[State 1000, 14]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = fvar(25) > 0
value = 1020

[State 1000, 14]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = fvar(25) = 0
value = 1030

;---------------------------------------------------------------------------
;HitStop
[Statedef 1022]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1012

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 44

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1025

;---------------------------------------------------------------------------
[Statedef 1023]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1012

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 44

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1024

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1026

;---------------------------------------------------------------------------
;Blocked
[Statedef 1024]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1025

;---------------------------------------------------------------------------
;HitBack
[Statedef 1025]
type = S
movetype = A
physics = S
ctrl = 0

[State 1200, 22]
type = ChangeAnim
trigger1 = time = ifelse(var(10) <= 2, 1, 4 - var(10))
value = 1005
elem = 3

[State 221]
type = RemoveExplod
trigger1 = time = ifelse(var(10) <= 2, 1, 4 - var(10))
ID = 1040

[State 221]
type = Explod
trigger1 = time = ifelse(var(10) <= 2, 1, 4 - var(10))
anim= 1045
ID = 1045
bindtime = -1
pos = 0, 0
postype = p1
sprpriority = 3

[State 221]
type = RemoveExplod
trigger1 = Anim = 1005
trigger1 = AnimElemTime(4) = 0
ID = 1045

[State 1200, 4]
type = PosAdd
trigger1 = Anim = 1005
trigger1 = AnimElemTime(4) = 0
X = -22

[State 1200, 4]
type = PosAdd
trigger1 = Anim = 1005
trigger1 = AnimElemTime(5) = 0
X = -18

[State 1200, 4]
type = PosAdd
trigger1 = Anim = 1005
trigger1 = AnimElemTime(6) = 0
X = -16

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1005
value = 1039

;---------------------------------------------------------------------------
;HitBack
[Statedef 1026]
type = S
movetype = A
physics = S
ctrl = 0

[State 1200, 22]
type = ChangeAnim
trigger1 = time = ifelse(var(10) <= 2, 1, 4 - var(10))
value = 1006
elem = 3

[State 221]
type = RemoveExplod
trigger1 = time = ifelse(var(10) <= 2, 1, 4 - var(10))
ID = 1040

[State 221]
type = Explod
trigger1 = time = ifelse(var(10) <= 2, 1, 4 - var(10))
anim= 1045
ID = 1045
bindtime = -1
pos = 0, 0
postype = p1
sprpriority = 3

[State 221]
type = RemoveExplod
trigger1 = Anim = 1006
trigger1 = AnimElemTime(4) = 0
ID = 1045

[State 1200, 4]
type = PosAdd
trigger1 = Anim = 1006
trigger1 = AnimElemTime(4) = 0
X = -22

[State 1200, 4]
type = PosAdd
trigger1 = Anim = 1006
trigger1 = AnimElemTime(5) = 0
X = -18

[State 1200, 4]
type = PosAdd
trigger1 = Anim = 1006
trigger1 = AnimElemTime(6) = 0
X = -16

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1006
value = 1039

;---------------------------------------------------------------------------
[Statedef 1030]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1030

[State 221]
type = RemoveExplod
trigger1 = AnimElemTime(3) = 0
ID = 1040

[State 221]
type = Explod
trigger1 = AnimElemTime(3) = 0
anim= 1045
ID = 1045
bindtime = -1
RemoveTime = -1
pos = 0, 0
postype = p1
sprpriority = 3

[State 221]
type = RemoveExplod
trigger1 = AnimElemTime(4) = 0
ID = 1045

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = -22

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = -18

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = -16

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 10 + (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time - 3

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 5
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(60 - 5 * var(29) < 10, 10, 60 - 5 * var(29)), ifelse(15 - var(29) < 1, 1, 15 - var(29))
getpower = 140, 60
givepower = 60, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 16
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 12 + (fvar(12) >= 43 + 8 * (var(16)%4))
ground.hittime = 12 + (fvar(12) >= 43 + 8 * (var(16)%4))
guard.ctrltime = 11
ground.velocity = -1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 5, 5, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveGuarded
value = 1012

[State 1200, 22]
type = ChangeState
trigger1 = MoveHit
value = 1013

[State 1000, 14]
type = ChangeState
trigger1 = AnimTime = 0
value = 1039

;---------------------------------------------------------------------------
[Statedef 1039]
type = S
movetype = A
physics = S
ctrl = 1
anim = 1039

[State 1000, 14]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1050]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 1051]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1051

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 1000, 14]
type = VarSet
trigger1 = time = 0
fvar(26) = 0

[State 1000, 14]
type = VarSet
trigger1 = time = 0
fvar(27) = 0

[State 1000, 14]
type = VarSet
trigger1 = time = 0
fvar(28) = 0

[State 221]
type = Explod
trigger1 = AnimElemTime(6) = 0
anim= 1040
ID = 1040
bindtime = -1
RemoveTime = -1
pos = 0, 0
postype = p1
sprpriority = 3

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 16, ifelse(P2BodyDist X <= 16, P2BodyDist X, 16))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 18, ifelse(P2BodyDist X <= 18, P2BodyDist X, 18))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 22, ifelse(P2BodyDist X <= 22, P2BodyDist X, 22))

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(7) = 0
value = 1000, 0

[State 1200, 19]
type = PowerAdd
trigger1 = AnimElemTime(7) = 0
value = 30

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 10 + (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time - 8

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 9
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(60 - 5 * var(29) < 10, 10, 60 - 5 * var(29)), ifelse(15 - var(29) < 1, 1, 15 - var(29))
getpower = 140, 60
givepower = 60, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 16
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 12 + (fvar(12) >= 39 + 8 * (var(16)%4))
ground.hittime = 12 + (fvar(12) >= 39 + 8 * (var(16)%4))
guard.ctrltime = 11
ground.velocity = -1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 9, 9, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveGuarded
value = 1052

[State 1200, 22]
type = ChangeState
trigger1 = MoveHit
value = 1053

[State 1000, 14]
type = ChangeState
trigger1 = AnimTime = 0
value = 1060

;---------------------------------------------------------------------------
[Statedef 1052]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1052

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(28) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 44

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1055

;---------------------------------------------------------------------------
[Statedef 1053]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1052

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(28) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 44

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1054

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1055

;---------------------------------------------------------------------------
;Blocked
[Statedef 1054]
type = S
movetype = A
physics = S
ctrl = 0

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(27) = -1

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1055

;---------------------------------------------------------------------------
;HitBack
[Statedef 1055]
type = S
movetype = A
physics = S
ctrl = 0

[State 1200, 22]
type = ChangeState
trigger1 = Time = 2 - var(10)
value = 1060

;---------------------------------------------------------------------------
[Statedef 1060]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1060

[State 1000, 14]
type = VarSet
trigger1 = time = 0
fvar(25) = 0

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(26) = 1

[State 1000, 14]
type = VarAdd
triggerall = time > 0
trigger1 = Command = "x"
trigger2 = Command = "~x"
trigger3 = Command = "y"
trigger4 = Command = "~y"
trigger5 = Command = "z"
trigger6 = Command = "~z"
trigger7 = Command = "a"
trigger8 = Command = "~a"
trigger9 = Command = "b"
trigger10 = Command = "~b"
trigger11 = Command = "c"
trigger12 = Command = "~c"
fvar(25) = 1

[State 1200, 4]
type = VarAdd
triggerall = MoveHit
trigger1 = Enemynear,StateType = A
trigger2 = fvar(27) >= 1
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 10 + 1 - (EnemyNear,StateType != A) * (fvar(27) < 1)
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 5
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
trigger1 = fvar(27) < 1
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 225, 6]
type = VarSet
trigger1 = MoveContact
trigger1 = fvar(27) >= 1
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
triggerall = fvar(27) < 3
triggerall = (var(3) = [0, 35]) || var(11) > 0
trigger1 = Enemynear,StateType != A
trigger1 = fvar(27) < 1
attr = S, SA
damage = ifelse(60 - 5 * var(29) < 10, 10, 60 - 5 * var(29)), ifelse(15 - var(29) < 1, 1, 15 - var(29))
getpower = 20, 10
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 16
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 12 + (fvar(12) >= 43 + 8 * (var(16)%4))
ground.hittime = 12 + (fvar(12) >= 43 + 8 * (var(16)%4))
guard.ctrltime = 11
ground.velocity = -1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 1200, 5]
type = HitDef
triggerall = fvar(27) < 3
triggerall = (var(3) = [0, 35]) || var(11) > 0
trigger1 = Enemynear,StateType = A
trigger2 = fvar(27) >= 1
attr = S, SA
damage = ifelse(60 - 5 * var(29) < 10, 10, 60 - 5 * var(29)), ifelse(15 - var(29) < 1, 1, 15 - var(29))
getpower = 20, 10
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 16
hitsound = S1000, 1
guardsound = S200, 2
guard.ctrltime = 11
ground.velocity = -1.7 * 3, -1.7 * 4
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 5, 5, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = MoveHit
triggerall = var(16) < 5
triggerall = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
trigger2 = fvar(27) >= 1
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveGuarded
value = 1062

[State 1200, 22]
type = ChangeState
trigger1 = MoveHit
value = 1063

[State 1000, 14]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = fvar(26) < 1
trigger2 = fvar(25) > 0
trigger2 = fvar(26) < 20
value = 1060

[State 1000, 14]
type = ChangeState
trigger1 = AnimTime = 0
value = 1070

;---------------------------------------------------------------------------
[Statedef 1062]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1062

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(28) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 44

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1065

;---------------------------------------------------------------------------
[Statedef 1063]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1062

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(28) = 1

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 44

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1064

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1065

;---------------------------------------------------------------------------
;Blocked
[Statedef 1064]
type = S
movetype = A
physics = S
ctrl = 0

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(27) = -1

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1065

;---------------------------------------------------------------------------
;HitBack
[Statedef 1065]
type = S
movetype = A
physics = S
ctrl = 0

[State 1200, 22]
type = ChangeAnim
trigger1 = time = 2 - var(10)
value = 1065

[State 1000, 14]
type = ChangeState
triggerall = AnimTime = 0
triggerall = Anim = 1065
trigger1 = fvar(26) < 1
trigger2 = Command = "/x" || Command = "/y" || Command = "/z"
trigger2 = fvar(26) < 20
value = 1060

[State 1000, 14]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1065
value = 1070

;---------------------------------------------------------------------------
[Statedef 1070]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1070

[State 221]
type = RemoveExplod
trigger1 = time = 0
ID = 1040

[State 221]
type = Explod
trigger1 = Time = 0
anim= 1045
ID = 1045
bindtime = -1
pos = 0, 0
postype = p1
sprpriority = 3

[State 221]
type = RemoveExplod
trigger1 = AnimElemTime(2) = 0
ID = 1045

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = -22

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = -18

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = -16

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1039

;---------------------------------------------------------------------------
[Statedef 1100]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 1101]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1101

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 1000, 14]
type = VarSet
trigger1 = time = 0
fvar(26) = 0

[State 1000, 14]
type = VarSet
trigger1 = time = 0
fvar(27) = 0

[State 1000, 14]
type = VarSet
trigger1 = time = 0
fvar(28) = 0

[State 221]
type = Explod
trigger1 = AnimElemTime(6) = 0
anim= 1040
ID = 1040
bindtime = -1
RemoveTime = -1
pos = 0, 0
postype = p1
sprpriority = 3

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 16, ifelse(P2BodyDist X <= 16, P2BodyDist X, 16))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 18, ifelse(P2BodyDist X <= 18, P2BodyDist X, 18))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 22, ifelse(P2BodyDist X <= 22, P2BodyDist X, 22))

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(7) = 0
value = 1000, 0

[State 1200, 19]
type = PowerAdd
trigger1 = AnimElemTime(7) = 0
value = 30

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 10 + (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time - 10

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 9
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(60 - 5 * var(29) < 10, 10, 60 - 5 * var(29)), ifelse(15 - var(29) < 1, 1, 15 - var(29))
getpower = 140, 60
givepower = 60, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 16
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 12 + (fvar(12) >= 39 + 8 * (var(16)%4))
ground.hittime = 12 + (fvar(12) >= 39 + 8 * (var(16)%4))
guard.ctrltime = 11
ground.velocity = -1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 9, 9, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveGuarded
value = 1102

[State 1200, 22]
type = ChangeState
trigger1 = MoveHit
value = 1103

[State 1000, 14]
type = ChangeState
trigger1 = AnimTime = 0
value = 1110

;---------------------------------------------------------------------------
[Statedef 1102]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1102

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(28) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 44

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1105

;---------------------------------------------------------------------------
[Statedef 1103]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1102

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(28) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 44

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1104

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1105

;---------------------------------------------------------------------------
;Blocked
[Statedef 1104]
type = S
movetype = A
physics = S
ctrl = 0

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(27) = -1

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1105

;---------------------------------------------------------------------------
;HitBack
[Statedef 1105]
type = S
movetype = A
physics = S
ctrl = 0

[State 1200, 22]
type = ChangeState
trigger1 = Time = 2 - var(10)
value = 1110

;---------------------------------------------------------------------------
[Statedef 1110]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1110

[State 1000, 14]
type = VarSet
trigger1 = time = 0
fvar(25) = 0

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(26) = 1

[State 1000, 14]
type = VarAdd
triggerall = time > 0
trigger1 = Command = "x"
trigger2 = Command = "~x"
trigger3 = Command = "y"
trigger4 = Command = "~y"
trigger5 = Command = "z"
trigger6 = Command = "~z"
trigger7 = Command = "a"
trigger8 = Command = "~a"
trigger9 = Command = "b"
trigger10 = Command = "~b"
trigger11 = Command = "c"
trigger12 = Command = "~c"
fvar(25) = 1

[State 1200, 4]
type = VarAdd
triggerall = MoveHit
trigger1 = Enemynear,StateType = A
trigger2 = fvar(27) >= 2
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 10 + 1 - (EnemyNear,StateType != A) * (fvar(27) < 2)
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 5
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
trigger1 = fvar(27) < 2
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 225, 6]
type = VarSet
trigger1 = MoveContact
trigger1 = fvar(27) >= 2
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
triggerall = fvar(27) < 5
triggerall = (var(3) = [0, 35]) || var(11) > 0
trigger1 = Enemynear,StateType != A
trigger1 = fvar(27) < 2
attr = S, SA
damage = ifelse(60 - 5 * var(29) < 10, 10, 60 - 5 * var(29)), ifelse(15 - var(29) < 1, 1, 15 - var(29))
getpower = 20, 10
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 16
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 12 + (fvar(12) >= 43 + 8 * (var(16)%4))
ground.hittime = 12 + (fvar(12) >= 43 + 8 * (var(16)%4))
guard.ctrltime = 11
ground.velocity = -1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 1200, 5]
type = HitDef
triggerall = fvar(27) < 5
triggerall = (var(3) = [0, 35]) || var(11) > 0
trigger1 = Enemynear,StateType = A
trigger2 = fvar(27) >= 2
attr = S, SA
damage = ifelse(60 - 5 * var(29) < 10, 10, 60 - 5 * var(29)), ifelse(15 - var(29) < 1, 1, 15 - var(29))
getpower = 20, 10
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 16
hitsound = S1000, 1
guardsound = S200, 2
guard.ctrltime = 11
ground.velocity = -1.7 * 3, -1.7 * 4
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 5, 5, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = MoveHit
triggerall = var(16) < 5
triggerall = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
trigger2 = fvar(27) >= 2
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveGuarded
value = 1112

[State 1200, 22]
type = ChangeState
trigger1 = MoveHit
value = 1113

[State 1000, 14]
type = ChangeState
trigger1 = AnimTime = 0
value = 1120

;---------------------------------------------------------------------------
[Statedef 1112]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1112

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(28) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 44

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1115

;---------------------------------------------------------------------------
[Statedef 1113]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1112

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(28) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 44

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1114

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1115

;---------------------------------------------------------------------------
;Blocked
[Statedef 1114]
type = S
movetype = A
physics = S
ctrl = 0

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(27) = -1

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1115

;---------------------------------------------------------------------------
;HitBack
[Statedef 1115]
type = S
movetype = A
physics = S
ctrl = 0

[State 1000, 14]
type = ChangeState
trigger1 = time = 2 - var(10)
value = 1120

;---------------------------------------------------------------------------
[Statedef 1120]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1120

[State 1000, 14]
type = VarAdd
triggerall = time > 0
trigger1 = Command = "x"
trigger2 = Command = "~x"
trigger3 = Command = "y"
trigger4 = Command = "~y"
trigger5 = Command = "z"
trigger6 = Command = "~z"
trigger7 = Command = "a"
trigger8 = Command = "~a"
trigger9 = Command = "b"
trigger10 = Command = "~b"
trigger11 = Command = "c"
trigger12 = Command = "~c"
fvar(25) = 1

[State 1200, 4]
type = VarAdd
triggerall = MoveHit
trigger1 = Enemynear,StateType = A
trigger2 = fvar(27) >= 2
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 10 + 1 - (EnemyNear,StateType != A) * (fvar(27) < 2)
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 5
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
trigger1 = fvar(27) < 2
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 225, 6]
type = VarSet
trigger1 = MoveContact
trigger1 = fvar(27) >= 2
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
triggerall = fvar(27) < 5
triggerall = (var(3) = [0, 35]) || var(11) > 0
trigger1 = Enemynear,StateType != A
trigger1 = fvar(27) < 2
attr = S, SA
damage = ifelse(60 - 5 * var(29) < 10, 10, 60 - 5 * var(29)), ifelse(15 - var(29) < 1, 1, 15 - var(29))
getpower = 20, 10
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 16
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 12 + (fvar(12) >= 43 + 8 * (var(16)%4))
ground.hittime = 12 + (fvar(12) >= 43 + 8 * (var(16)%4))
guard.ctrltime = 11
ground.velocity = -1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 1200, 5]
type = HitDef
triggerall = fvar(27) < 5
triggerall = (var(3) = [0, 35]) || var(11) > 0
trigger1 = Enemynear,StateType = A
trigger2 = fvar(27) >= 2
attr = S, SA
damage = ifelse(60 - 5 * var(29) < 10, 10, 60 - 5 * var(29)), ifelse(15 - var(29) < 1, 1, 15 - var(29))
getpower = 20, 10
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 16
hitsound = S1000, 1
guardsound = S200, 2
guard.ctrltime = 11
ground.velocity = -1.7 * 3, -1.7 * 4
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 5, 5, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = MoveHit
triggerall = var(16) < 5
triggerall = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
trigger2 = fvar(27) >= 2
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveGuarded
value = 1122

[State 1200, 22]
type = ChangeState
trigger1 = MoveHit
value = 1123

[State 1000, 14]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = fvar(26) < 1
trigger2 = fvar(25) > 1
trigger2 = fvar(26) < 20
value = 1110

[State 1000, 14]
type = ChangeState
trigger1 = AnimTime = 0
value = 1130

;---------------------------------------------------------------------------
[Statedef 1122]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1122

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(28) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 44

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1125

;---------------------------------------------------------------------------
[Statedef 1123]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1122

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(28) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 44

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1124

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1125

;---------------------------------------------------------------------------
;Blocked
[Statedef 1124]
type = S
movetype = A
physics = S
ctrl = 0

[State 1000, 14]
type = VarAdd
trigger1 = time = 0
fvar(27) = -1

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1125

;---------------------------------------------------------------------------
;HitBack
[Statedef 1125]
type = S
movetype = A
physics = S
ctrl = 0

[State 1000, 14]
type = ChangeState
triggerall = time = 2 - var(10)
trigger1 = fvar(26) < 1
trigger2 = Command = "/x" || Command = "/y" || Command = "/z"
trigger2 = fvar(26) < 20
value = 1110

[State 1000, 14]
type = ChangeState
trigger1 = time = 2 - var(10)
value = 1130

;---------------------------------------------------------------------------
[Statedef 1130]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1130

[State 221]
type = RemoveExplod
trigger1 = time = 0
ID = 1040

[State 221]
type = Explod
trigger1 = Time = 0
anim= 1045
ID = 1045
bindtime = -1
pos = 0, 0
postype = p1
sprpriority = 3

[State 221]
type = RemoveExplod
trigger1 = AnimElemTime(2) = 0
ID = 1045

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = -22

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = -18

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = -16

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1039

;---------------------------------------------------------------------------
[Statedef 1200]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 1201]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1201

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 12, ifelse(P2BodyDist X <= 12, P2BodyDist X, 12))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 6, ifelse(P2BodyDist X <= 6, P2BodyDist X, 6))

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(40 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(85 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = PowerAdd
trigger1 = AnimElemTime(5) = 0
value = 30

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(5) = 0
value = 240, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time - 6

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 7
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 440, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(50 - 5 * var(29) < 10, 10, 50 - 5 * var(29)), ifelse(3 - var(29) < 1, 1, 3 - var(29))
getpower = 90, 20
givepower = 30, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 12
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 16 + 2 * (EnemyNear,StateType = C) + (fvar(12) >= 41 + 8 * (var(16)%4))
ground.hittime = 16 + 2 * (EnemyNear,StateType = C) + (fvar(12) >= 41 + 8 * (var(16)%4))
guard.ctrltime = 14
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 7, 7, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 1202

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1210

;---------------------------------------------------------------------------
;HitStop
[Statedef 1202]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 48

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 2

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeAnim
trigger1 = time = 0
value = 1202 + (var(10) >= 3)

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(1) = 0
trigger1 = Anim = 1202
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 6, ifelse(P2BodyDist X <= 6, P2BodyDist X, 6))

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1203

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1204

;---------------------------------------------------------------------------
;Blocked
[Statedef 1203]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -4

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1204

;---------------------------------------------------------------------------
[Statedef 1204]
type = S
movetype = A
physics = S
ctrl = 0

[State 450, 4]
type = ChangeAnim
trigger1 = time = 1
trigger1 = Anim = 1202
value = 1203

[State 450, 4]
type = ChangeState
trigger1 = time = 2 - 2 * (var(10) >= 3)
value = 1210

;---------------------------------------------------------------------------
[Statedef 1210]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1210

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 16, ifelse(P2BodyDist X <= 16, P2BodyDist X, 16))

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(35 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(80 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(7) = 0
value = 240, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 1
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time - 6

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 5
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 440, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(70 - 5 * var(29) < 10, 10, 70 - 5 * var(29)), ifelse(5 - var(29) < 1, 1, 5 - var(29))
getpower = 20, 10
givepower = 30, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 12
hitsound = S1000, 1
guardsound = S200, 2
guard.ctrltime = 14
ground.velocity = -2.2 * 3, -2.2 * 4
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, -2.2 * 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 5, 5, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 1212

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1219

;---------------------------------------------------------------------------
;HitStop
[Statedef 1212]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1212

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 48

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 2

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1213

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1214

;---------------------------------------------------------------------------
;Blocked
[Statedef 1213]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -4

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1214

;---------------------------------------------------------------------------
[Statedef 1214]
type = S
movetype = A
physics = S
ctrl = 0

[State 450, 4]
type = ChangeAnim
trigger1 = time = 1 - (var(10) = 4)
value = 1214

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1214
value = 1219

;---------------------------------------------------------------------------
[Statedef 1219]
type = S
movetype = A
physics = S
ctrl = 1
anim = 1219

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1250]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 1251]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1251

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 6, ifelse(P2BodyDist X <= 6, P2BodyDist X, 6))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 6, ifelse(P2BodyDist X <= 6, P2BodyDist X, 6))

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(40 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(85 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = PowerAdd
trigger1 = AnimElemTime(5) = 0
value = 30

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(5) = 0
value = 240, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time - 10

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 7
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 440, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(50 - 5 * var(29) < 10, 10, 50 - 5 * var(29)), ifelse(3 - var(29) < 1, 1, 3 - var(29))
getpower = 90, 20
givepower = 30, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 8
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 16 + 2 * (EnemyNear,StateType = C) + (fvar(12) >= 41 + 8 * (var(16)%4))
ground.hittime = 16 + 2 * (EnemyNear,StateType = C) + (fvar(12) >= 41 + 8 * (var(16)%4))
guard.ctrltime = 14
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 7, 7, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 1252

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1260

;---------------------------------------------------------------------------
;HitStop
[Statedef 1252]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 52

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 2

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeAnim
trigger1 = time = 0
value = 1252 + (var(10) >= 3)

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(1) = 0
trigger1 = Anim = 1252
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 6, ifelse(P2BodyDist X <= 6, P2BodyDist X, 6))

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1253

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1254

;---------------------------------------------------------------------------
;Blocked
[Statedef 1253]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -8

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1254

;---------------------------------------------------------------------------
[Statedef 1254]
type = S
movetype = A
physics = S
ctrl = 0

[State 450, 4]
type = ChangeAnim
trigger1 = time = 1
trigger1 = Anim = 1252
value = 1253

[State 450, 4]
type = ChangeState
trigger1 = time = 2 - 2 * (var(10) >= 3)
value = 1260

;---------------------------------------------------------------------------
[Statedef 1260]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1260

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(8) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(35 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(80 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(8) = 0
value = 240, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time - 8

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 5
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 440, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(80 - 5 * var(29) < 10, 10, 80 - 5 * var(29)), ifelse(6 - var(29) < 1, 1, 6 - var(29))
getpower = 20, 10
givepower = 30, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 12
hitsound = S1000, 1
guardsound = S200, 2
ground.slidetime = 16 + 2 * (EnemyNear,StateType = C) + (fvar(12) >= 41 + 8 * (var(16)%4))
ground.hittime = 16 + 2 * (EnemyNear,StateType = C) + (fvar(12) >= 41 + 8 * (var(16)%4))
guard.ctrltime = 14
ground.velocity = -2.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, -2.2 * 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 5, 5, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 1262

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1219

;---------------------------------------------------------------------------
;HitStop
[Statedef 1262]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1262

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 48

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 2

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1263

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1264

;---------------------------------------------------------------------------
;Blocked
[Statedef 1263]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -4

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1264

;---------------------------------------------------------------------------
[Statedef 1264]
type = S
movetype = A
physics = S
ctrl = 0

[State 450, 4]
type = ChangeAnim
trigger1 = time = 1 - (var(10) = 4)
value = 1264

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1264
value = 1219

;---------------------------------------------------------------------------
[Statedef 1300]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 1301]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1301

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 210, 1]
type = VarSet
trigger1 = Time = 0
fvar(8) = 0

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1302

;---------------------------------------------------------------------------
[Statedef 1302]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1302

[State 1200, 4]
type = VelAdd
trigger1 = Time = 0
X = 9.8

[State 1200, 4]
type = VelAdd
trigger1 = Time > 0
X = ifelse(Vel X < .7, -Vel X, -.7)

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(1) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 6, ifelse(P2BodyDist X <= 6, P2BodyDist X, 6))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 6, ifelse(P2BodyDist X <= 6, P2BodyDist X, 6))

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(40 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(85 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = PowerAdd
trigger1 = AnimElemTime(2) = 0
value = 30

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = 240, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time - 2

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 7
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 0

[State 440, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(50 - 5 * var(29) < 10, 10, 50 - 5 * var(29)), ifelse(3 - var(29) < 1, 1, 3 - var(29))
getpower = 90, 20
givepower = 30, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 8
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 16 + 2 * (EnemyNear,StateType = C) + (fvar(12) >= 41 + 8 * (var(16)%4))
ground.hittime = 16 + 2 * (EnemyNear,StateType = C) + (fvar(12) >= 41 + 8 * (var(16)%4))
guard.ctrltime = 14
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 7, 7, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 1303

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1310

;---------------------------------------------------------------------------
;HitStop
[Statedef 1303]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1303

[State 210, 1]
type = VarAdd
trigger1 = Time = 0
fvar(8) = 1

[State 1200, 4]
type = PosAdd
trigger1 = Time = 0
trigger1 = var(10) <= 2
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 6, ifelse(P2BodyDist X <= 6, P2BodyDist X, 6))

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 52

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1304

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1305

;---------------------------------------------------------------------------
;Blocked
[Statedef 1304]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -8

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1305

;---------------------------------------------------------------------------
[Statedef 1305]
type = S
movetype = A
physics = N
ctrl = 0

[State 450, 4]
type = VelAdd
trigger1 = time = 0
X = fvar(13)

[State 1200, 4]
type = VelAdd
trigger1 = Time > 0
X = ifelse(Vel X < .7, -Vel X, -.7)

[State 450, 4]
type = ChangeState
trigger1 = time = 1 - (var(10) = 4)
value = 1310

;---------------------------------------------------------------------------
[Statedef 1310]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1310

[State 1200, 4]
type = VelAdd
trigger1 = Time > 0
X = ifelse(Vel X < .7, -Vel X, -.7)

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(9) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1311

;---------------------------------------------------------------------------
[Statedef 1311]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1311

[State 1200, 4]
type = VelAdd
trigger1 = Time = 0
X = 7

[State 1200, 4]
type = VelAdd
trigger1 = Time > 0
X = ifelse(Vel X < .7, -Vel X, -.7)

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(1) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 6, ifelse(P2BodyDist X <= 6, P2BodyDist X, 6))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 6, ifelse(P2BodyDist X <= 6, P2BodyDist X, 6))

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(40 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(85 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = 240, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time - 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 7
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 0

[State 440, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(50 - 5 * var(29) < 10, 10, 50 - 5 * var(29)), ifelse(3 - var(29) < 1, 1, 3 - var(29))
getpower = 20, 10
givepower = 30, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 8
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 16 + 2 * (EnemyNear,StateType = C) + (fvar(12) >= 41 + 8 * (var(16)%4))
ground.hittime = 16 + 2 * (EnemyNear,StateType = C) + (fvar(12) >= 41 + 8 * (var(16)%4))
guard.ctrltime = 14
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 7, 7, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 1312

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1320

;---------------------------------------------------------------------------
;HitStop
[Statedef 1312]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1312

[State 210, 1]
type = VarAdd
trigger1 = Time = 0
fvar(8) = 1

[State 1200, 4]
type = PosAdd
trigger1 = Time = 0
trigger1 = var(10) <= 2
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 6, ifelse(P2BodyDist X <= 6, P2BodyDist X, 6))

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 52

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1313

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1314

;---------------------------------------------------------------------------
;Blocked
[Statedef 1313]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -8

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1314

;---------------------------------------------------------------------------
[Statedef 1314]
type = S
movetype = A
physics = N
ctrl = 0

[State 450, 4]
type = VelAdd
trigger1 = time = 0
X = fvar(13)

[State 450, 4]
type = ChangeState
trigger1 = time = 0
value = 1320

;---------------------------------------------------------------------------
[Statedef 1320]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1320

[State 1200, 4]
type = VelAdd
trigger1 = Time > 0
X = ifelse(Vel X < .7, -Vel X, -.7)

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(35 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(80 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(8) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(9) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(9) = 0
value = 240, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time - 9

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 5
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 440, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
trigger1 = fvar(8) > 0
attr = S, SA
damage = ifelse(50 - 5 * var(29) < 10, 10, 50 - 5 * var(29)), ifelse(3 - var(29) < 1, 1, 3 - var(29))
getpower = 20, 10
givepower = 30, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 12
hitsound = S1000, 1
guardsound = S200, 2
ground.slidetime = 32
ground.hittime = 32
guard.ctrltime = 16
ground.velocity = -2.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, -2.2 * 4
yaccel = .65
P2Facing = 1

[State 440, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
trigger1 = fvar(8) = 0
attr = S, SA
damage = ifelse(80 - 5 * var(29) < 10, 10, 80 - 5 * var(29)), ifelse(5 - var(29) < 1, 1, 5 - var(29))
getpower = 20, 10
givepower = 30, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 12
hitsound = S1000, 1
guardsound = S200, 2
ground.slidetime = 16
ground.hittime = 16
guard.ctrltime = 16
ground.velocity = -2.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, -2.2 * 4
yaccel = .65
P2Facing = 1

[State 221]
type = VarSet
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
var(1) = -1
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 5, 5, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = var(16) < 5
triggerall = MoveHit
triggerall = fvar(8) > 0
triggerall = EnemyNear,Alive
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
value = ifelse(fvar(12) < 48 + 8 * (var(16)%4), 1340, 1345)
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateNo = 5020
value = 6020
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveGuarded
value = 1321

[State 221]
type = ChangeState
trigger1 = MoveHit
value = 1331

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1219

;---------------------------------------------------------------------------
;HitStop
[Statedef 1321]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1321

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 48

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 2

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1322

;---------------------------------------------------------------------------
[Statedef 1322]
type = S
movetype = A
physics = S
ctrl = 0

[State 450, 4]
type = VelAdd
trigger1 = time = 0
X = fvar(13)

[State 450, 4]
type = ChangeAnim
trigger1 = time = 1 - (var(10) = 4)
value = 1322

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1322
value = 1323

;---------------------------------------------------------------------------
[Statedef 1323]
type = S
movetype = A
physics = S
ctrl = 1
anim = 1323

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;HitStop
[Statedef 1331]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1321

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 48

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 2

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1336

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1332

;---------------------------------------------------------------------------
[Statedef 1332]
type = S
movetype = A
physics = S
ctrl = 0

[State 450, 4]
type = VelAdd
trigger1 = time = 0
X = fvar(13)

[State 450, 4]
type = ChangeAnim
trigger1 = time = 1 - (var(10) = 4)
value = 1332

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1332
value = 1219

;---------------------------------------------------------------------------
;Blocked
[Statedef 1336]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -4

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1337

;---------------------------------------------------------------------------
[Statedef 1337]
type = S
movetype = A
physics = S
ctrl = 0

[State 450, 4]
type = VelAdd
trigger1 = time = 0
X = fvar(13)

[State 450, 4]
type = ChangeAnim
trigger1 = time = 1 - (var(10) = 4)
value = 1337

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1337
value = 1219

;---------------------------------------------------------------------------
[Statedef 1340]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0, 0

[State 450, 4]
type = ChangeAnim2
trigger1 = Time = 0
value = 1340

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1341

;---------------------------------------------------------------------------
[Statedef 1341]
type = S
movetype = H
physics = S
ctrl = 0
velset = -11, 0

[State 450, 4]
type = ChangeAnim2
trigger1 = Time = 0
value = 1341

[State 450, 4]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1345]
type = S
movetype = H
physics = S
ctrl = 0
velset = 0, 0

[State 450, 4]
type = ChangeAnim2
trigger1 = Time = 0
value = 1340

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1346

;---------------------------------------------------------------------------
[Statedef 1346]
type = S
movetype = H
physics = S
ctrl = 0
velset = -11, 0

[State 450, 4]
type = ChangeAnim2
trigger1 = Time = 0
value = 1341

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 6300

;---------------------------------------------------------------------------
[Statedef 1350]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 1351]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1351
poweradd = -400

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 3000]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap = 4
FrameGap = 3
length = 10
PalPostBright = 255, 255, 0
trans = add1
ignorehitpause = 1

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 1202, 20]
type = PlaySnd
trigger1 = Time = 0
value = 1350, 0

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = 8

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1352

;---------------------------------------------------------------------------
[Statedef 1352]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1352

[State 1353]
type = VelAdd
trigger1 = Time = 0
X = 4

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(40 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(85 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(1) = 0
X = 6

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = 8

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = 6

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(9) = 0
X = 8

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
value = 240, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time - 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 0

[State 440, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(50 - 5 * var(29) < 10, 10, 50 - 5 * var(29)), ifelse(3 - var(29) < 1, 1, 3 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 4
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 16
ground.hittime = 16
guard.ctrltime = 14
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 1353

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1360

;---------------------------------------------------------------------------
;HitStop
[Statedef 1353]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1353

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(1) = 0
trigger1 = var(10) <= 2
X = 6

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 56

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1354

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1355

;---------------------------------------------------------------------------
;Blocked
[Statedef 1354]
type = S
movetype = A
physics = S
ctrl = 0

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -12

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1355

;---------------------------------------------------------------------------
[Statedef 1355]
type = S
movetype = A
physics = N
ctrl = 0

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 450, 4]
type = VelAdd
trigger1 = time = 0
X = fvar(13)

[State 450, 4]
type = ChangeAnim
trigger1 = time = 1 - (var(10) = 4)
value = 1355

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
trigger1 = Anim = 1355
X = 8

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1355
value = 1360

;---------------------------------------------------------------------------
[Statedef 1360]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1360

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1361

;---------------------------------------------------------------------------
[Statedef 1361]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1361

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(40 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(85 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = 6

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
X = 8

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = 240, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 0

[State 440, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(50 - 5 * var(29) < 10, 10, 50 - 5 * var(29)), ifelse(3 - var(29) < 1, 1, 3 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 2
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 16
ground.hittime = 16
guard.ctrltime = 14
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 1362

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1370

;---------------------------------------------------------------------------
;HitStop
[Statedef 1362]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1362

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(1) = 0
trigger1 = var(10) <= 2
X = 6

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 58

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1363

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1364

;---------------------------------------------------------------------------
;Blocked
[Statedef 1363]
type = S
movetype = A
physics = S
ctrl = 0

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -14

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1364

;---------------------------------------------------------------------------
[Statedef 1364]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1364

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 1353]
type = VelAdd
trigger1 = Time = 0
X = fvar(13)

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = 8

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1370

;---------------------------------------------------------------------------
[Statedef 1370]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1370

[State 1353]
type = AfterImagetime
trigger1 = Time = 0
time = 0

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1371

;---------------------------------------------------------------------------
[Statedef 1371]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1371

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(40 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(85 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = 6

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
X = 8

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = 240, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 0

[State 440, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(50 - 5 * var(29) < 10, 10, 50 - 5 * var(29)), ifelse(3 - var(29) < 1, 1, 3 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 2
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 16
ground.hittime = 16
guard.ctrltime = 14
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 1372

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1380

;---------------------------------------------------------------------------
;HitStop
[Statedef 1372]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1372

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(1) = 0
trigger1 = var(10) <= 2
X = 6

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 58

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1373

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1374

;---------------------------------------------------------------------------
;Blocked
[Statedef 1373]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -14

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1374

;---------------------------------------------------------------------------
[Statedef 1374]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1374

[State 1353]
type = VelAdd
trigger1 = Time = 0
X = fvar(13)

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = 8

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1380

;---------------------------------------------------------------------------
[Statedef 1380]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1380

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1381

;---------------------------------------------------------------------------
[Statedef 1381]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1381

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(40 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(85 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = 6

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
X = 8

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = 240, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = EnemyNear,StateType = A
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 0

[State 440, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(50 - 5 * var(29) < 10, 10, 50 - 5 * var(29)), ifelse(3 - var(29) < 1, 1, 3 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 3
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 16
ground.hittime = 16
guard.ctrltime = 14
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveContact
value = 1382

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1390

;---------------------------------------------------------------------------
;HitStop
[Statedef 1382]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1382

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(1) = 0
trigger1 = var(10) <= 2
X = 6

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 57

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1383

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1384

;---------------------------------------------------------------------------
;Blocked
[Statedef 1383]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -13

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1384

;---------------------------------------------------------------------------
[Statedef 1384]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1384

[State 1353]
type = VelAdd
trigger1 = Time = 0
X = fvar(13)

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = 8

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1390

;---------------------------------------------------------------------------
[Statedef 1390]
type = S
movetype = A
physics = N
ctrl = 0
anim = 1390

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(35 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(24 * const(size.xscale) + P2Dist X), ceil(80 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(1) = 0
X = 8

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = 8

[State 2011]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = 8

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 240, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
var(3) = 18
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 1
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveContact
var(10) = time - 2

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 440, 1]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(50 - 5 * var(29) < 10, 10, 50 - 5 * var(29)), ifelse(3 - var(29) < 1, 1, 3 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 0, 4
hitsound = S1000, 1
guardsound = S200, 2
guard.ctrltime = 14
ground.velocity = -2.2 * 3, -2.2 * 4
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, -2.2 * 4
yaccel = .65
P2Facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 221]
type = ChangeState
trigger1 = MoveGuarded
value = 1392

[State 221]
type = ChangeState
trigger1 = MoveHit
value = 1394

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1391

;---------------------------------------------------------------------------
[Statedef 1391]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1391

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 1219

;---------------------------------------------------------------------------
;HitStop
[Statedef 1392]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1392

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 56

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1393

;---------------------------------------------------------------------------
[Statedef 1393]
type = S
movetype = A
physics = S
ctrl = 0

[State 450, 4]
type = ChangeAnim
trigger1 = Time = 1 - (var(10) = 4)
value = 1393

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1393
value = 1219

;---------------------------------------------------------------------------
;HitStop
[Statedef 1394]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1392

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 56

[State 221]
type = VarAdd
trigger1 = Time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1395

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1396

;---------------------------------------------------------------------------
;Blocked
[Statedef 1395]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -12

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 450, 4]
type = ChangeState
trigger1 = var(19) >= 60
value = 1393

;---------------------------------------------------------------------------
[Statedef 1396]
type = S
movetype = A
physics = S
ctrl = 0

[State 450, 4]
type = ChangeAnim
trigger1 = Time = 1 - (var(10) = 4)
value = 1396

[State 450, 4]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1396
value = 1219

;---------------------------------------------------------------------------
[Statedef 1400]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 1401]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1401

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1402

;---------------------------------------------------------------------------
[Statedef 1402]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1402

[State 1200, 19]
type = VelSet
trigger1 = time = 0
X = 2
Y = .5 * (-15.25)

[State 1200, 2]
type = VelAdd
trigger1 = time > 0
Y = .5

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(110 * const(size.xscale)), ceil(80 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(110 * const(size.xscale)), ceil(125 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 19]
type = PowerAdd
trigger1 = AnimElemTime(6) = 0
value = 30

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 1400, 0

[State 1200, 19]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 240, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 1
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time - 20

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 11
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 1202, 6]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(120 - 5 * var(29) < 10, 10, 120 - 5 * var(29)), ifelse(8 - var(29) < 1, 1, 8 - var(29))
getpower = 140, 60
givepower = 60, 0
animtype = H
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
hitsound = S1000, 1
guardsound = S200, 2
guard.ctrltime = 14
ground.velocity = -2.2 * 3, 2.2 * 4
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, 2.2 * 4
yaccel = .65
p2facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 11, 11, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 1403

[State 1200, 22]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1409

;---------------------------------------------------------------------------
;HitStop
[Statedef 1403]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 50

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 225, 6]
type = ChangeAnim
trigger1 = time = 0
value = 1403
elem = var(10) + 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1404

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1405

;---------------------------------------------------------------------------
;Blocked
[Statedef 1404]
type = A
movetype = A
physics = N
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -6

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 225, 6]
type = ChangeAnim
trigger1 = var(19) < 60
value = 1403
elem = var(10)

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1405

;---------------------------------------------------------------------------
;HitBack
[Statedef 1405]
type = A
movetype = A
physics = N
ctrl = 0

[State 1202, 2]
type = VelAdd
trigger1 = time = 0
X = fvar(13)
Y = fvar(14)

[State 1200, 2]
type = VelAdd
trigger1 = time > 0
Y = 0.5

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1403
value = 1408

[State 1200, 22]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1409

;---------------------------------------------------------------------------
[Statedef 1408]
type = A
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 1408

[State 1202, 23]
type = PosSet
trigger1 = Time = 0
Y = 0

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1409

;---------------------------------------------------------------------------
[Statedef 1409]
type = S
movetype = A
physics = S
velset = 0, 0
ctrl = 0
anim = 1409

[State 1202, 23]
type = PosSet
trigger1 = Time = 0
Y = 0

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1450]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 1451]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1451

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1452

;---------------------------------------------------------------------------
[Statedef 1452]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1452

[State 1200, 19]
type = VelSet
trigger1 = time = 0
X = 2.5
Y = .5 * (-14.75)

[State 1200, 2]
type = VelAdd
trigger1 = time > 0
Y = .5

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(110 * const(size.xscale)), ceil(80 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(110 * const(size.xscale)), ceil(125 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 19]
type = PowerAdd
trigger1 = AnimElemTime(6) = 0
value = 30

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 1400, 0

[State 1200, 19]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 240, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 1
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time - 20

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 11
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 1202, 6]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(140 - 5 * var(29) < 10, 10, 140 - 5 * var(29)), ifelse(9 - var(29) < 1, 1, 9 - var(29))
getpower = 140, 60
givepower = 60, 0
animtype = H
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
hitsound = S1000, 1
guardsound = S200, 2
guard.ctrltime = 14
ground.velocity = -2.2 * 3, 2.2 * 4
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, 2.2 * 4
yaccel = .65
p2facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 11, 11, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 1453

[State 1200, 22]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1409

;---------------------------------------------------------------------------
;HitStop
[Statedef 1453]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 50

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 225, 6]
type = ChangeAnim
trigger1 = time = 0
value = 1453
elem = var(10) + 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1454

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1455

;---------------------------------------------------------------------------
;Blocked
[Statedef 1454]
type = A
movetype = A
physics = N
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -6

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 225, 6]
type = ChangeAnim
trigger1 = var(19) < 60
value = 1453
elem = var(10)

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1455

;---------------------------------------------------------------------------
;HitBack
[Statedef 1455]
type = A
movetype = A
physics = N
ctrl = 0

[State 1202, 2]
type = VelAdd
trigger1 = time = 0
X = fvar(13)
Y = fvar(14)

[State 1200, 2]
type = VelAdd
trigger1 = time > 0
Y = 0.5

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1453
value = 1409

[State 1200, 22]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1409

;---------------------------------------------------------------------------
[Statedef 1500]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 1501]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1501

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1502

;---------------------------------------------------------------------------
[Statedef 1502]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1502

[State 1200, 19]
type = VelSet
trigger1 = time = 0
X = 3
Y = .5 * (-15.75)

[State 1200, 2]
type = VelAdd
trigger1 = time > 0
Y = .5

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(110 * const(size.xscale)), ceil(80 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(110 * const(size.xscale)), ceil(125 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 19]
type = PowerAdd
trigger1 = AnimElemTime(6) = 0
value = 30

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 1400, 0

[State 1200, 19]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 240, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 1
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time - 22

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 11
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 1202, 6]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(160 - 5 * var(29) < 10, 10, 160 - 5 * var(29)), ifelse(10 - var(29) < 1, 1, 10 - var(29))
getpower = 140, 60
givepower = 60, 0
animtype = H
guardflag = HA
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
hitsound = S1000, 1
guardsound = S200, 2
guard.ctrltime = 14
ground.velocity = -2.2 * 3, 2.2 * 4
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, 2.2 * 4
yaccel = .65
p2facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 11, 11, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 1503

[State 1200, 22]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1409

;---------------------------------------------------------------------------
;HitStop
[Statedef 1503]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 50

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 225, 6]
type = ChangeAnim
trigger1 = time = 0
value = 1503
elem = var(10) + 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1504

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1505

;---------------------------------------------------------------------------
;Blocked
[Statedef 1504]
type = A
movetype = A
physics = N
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -6

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 225, 6]
type = ChangeAnim
trigger1 = var(19) < 60
value = 1503
elem = var(10)

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1505

;---------------------------------------------------------------------------
;HitBack
[Statedef 1505]
type = A
movetype = A
physics = N
ctrl = 0

[State 1202, 2]
type = VelAdd
trigger1 = time = 0
X = fvar(13)
Y = fvar(14)

[State 1200, 2]
type = VelAdd
trigger1 = time > 0
Y = 0.5

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1503
value = 1409

[State 1200, 22]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1409

;---------------------------------------------------------------------------
[Statedef 1550]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 1551]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1551
poweradd = -400

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 3000]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap = 4
FrameGap = 3
length = 10
PalPostBright = 255, 255, 0
trans = add1
ignorehitpause = 1

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 1202, 20]
type = PlaySnd
trigger1 = Time = 0
value = 1350, 0

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1552

;---------------------------------------------------------------------------
[Statedef 1552]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1552

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 1200, 19]
type = VelSet
trigger1 = time = 0
X = 3.5
Y = .9 * (-10.25)

[State 1200, 2]
type = VelAdd
trigger1 = time > 0
Y = .9

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 1202, 6]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1553

;---------------------------------------------------------------------------
[Statedef 1553]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
anim = 1553

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = 240, 0

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = 1400, 0

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(110 * const(size.xscale)), ceil(80 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(110 * const(size.xscale)), ceil(125 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 19]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = 240, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 11
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 0

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(80 - 5 * var(29) < 10, 10, 80 - 5 * var(29)), ifelse(5 - var(29) < 1, 1, 5 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = H
hitflag = MAF
priority = 3, Hit
pausetime = 0, 2
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 14
ground.hittime = 14
guard.ctrltime = 14
ground.velocity = -1.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
yaccel = .65
p2facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 11, 11, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 1554

[State 1353]
type = AfterImagetime
trigger1 = AnimTime = 0
time = 0

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1570

;---------------------------------------------------------------------------
;HitStop
[Statedef 1554]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
anim = 1554

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 58

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1555

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1556

;---------------------------------------------------------------------------
;Blocked
[Statedef 1555]
type = A
movetype = A
physics = N
ctrl = 0

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -14

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1556

;---------------------------------------------------------------------------
;HitBack
[Statedef 1556]
type = A
movetype = A
physics = N
ctrl = 0

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 1200, 22]
type = ChangeAnim
trigger1 = Time = 4 - var(10)
value = 1556

[State 1353]
type = AfterImagetime
trigger1 = AnimTime = 0
trigger1 = Anim = 1556
time = 0

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1556
value = 1560

;---------------------------------------------------------------------------
[Statedef 1560]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1560

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(110 * const(size.xscale)), ceil(80 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(110 * const(size.xscale)), ceil(125 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveContact
var(10) = time - 2

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 240, 0

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(3) = 0
value = 1400, 0

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(120 - 5 * var(29) < 10, 10, 120 - 5 * var(29)), ifelse(8 - var(29) < 1, 1, 8 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = H
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 14
ground.hittime = 14
guard.ctrltime = 14
ground.velocity = -2.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, -2.2 * 4
yaccel = .65
p2facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 1562

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1561

;---------------------------------------------------------------------------
[Statedef 1561]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1561

[State 1200, 19]
type = VelAdd
trigger1 = time = 0
X = fvar(13)
Y = fvar(14)

[State 1200, 2]
type = VelAdd
trigger1 = time > 0
Y = .9

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(110 * const(size.xscale)), ceil(80 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(110 * const(size.xscale)), ceil(125 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveContact
var(10) = time + 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 1202, 6]
type = VarSet
trigger1 = time > 0
fvar(14) = Vel Y

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(120 - 5 * var(29) < 10, 10, 120 - 5 * var(29)), ifelse(8 - var(29) < 1, 1, 8 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = H
hitflag = MAF
priority = 3, Hit
pausetime = 0, 7
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 14
ground.hittime = 14
guard.ctrltime = 14
ground.velocity = -2.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, -2.2 * 4
yaccel = .65
p2facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 1562

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1409

;---------------------------------------------------------------------------
;HitStop
[Statedef 1562]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
anim = 1562

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 53

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1563

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1564

;---------------------------------------------------------------------------
;Blocked
[Statedef 1563]
type = A
movetype = A
physics = N
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -9

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1564

;---------------------------------------------------------------------------
;HitBack
[Statedef 1564]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1564

[State 1200, 22]
type = VelAdd
trigger1 = Time = 0
X = fvar(13)
Y = fvar(14)

[State 1200, 22]
type = VelAdd
trigger1 = Time > 0
Y = 0.9

[State 1200, 22]
type = ChangeState
trigger1 = time = 4 - var(10)
value = 1409

;---------------------------------------------------------------------------
[Statedef 1570]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1570

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(110 * const(size.xscale)), ceil(80 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(110 * const(size.xscale)), ceil(125 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = (Enemynear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 11
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(80 - 5 * var(29) < 10, 10, 80 - 5 * var(29)), ifelse(5 - var(29) < 1, 1, 5 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = H
hitflag = MAF
priority = 3, Hit
pausetime = 0, 2
hitsound = S1000, 1
guardsound = S200, 2
guard.ctrltime = 14
ground.velocity = -2.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, 2.2 * 4
yaccel = .65
p2facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 11, 11, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = Enemynear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 1572

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1571

;---------------------------------------------------------------------------
[Statedef 1571]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1571

[State 1200, 19]
type = VelAdd
trigger1 = time = 0
X = fvar(13)
Y = fvar(14)

[State 1200, 2]
type = VelAdd
trigger1 = time > 0
Y = .9

[State 400, 3]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1409

;---------------------------------------------------------------------------
;HitStop
[Statedef 1572]
type = A
movetype = A
physics = N
ctrl = 0
velset = 0, 0
anim = 1572

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 58

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1573

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1574

;---------------------------------------------------------------------------
;Blocked
[Statedef 1573]
type = A
movetype = A
physics = N
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -14

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1574

;---------------------------------------------------------------------------
;HitBack
[Statedef 1574]
type = A
movetype = A
physics = N
ctrl = 0
anim = 1574

[State 1200, 22]
type = VelAdd
trigger1 = Time = 0
X = fvar(13)
Y = fvar(14)

[State 1200, 22]
type = VelAdd
trigger1 = Time > 0
Y = 0.9

[State 1200, 22]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 1409

;---------------------------------------------------------------------------
[Statedef 1600]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 1601]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1601

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 1200, 19]
type = PowerAdd
trigger1 = AnimElemTime(10) = 0
value = 30

[State 1200, 19]
type = PlaySnd
trigger1 = AnimElemTime(10) = 0
value = 240, 0

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(10) = 0
value = 1000, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 1
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time - 23

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 7
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(130 - 5 * var(29) < 10, 10, 130 - 5 * var(29)), ifelse(8 - var(29) < 1, 1, 8 - var(29))
getpower = 90, 20
givepower = 60, 0
animtype = H
guardflag = H
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
hitsound = S1400, 1
guardsound = S200, 2
guard.ctrltime = 14
ground.velocity = -2.2 * 3, 2.2 * 4
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, 2.2 * 4
yaccel = .65
p2facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 7, 7, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveGuarded
value = 1602

[State 1200, 22]
type = ChangeState
trigger1 = MoveHit
value = 1603

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1609

;---------------------------------------------------------------------------
;GuardStop
[Statedef 1602]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0

[State 221]
type = Explod
trigger1 = time = 0
trigger1 = var(10) <= 2
anim= 3570
pos = ceil(120 * const(size.xscale)), ceil(45 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = time = 0
trigger1 = var(10) > 2
anim= 3570
pos = ceil(120 * const(size.xscale)), ceil(135 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 50

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 225, 6]
type = ChangeAnim
trigger1 = var(19) < 60
value = 1602
elem = var(10)

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1605

;---------------------------------------------------------------------------
;HitStop
[Statedef 1603]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0

[State 221]
type = Explod
trigger1 = time = 0
trigger1 = var(10) <= 2
anim= 3530
pos = ceil(120 * const(size.xscale)), ceil(0 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = time = 0
trigger1 = var(10) > 2
anim= 3530
pos = ceil(120 * const(size.xscale)), ceil(90 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 50

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 225, 6]
type = ChangeAnim
trigger1 = var(19) < 60
value = 1602
elem = var(10)

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1604

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1605

;---------------------------------------------------------------------------
;Blocked
[Statedef 1604]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -6

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 225, 6]
type = ChangeAnim
trigger1 = var(19) < 60
value = 1602
elem = var(10)

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1605

;---------------------------------------------------------------------------
;HitBack
[Statedef 1605]
type = S
movetype = A
physics = S
ctrl = 0

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1602
value = 1609

;---------------------------------------------------------------------------
[Statedef 1609]
type = S
movetype = A
physics = S
ctrl = 1
anim = 1609

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1650]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 1651]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1651

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 1200, 19]
type = PowerAdd
trigger1 = AnimElemTime(10) = 0
value = 30

[State 1200, 19]
type = PlaySnd
trigger1 = AnimElemTime(10) = 0
value = 240, 0

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(10) = 0
value = 1000, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 1
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time - 25

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 9
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(150 - 5 * var(29) < 10, 10, 150 - 5 * var(29)), ifelse(9 - var(29) < 1, 1, 9 - var(29))
getpower = 90, 20
givepower = 60, 0
animtype = H
guardflag = H
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
hitsound = S1400, 1
guardsound = S200, 2
guard.ctrltime = 14
ground.velocity = -2.2 * 3, 2.2 * 4
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, 2.2 * 4
yaccel = .65
p2facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 9, 9, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveGuarded
value = 1602

[State 1200, 22]
type = ChangeState
trigger1 = MoveHit
value = 1603

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1609

;---------------------------------------------------------------------------
[Statedef 1700]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 1701]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1701

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 1200, 19]
type = PowerAdd
trigger1 = AnimElemTime(10) = 0
value = 30

[State 1200, 19]
type = PlaySnd
trigger1 = AnimElemTime(10) = 0
value = 240, 0

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(10) = 0
value = 1000, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 1
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time - 27

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 11
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(170 - 5 * var(29) < 10, 10, 170 - 5 * var(29)), ifelse(11 - var(29) < 1, 1, 11 - var(29))
getpower = 90, 20
givepower = 60, 0
animtype = H
guardflag = H
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
hitsound = S1400, 1
guardsound = S200, 2
guard.ctrltime = 14
ground.velocity = -2.2 * 3, 2.2 * 4
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, 2.2 * 4
yaccel = .65
p2facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 11, 11, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveGuarded
value = 1602

[State 1200, 22]
type = ChangeState
trigger1 = MoveHit
value = 1603

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1609

;---------------------------------------------------------------------------
[Statedef 1750]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 1751]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1751
poweradd = -400

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 3000]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap = 4
FrameGap = 3
length = 10
PalPostBright = 255, 255, 0
trans = add1
ignorehitpause = 1

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 1202, 20]
type = PlaySnd
trigger1 = Time = 0
value = 1350, 0

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(120 * const(size.xscale)), ceil(0 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(120 * const(size.xscale)), ceil(45 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 19]
type = PlaySnd
trigger1 = AnimElemTime(10) = 0
value = 240, 0

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(10) = 0
value = 1000, 0

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time - 25

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 11
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 0

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(100 - 5 * var(29) < 10, 10, 100 - 5 * var(29)), ifelse(6 - var(29) < 1, 1, 6 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = H
hitflag = MAF
priority = 3, Hit
pausetime = 0, 6
hitsound = S1400, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 16
ground.hittime = 16
guard.ctrltime = 14
ground.velocity = -2.2 * 5
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, -2.2 * 4
yaccel = .65
p2facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 11, 11, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 1752

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1760

;---------------------------------------------------------------------------
;HitStop
[Statedef 1752]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1752

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 54

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1753

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 1754

;---------------------------------------------------------------------------
;Blocked
[Statedef 1753]
type = S
movetype = A
physics = S
ctrl = 0

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -10

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 1754

;---------------------------------------------------------------------------
;HitBack
[Statedef 1754]
type = S
movetype = A
physics = S
ctrl = 0

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 200, 6]
type = ChangeState
trigger1 = Time = 2 - var(10)
value = 1760

;---------------------------------------------------------------------------
[Statedef 1760]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1760

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveHit
anim= 3530
pos = ceil(120 * const(size.xscale)), ceil(90 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 221]
type = Explod
trigger1 = MoveGuarded
anim= 3570
pos = ceil(120 * const(size.xscale)), ceil(135 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 1
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 3
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, SA
damage = ifelse(110 - 5 * var(29) < 10, 10, 110 - 5 * var(29)), ifelse(7 - var(29) < 1, 1, 7 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = H
hitflag = MAF
priority = 3, Hit
pausetime = 0, 10
hitsound = S1400, 1
guardsound = S200, 2
guard.ctrltime = 14
ground.velocity = -2.2 * 3, 2.2 * 4
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3, 2.2 * 4
yaccel = .65
p2facing = 1

[State 225, 1]
type = VarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 3, 3, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 1761

[State 1353]
type = AfterImagetime
trigger1 = AnimTime = 0
time = 0

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 1609

;---------------------------------------------------------------------------
;HitStop
[Statedef 1761]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 1761

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 50

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 1762

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 1763

;---------------------------------------------------------------------------
;Blocked
[Statedef 1762]
type = S
movetype = A
physics = S
ctrl = 0

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -6

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 1763

;---------------------------------------------------------------------------
;HitBack
[Statedef 1763]
type = S
movetype = A
physics = S
ctrl = 0

[State 1353]
type = PalFx
trigger1 = GameTime%2 = 0
add = 255, 255, 0
time = 1
ignorehitpause = 1

[State 200, 6]
type = ChangeAnim
trigger1 = Time = 2 - var(10)
value = 1763

[State 1353]
type = AfterImagetime
trigger1 = AnimTime = 0
trigger1 = Anim = 1763
time = 0

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = Anim = 1763
value = 1609

;---------------------------------------------------------------------------
[Statedef 1800]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 1801]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1801

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 2011]
type = VarSet
trigger1 = time = 0
var(13) = 0

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 19]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 240, 0

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 1800, 0

[State 1200, 19]
type = PowerAdd
trigger1 = AnimElemTime(7) = 0
value = 20

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(8) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(9) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(10) = 0
X = -8

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 2

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = var(1) >= 6
trigger1 = EnemyNear,Facing != Facing
trigger2 = var(1) = -1
trigger2 = EnemyNear,Facing = Facing
attr = S, ST
guardflag = L
hitflag = M
priority = 5, Miss
pausetime = 0, 10
guardsound = S200, 2
guard.ctrltime = 14
ground.velocity = -2.2 * 3
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3
p2facing = 1
P1StateNo = 1810
P2StateNo = 1815
ID = 1801

[State 911]
type = HitDef
trigger1 = var(1) >= 6
trigger1 = EnemyNear,Facing = Facing
trigger2 = var(1) = -1
trigger2 = EnemyNear,Facing != Facing
attr = S, ST
guardflag = L
hitflag = M
priority = 5, Miss
pausetime = 0, 10
guardsound = S200, 2
guard.ctrltime = 14
ground.velocity = -2.2 * 3
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3
p2facing = -1
P1StateNo = 1820
P2StateNo = 1825

[State 1200, 22]
type = ChangeState
trigger1 = MoveGuarded
value = 1802

[State 400, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1802]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1802
velset = 0, 0
poweradd = 40

[State 221]
type = Explod
trigger1 = time = 0
anim= 3570
pos = ceil(135 * const(size.xscale)), ceil(140 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 50

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1803

;---------------------------------------------------------------------------
[Statedef 1803]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1803

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(1) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = -8

[State 400, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1810]
type = S
movetype= A
physics = S
anim = 1810
poweradd = 150

[State 912]
type = PlaySnd
trigger1 = time = 0
value = 900, 0

[State 801, 5]
type = NotHitBy
value = SCA
trigger1 = 1

[State 7901]
type = Width
trigger1 = AnimElemTime(1) = 0
edge = 90, 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(1) = 0
pos = 90, 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(2) = 0
pos = 85, 0

[State 801, Bind 1]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = -8

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(3) = 0
pos = 80, 0

[State 801, Bind 1]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = -12

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(4) = 0
pos = 78, 0

[State 801, Bind 1]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = -8

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(5) = 0
pos = 77, 0

[State 801, Bind 1]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = -4

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(6) = 0
pos = 75, 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(7) = 0
pos = 73, 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(8) = 0
pos = 71, 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(9) = 0
pos = 85, -60

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(10) = 0
pos = 90, -75

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(11) = 0
pos = 30, -110

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(12) = 0
pos = 10, -130

[State 7901]
type = Width
trigger1 = AnimElemTime(13) = 0
edge = 0, 50

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(13) = 0
pos = -50, -80

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElemTime(13) = 0
value = 1816

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1815]
type = A
movetype = H
physics = N
velset = 0, 0

[State 820, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1815

[State 2011]
type = VarSet
trigger1 = AuthorName = "Umihei"
trigger1 = time = 0
var(13) = EnemyNear,var(13)

[State 5000, 5]
type = VarAdd
trigger1 = AuthorName = "Umihei"
trigger1 = var(16) >= 5
trigger1 = var(28)/100 = 0
var(28) = 100
ignorehitpause = 1

[State 820, 1]
type = SprPriority
trigger1 = AnimElemTime(1) = 0
value = 1

[State 821, 4]
type = SelfState
trigger1 = Time >= 180
value = 5100

;---------------------------------------------------------------------------
[Statedef 1816]
type = A
movetype = H
physics = N
velset = 7, -12.3
sprpriority = 1

[State 820, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 5050

[State 821, 4]
type = VelAdd
trigger1 = time > 0
Y = .65

[State 1953]
type = VarAdd
trigger1 = AuthorName = "Umihei"
trigger1 = time = 43
fvar(11) = ifelse(48 + 8 * (var(16)%4) - fvar(11) > 11 + 2 * var(13), 11 + 2 * var(13), 48 + 8 * (var(16)%4) - fvar(11))

[State 1953]
type = SelfState
trigger1 = AuthorName = "Umihei"
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 1817]
type = L
movetype = H
physics = N
velset = 0, 0
sprpriority = 1

[State 1953]
type = SelfState
trigger1 = time = 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 1818]
type = L
movetype = H
physics = N
velset = 0, 0
sprpriority = 1

[State 1953]
type = ChangeState
trigger1 = time = 0
value = 6100

;---------------------------------------------------------------------------
[Statedef 1820]
type = S
movetype= A
physics = S
anim = 1820
poweradd = 150

[State 912]
type = PlaySnd
trigger1 = time = 0
value = 900, 0

[State 801, 5]
type = NotHitBy
value = SCA
trigger1 = 1

[State 7901]
type = Width
trigger1 = AnimElemTime(1) = 0
edge = 90, 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(1) = 0
pos = 90, 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(7) = 0
pos = 60, -80

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(8) = 0
pos = 15, -150

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(9) = 0
pos = -45, -150

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(10) = 0
pos = -65, -145

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(11) = 0
pos = -70, -140

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(12) = 0
pos = -55, -100

[State 801, Bind 1]
type = PlaySnd
trigger1 = AnimElemTime(13) = 0
value = 900, 1

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(13) = 0
pos = -60, 0

[State 801, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElemTime(13) = 0
value = -ceil(200 * 0.87)

[State 801, Hurt 11]
type = VarAdd
trigger1 = AnimElemTime(13) = 0
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 11, 11, 48 + 8 * (var(16)%4) - fvar(12))

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElemTime(13) = 0
value = ifelse(fvar(12) < 48 + 8 * (var(16)%4), 1826, 1827)

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1825]
type = A
movetype = H
physics = N
velset = 0, 0

[State 820, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1825

[State 5000, 5]
type = VarAdd
trigger1 = AuthorName = "Umihei"
trigger1 = var(16) >= 5
trigger1 = var(28)/100 = 0
var(28) = 100
ignorehitpause = 1

[State 820, 1]
type = SprPriority
trigger1 = AnimElemTime(1) = 0
value = 1

[State 1953]
type = VarAdd
trigger1 = AuthorName = "Umihei"
trigger1 = Time = 42
fvar(11) = ifelse(48 + 8 * (var(16)%4) - fvar(11) > 11, 11, 48 + 8 * (var(16)%4) - fvar(11))

;---------------------------------------------------------------------------
[Statedef 1826]
type = L
movetype = H
physics = N
velset = 0, 0
sprpriority = 1

[State 1953]
type = SelfState
trigger1 = time = 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 1827]
type = L
movetype = H
physics = N
velset = 0, 0
sprpriority = 1

[State 1953]
type = ChangeState
trigger1 = time = 0
value = 6100

;---------------------------------------------------------------------------
[Statedef 1850]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 1851]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1851

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 2011]
type = VarSet
trigger1 = time = 0
var(13) = 1

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 19]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 240, 0

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 1800, 0

[State 1200, 19]
type = PowerAdd
trigger1 = AnimElemTime(7) = 0
value = 20

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(8) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(9) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(10) = 0
X = -8

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 2

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = var(1) >= 6
trigger1 = EnemyNear,Facing != Facing
trigger2 = var(1) = -1
trigger2 = EnemyNear,Facing = Facing
attr = S, ST
guardflag = L
hitflag = M
priority = 5, Miss
pausetime = 0, 10
guardsound = S200, 2
guard.ctrltime = 14
ground.velocity = -2.2 * 3
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3
p2facing = 1
P1StateNo = 1810
P2StateNo = 1815
ID = 1851

[State 911]
type = HitDef
trigger1 = var(1) >= 6
trigger1 = EnemyNear,Facing = Facing
trigger2 = var(1) = -1
trigger2 = EnemyNear,Facing != Facing
attr = S, ST
guardflag = L
hitflag = M
priority = 5, Miss
pausetime = 0, 10
guardsound = S200, 2
guard.ctrltime = 14
ground.velocity = -2.2 * 3
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3
p2facing = -1
P1StateNo = 1870
P2StateNo = 1875

[State 1200, 22]
type = ChangeState
trigger1 = MoveGuarded
value = 1852

[State 400, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1852]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1852
velset = 0, 0
poweradd = 40

[State 221]
type = Explod
trigger1 = time = 0
anim= 3570
pos = ceil(135 * const(size.xscale)), ceil(140 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 50

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1853

;---------------------------------------------------------------------------
[Statedef 1853]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1853

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(1) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = -8

[State 400, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1870]
type = S
movetype= A
physics = S
anim = 1870
poweradd = 150

[State 912]
type = PlaySnd
trigger1 = time = 0
value = 900, 0

[State 801, 5]
type = NotHitBy
value = SCA
trigger1 = 1

[State 7901]
type = Width
trigger1 = AnimElemTime(1) = 0
edge = 90, 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(1) = 0
pos = 90, 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(7) = 0
pos = 60, -80

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(8) = 0
pos = 15, -150

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(9) = 0
pos = -45, -150

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(10) = 0
pos = -65, -145

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(11) = 0
pos = -70, -140

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(12) = 0
pos = -55, -100

[State 801, Bind 1]
type = PlaySnd
trigger1 = AnimElemTime(13) = 0
value = 900, 1

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(13) = 0
pos = -60, 0

[State 801, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElemTime(13) = 0
value = -ceil(240 * 0.87)

[State 801, Hurt 11]
type = VarAdd
trigger1 = AnimElemTime(13) = 0
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 13, 13, 48 + 8 * (var(16)%4) - fvar(12))

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElemTime(13) = 0
value = ifelse(fvar(12) < 48 + 8 * (var(16)%4), 1826, 1827)

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1875]
type = A
movetype = H
physics = N
velset = 0, 0

[State 820, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1875

[State 5000, 5]
type = VarAdd
trigger1 = AuthorName = "Umihei"
trigger1 = var(16) >= 5
trigger1 = var(28)/100 = 0
var(28) = 100
ignorehitpause = 1

[State 820, 1]
type = SprPriority
trigger1 = AnimElemTime(1) = 0
value = 1

[State 1953]
type = VarAdd
trigger1 = AuthorName = "Umihei"
trigger1 = Time = 45
fvar(11) = ifelse(48 + 8 * (var(16)%4) - fvar(11) > 13, 13, 48 + 8 * (var(16)%4) - fvar(11))

;---------------------------------------------------------------------------
[Statedef 1900]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [402, 403]
trigger18 = PrevStateNo = [412, 413]
trigger19 = PrevStateNo = [422, 423]
trigger20 = PrevStateNo = [432, 433]
trigger21 = PrevStateNo = [442, 443]
trigger22 = PrevStateNo = [452, 453]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 1901]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1901

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 2011]
type = VarSet
trigger1 = time = 0
var(13) = 2

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 8, ifelse(P2BodyDist X <= 8, P2BodyDist X, 8))

[State 1200, 19]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 240, 0

[State 1200, 4]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 1800, 0

[State 1200, 19]
type = PowerAdd
trigger1 = AnimElemTime(7) = 0
value = 20

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(8) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(9) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(10) = 0
X = -8

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 2

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 2.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = var(1) >= 6
trigger1 = EnemyNear,Facing != Facing
trigger2 = var(1) = -1
trigger2 = EnemyNear,Facing = Facing
attr = S, ST
guardflag = L
hitflag = M
priority = 5, Miss
pausetime = 0, 10
guardsound = S200, 2
guard.ctrltime = 14
ground.velocity = -2.2 * 3
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3
p2facing = 1
P1StateNo = 1810
P2StateNo = 1815
ID = 1901

[State 911]
type = HitDef
trigger1 = var(1) >= 6
trigger1 = EnemyNear,Facing = Facing
trigger2 = var(1) = -1
trigger2 = EnemyNear,Facing != Facing
attr = S, ST
guardflag = L
hitflag = M
priority = 5, Miss
pausetime = 0, 10
guardsound = S200, 2
guard.ctrltime = 14
ground.velocity = -2.2 * 3
ground.cornerpush.veloff = 0
air.velocity = -2.2 * 3
p2facing = -1
P1StateNo = 1920
P2StateNo = 1925

[State 1200, 22]
type = ChangeState
trigger1 = MoveGuarded
value = 1902

[State 400, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1902]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1902
velset = 0, 0
poweradd = 40

[State 221]
type = Explod
trigger1 = time = 0
anim= 3570
pos = ceil(135 * const(size.xscale)), ceil(140 * const(size.yscale))
postype = p1
sprpriority = 5
scale = const(size.xscale), const(size.yscale)
persistent = 0
ignorehitpause = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 50

[State 1200, 4]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 400, 3]
type = ChangeState
trigger1 = var(19) >= 60
value = 1903

;---------------------------------------------------------------------------
[Statedef 1903]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1903

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(1) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = -8

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = -8

[State 400, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1920]
type = S
movetype= A
physics = S
anim = 1920
poweradd = 150

[State 912]
type = PlaySnd
trigger1 = time = 0
value = 900, 0

[State 801, 5]
type = NotHitBy
value = SCA
trigger1 = 1

[State 7901]
type = Width
trigger1 = AnimElemTime(1) = 0
edge = 90, 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(1) = 0
pos = 90, 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(7) = 0
pos = 60, -80

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(8) = 0
pos = 15, -150

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(9) = 0
pos = -45, -150

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(10) = 0
pos = -65, -145

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(11) = 0
pos = -70, -140

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(12) = 0
pos = -55, -100

[State 801, Bind 1]
type = PlaySnd
trigger1 = AnimElemTime(13) = 0
value = 900, 1

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(13) = 0
pos = -60, 0

[State 801, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElemTime(13) = 0
value = -ceil(280 * 0.87)

[State 801, Hurt 11]
type = VarAdd
trigger1 = AnimElemTime(13) = 0
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 15, 15, 48 + 8 * (var(16)%4) - fvar(12))

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElemTime(13) = 0
value = ifelse(fvar(12) < 48 + 8 * (var(16)%4), 1826, 1827)

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 1925]
type = A
movetype = H
physics = N
velset = 0, 0

[State 820, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1925

[State 5000, 5]
type = VarAdd
trigger1 = AuthorName = "Umihei"
trigger1 = var(16) >= 5
trigger1 = var(28)/100 = 0
var(28) = 100
ignorehitpause = 1

[State 820, 1]
type = SprPriority
trigger1 = AnimElemTime(1) = 0
value = 1

[State 1953]
type = VarAdd
trigger1 = AuthorName = "Umihei"
trigger1 = Time = 45
fvar(11) = ifelse(48 + 8 * (var(16)%4) - fvar(11) > 15, 15, 48 + 8 * (var(16)%4) - fvar(11))

;---------------------------------------------------------------------------
[Statedef 2000]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [322, 323]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
trigger1 = PrevStateNo != [1002, 1004]
trigger1 = PrevStateNo != [1012, 1014]
trigger1 = PrevStateNo != [1022, 1024]
trigger1 = PrevStateNo != [1052, 1054]
trigger1 = PrevStateNo != [1062, 1064]
trigger1 = PrevStateNo != [1102, 1104]
trigger1 = PrevStateNo != [1112, 1114]
trigger1 = PrevStateNo != [1122, 1124]
trigger1 = PrevStateNo != [1212, 1213]
trigger1 = PrevStateNo != [1262, 1263]
trigger1 = PrevStateNo != 1321
trigger1 = PrevStateNo != 1331
trigger1 = PrevStateNo != 1341
trigger1 = PrevStateNo != 1392
trigger1 = PrevStateNo != [1394, 1395]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [322, 323]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
trigger1 = PrevStateNo != [1002, 1004]
trigger1 = PrevStateNo != [1012, 1014]
trigger1 = PrevStateNo != [1022, 1024]
trigger1 = PrevStateNo != [1052, 1054]
trigger1 = PrevStateNo != [1062, 1064]
trigger1 = PrevStateNo != [1102, 1104]
trigger1 = PrevStateNo != [1112, 1114]
trigger1 = PrevStateNo != [1122, 1124]
trigger1 = PrevStateNo != [1212, 1213]
trigger1 = PrevStateNo != [1262, 1263]
trigger1 = PrevStateNo != 1321
trigger1 = PrevStateNo != 1331
trigger1 = PrevStateNo != 1341
trigger1 = PrevStateNo != 1392
trigger1 = PrevStateNo != [1394, 1395]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [322, 323]
trigger18 = PrevStateNo = [402, 403]
trigger19 = PrevStateNo = [412, 413]
trigger20 = PrevStateNo = [422, 423]
trigger21 = PrevStateNo = [432, 433]
trigger22 = PrevStateNo = [442, 443]
trigger23 = PrevStateNo = [452, 453]
trigger24 = PrevStateNo = [1002, 1004]
trigger25 = PrevStateNo = [1012, 1014]
trigger26 = PrevStateNo = [1022, 1024]
trigger27 = PrevStateNo = [1052, 1054]
trigger28 = PrevStateNo = [1062, 1064]
trigger29 = PrevStateNo = [1102, 1104]
trigger30 = PrevStateNo = [1112, 1114]
trigger31 = PrevStateNo = [1122, 1124]
trigger32 = PrevStateNo = [1212, 1213]
trigger33 = PrevStateNo = [1262, 1263]
trigger34 = PrevStateNo = 1321
trigger35 = PrevStateNo = 1331
trigger36 = PrevStateNo = 1341
trigger37 = PrevStateNo = 1392
trigger38 = PrevStateNo = [1394, 1395]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 2001]
type = S
movetype = A
physics = S
ctrl = 0
poweradd = -880
anim = 2001

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 221]
type = RemoveExplod
trigger1 = Time = 0
ID = 1040

[State 221]
type = RemoveExplod
trigger1 = Time = 0
ID = 1045

[State 2001]
type = SuperPause
trigger1 = Time = 0
anim = -1
MoveTime = 50
Darken = 1
BindTime = -1
Time = 50

[State 3200, 21]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 0

[State 2001, SA Effect]
type = Explod
trigger1 = time = 0
anim = 3400
pos = ceil(25 * const(size.xscale)), ceil(-45 * const(size.yscale))
postype = p1
scale = const(size.xscale), const(size.yscale)
pausemovetime = 9999
supermovetime = 9999
ontop = 1

[State 2001, SA Effect]
type = Explod
trigger1 = Time = 32
anim = 3410
pos = ceil(155 * const(size.xscale)), ceil(143 * const(size.yscale))
postype = Left
scale = const(size.xscale), const(size.yscale)
pausemovetime = 9999
supermovetime = 9999
ontop = 1

[State 2001, SA Effect]
type = Explod
trigger1 = Time = 43
anim = 3420
pos = ceil(5 * const(size.xscale)), ceil(0 * const(size.yscale))
postype = p1
scale = const(size.xscale), const(size.yscale)
pausemovetime = 9999
supermovetime = 9999
ontop = 1

[State 3000]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 2
FrameGap = 3
length = 20
PalPostBright = 0, 0, 255
trans = add1

[State 3200, 22]
type = NotHitBy
trigger1 = 1
value = SCA

[State 1300, 2]
type = Pause
trigger1 = AnimTime = -1
time = 6
movetime = 6

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 2002

;---------------------------------------------------------------------------
[Statedef 2002]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2002

[State 2002, 連打回数]
type = VarSet
trigger1 = time = 0
fvar(25) = 0

[State 2002, HIT回数]
type = VarSet
trigger1 = time = 0
fvar(27) = 0

[State 2002, GUARD回数]
type = VarSet
trigger1 = time = 0
fvar(28) = 0

[State 3200, 2]
type = Helper
trigger1 = Time = 0
helpertype = Normal
pos = 200, 0
postype = p1
facing = 1
StateNo = 2170
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 3200, 2]
type = Helper
trigger1 = Time = 0
helpertype = Normal
pos = -200, 0
postype = p1
facing = 1
StateNo = 2171
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 221]
type = Explod
trigger1 = AnimElemTime(4) = 0
anim= 2180
ID = 2180
bindtime = -1
RemoveTime = -1
pos = 0, 0
postype = p1
sprpriority = 3

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 16, ifelse(P2BodyDist X <= 16, P2BodyDist X, 16))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 18, ifelse(P2BodyDist X <= 18, P2BodyDist X, 18))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 22, ifelse(P2BodyDist X <= 22, P2BodyDist X, 22))

[State 2002]
type = PlaySnd
trigger1 = AnimElemTime(6) = 0
value = 2000, 1

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 210, 1]
type = VarSet
trigger1 = Time = 0
var(4) = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 10 + (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time - 7

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 0
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = -1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, HA
damage = ifelse(160 - 5 * var(29) < 10, 10, 160 - 5 * var(29)), ifelse(10 - var(29) < 1, 1, 10 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 4
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 12
ground.hittime = 12
guard.ctrltime = 11
ground.velocity = 1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = 1.7 * 3, -1.7 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 2003

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 2010

;---------------------------------------------------------------------------
;HitStop
[Statedef 2003]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 2003

[State 225, 6]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 56

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 2004

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2005

;---------------------------------------------------------------------------
;Blocked
[Statedef 2004]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -12

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2005

;---------------------------------------------------------------------------
;HitBack
[Statedef 2005]
type = S
movetype = A
physics = S
ctrl = 0

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 4)
value = 2010

;---------------------------------------------------------------------------
[Statedef 2010]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2010

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 10 + (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 0
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = -1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, HA
damage = ifelse(30 - 5 * var(29) < 10, 10, 30 - 5 * var(29)), ifelse(2 - var(29) < 1, 1, 2 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 4
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 12
ground.hittime = 12
guard.ctrltime = 11
ground.velocity = 1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = 1.7 * 3, -1.7 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 2012

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 2020

;---------------------------------------------------------------------------
;HitStop
[Statedef 2012]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 2012

[State 225, 6]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 56

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 2013

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2014

;---------------------------------------------------------------------------
;Blocked
[Statedef 2013]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -12

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2014

;---------------------------------------------------------------------------
;HitBack
[Statedef 2014]
type = S
movetype = A
physics = S
ctrl = 0

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
value = 2020

;---------------------------------------------------------------------------
[Statedef 2020]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2020

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 10 + (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 0
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = -1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, HA
damage = ifelse(40 - 5 * var(29) < 10, 10, 40 - 5 * var(29)), ifelse(2 - var(29) < 1, 1, 2 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 4
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 12
ground.hittime = 12
guard.ctrltime = 11
ground.velocity = 1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = 1.7 * 3, -1.7 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 2022

[State 200, 6]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = fvar(25) > 3
value = 2030

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 2150

;---------------------------------------------------------------------------
;HitStop
[Statedef 2022]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 2022

[State 225, 6]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 56

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 2023

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2024

;---------------------------------------------------------------------------
;Blocked
[Statedef 2023]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -12

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2024

;---------------------------------------------------------------------------
;HitBack
[Statedef 2024]
type = S
movetype = A
physics = S
ctrl = 0

[State 200, 6]
type = ChangeState
triggerall = time = 0
trigger1 = fvar(25) > 3
value = 2030

[State 200, 6]
type = ChangeState
trigger1 = time = 0
value = 2150

;---------------------------------------------------------------------------
[Statedef 2030]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2030

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 10 + (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 0
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = -1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, HA
damage = ifelse(40 - 5 * var(29) < 10, 10, 40 - 5 * var(29)), ifelse(2 - var(29) < 1, 1, 2 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 4
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 12
ground.hittime = 12
guard.ctrltime = 11
ground.velocity = 1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = 1.7 * 3, -1.7 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 2032

[State 200, 6]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = fvar(25) > 4
value = 2040

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 2150

;---------------------------------------------------------------------------
;HitStop
[Statedef 2032]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 2032

[State 225, 6]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 56

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 2033

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2034

;---------------------------------------------------------------------------
;Blocked
[Statedef 2033]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -12

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2034

;---------------------------------------------------------------------------
;HitBack
[Statedef 2034]
type = S
movetype = A
physics = S
ctrl = 0

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 4)
trigger1 = fvar(25) > 4
value = 2040

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 4)
value = 2150

;---------------------------------------------------------------------------
[Statedef 2040]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2040

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
trigger1 = Enemynear,StateType = A
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 10 + (EnemyNear,StateType = A)
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 0
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = -1.7 * ifelse(EnemyNear,StateType != A, -5, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, HA
damage = ifelse(40 - 5 * var(29) < 10, 10, 40 - 5 * var(29)), ifelse(2 - var(29) < 1, 1, 2 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 4
hitsound = S1000, 1
guardsound = S200, 2
ground.type = High
ground.slidetime = 12
ground.hittime = 12
guard.ctrltime = 11
ground.velocity = 1.7 * 5
ground.cornerpush.veloff = 0
air.velocity = 1.7 * 3, -1.7 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
trigger1 = EnemyNear,StateType = A
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 2042

[State 200, 6]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = fvar(25) > 5
value = 2050

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 2150

;---------------------------------------------------------------------------
;HitStop
[Statedef 2042]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 2042

[State 225, 6]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 56

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 2043

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2044

;---------------------------------------------------------------------------
;Blocked
[Statedef 2043]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -12

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2044

;---------------------------------------------------------------------------
;HitBack
[Statedef 2044]
type = S
movetype = A
physics = S
ctrl = 0

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
trigger1 = fvar(25) > 5
value = 2050

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
value = 2150

;---------------------------------------------------------------------------
[Statedef 2050]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2050

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 11
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 0
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, HA
damage = ifelse(40 - 5 * var(29) < 10, 10, 40 - 5 * var(29)), ifelse(2 - var(29) < 1, 1, 2 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 4
hitsound = S1000, 1
guardsound = S200, 2
guard.ctrltime = 11
ground.velocity = -1.2 * 3, -1.2 * 4
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 2052

[State 200, 6]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = fvar(25) > 6
value = 2060

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 2150

;---------------------------------------------------------------------------
;HitStop
[Statedef 2052]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 2052

[State 225, 6]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 56

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 2053

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2054

;---------------------------------------------------------------------------
;Blocked
[Statedef 2053]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -12

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2054

;---------------------------------------------------------------------------
;HitBack
[Statedef 2054]
type = S
movetype = A
physics = S
ctrl = 0

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
trigger1 = fvar(25) > 6
value = 2060

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
value = 2150

;---------------------------------------------------------------------------
[Statedef 2060]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2060

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 11
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 0
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, HA
damage = ifelse(40 - 5 * var(29) < 10, 10, 40 - 5 * var(29)), ifelse(2 - var(29) < 1, 1, 2 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 4
hitsound = S1000, 1
guardsound = S200, 2
guard.ctrltime = 11
ground.velocity = -1.2 * 3, -1.2 * 4
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 2062

[State 200, 6]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = fvar(25) > 7
value = 2070

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 2150

;---------------------------------------------------------------------------
;HitStop
[Statedef 2062]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 2062

[State 225, 6]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 56

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 2063

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2064

;---------------------------------------------------------------------------
;Blocked
[Statedef 2063]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -12

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2064

;---------------------------------------------------------------------------
;HitBack
[Statedef 2064]
type = S
movetype = A
physics = S
ctrl = 0

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
trigger1 = fvar(25) > 7
value = 2070

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
value = 2150

;---------------------------------------------------------------------------
[Statedef 2070]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2070

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 11
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 0
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, HA
damage = ifelse(40 - 5 * var(29) < 10, 10, 40 - 5 * var(29)), ifelse(2 - var(29) < 1, 1, 2 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 4
hitsound = S1000, 1
guardsound = S200, 2
guard.ctrltime = 11
ground.velocity = -1.2 * 3, -1.2 * 4
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 2072

[State 200, 6]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = fvar(25) > 8
value = 2080

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 2150

;---------------------------------------------------------------------------
;HitStop
[Statedef 2072]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 2072

[State 225, 6]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 56

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 2073

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2074

;---------------------------------------------------------------------------
;Blocked
[Statedef 2073]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -12

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2074

;---------------------------------------------------------------------------
;HitBack
[Statedef 2074]
type = S
movetype = A
physics = S
ctrl = 0

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
trigger1 = fvar(25) > 8
value = 2080

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
value = 2150

;---------------------------------------------------------------------------
[Statedef 2080]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2080

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 11
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 0
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, HA
damage = ifelse(40 - 5 * var(29) < 10, 10, 40 - 5 * var(29)), ifelse(2 - var(29) < 1, 1, 2 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 4
hitsound = S1000, 1
guardsound = S200, 2
guard.ctrltime = 11
ground.velocity = -1.2 * 3, -1.2 * 4
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 2082

[State 200, 6]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = fvar(25) > 9
value = 2090

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 2150

;---------------------------------------------------------------------------
;HitStop
[Statedef 2082]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 2082

[State 225, 6]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 56

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 2083

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2084

;---------------------------------------------------------------------------
;Blocked
[Statedef 2083]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -12

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2084

;---------------------------------------------------------------------------
;HitBack
[Statedef 2084]
type = S
movetype = A
physics = S
ctrl = 0

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
trigger1 = fvar(25) > 9
value = 2090

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
value = 2150

;---------------------------------------------------------------------------
[Statedef 2090]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2090

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 11
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 0
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, HA
damage = ifelse(40 - 5 * var(29) < 10, 10, 40 - 5 * var(29)), ifelse(2 - var(29) < 1, 1, 2 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 4
hitsound = S1000, 1
guardsound = S200, 2
guard.ctrltime = 11
ground.velocity = -1.2 * 3, -1.2 * 4
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 2092

[State 200, 6]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = fvar(25) > 10
value = 2100

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 2150

;---------------------------------------------------------------------------
;HitStop
[Statedef 2092]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 2092

[State 225, 6]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 56

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 2093

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2094

;---------------------------------------------------------------------------
;Blocked
[Statedef 2093]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -12

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2094

;---------------------------------------------------------------------------
;HitBack
[Statedef 2094]
type = S
movetype = A
physics = S
ctrl = 0

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
trigger1 = fvar(25) > 10
value = 2100

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
value = 2150

;---------------------------------------------------------------------------
[Statedef 2100]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2100

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 11
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 0
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, HA
damage = ifelse(40 - 5 * var(29) < 10, 10, 40 - 5 * var(29)), ifelse(2 - var(29) < 1, 1, 2 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 4
hitsound = S1000, 1
guardsound = S200, 2
guard.ctrltime = 11
ground.velocity = -1.2 * 3, -1.2 * 4
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 2102

[State 200, 6]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = fvar(25) > 11
value = 2110

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 2150

;---------------------------------------------------------------------------
;HitStop
[Statedef 2102]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 2102

[State 225, 6]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 56

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 2103

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2104

;---------------------------------------------------------------------------
;Blocked
[Statedef 2103]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -12

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2104

;---------------------------------------------------------------------------
;HitBack
[Statedef 2104]
type = S
movetype = A
physics = S
ctrl = 0

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
trigger1 = fvar(25) > 11
value = 2110

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
value = 2150

;---------------------------------------------------------------------------
[Statedef 2110]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2110

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 11
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 0
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, HA
damage = ifelse(40 - 5 * var(29) < 10, 10, 40 - 5 * var(29)), ifelse(2 - var(29) < 1, 1, 2 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 4
hitsound = S1000, 1
guardsound = S200, 2
guard.ctrltime = 11
ground.velocity = -1.2 * 3, -1.2 * 4
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 2112

[State 200, 6]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = fvar(25) > 12
value = 2120

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 2150

;---------------------------------------------------------------------------
;HitStop
[Statedef 2112]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 2112

[State 225, 6]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 56

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 2113

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2114

;---------------------------------------------------------------------------
;Blocked
[Statedef 2113]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -12

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2114

;---------------------------------------------------------------------------
;HitBack
[Statedef 2114]
type = S
movetype = A
physics = S
ctrl = 0

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
trigger1 = fvar(25) > 12
value = 2120

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
value = 2150

;---------------------------------------------------------------------------
[Statedef 2120]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2120

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 11
persistent = 0
ignorehitpause = 1

[State 1200, 3]
type = VarSet
trigger1 = MoveContact
var(10) = time

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 0
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.2 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, HA
damage = ifelse(40 - 5 * var(29) < 10, 10, 40 - 5 * var(29)), ifelse(2 - var(29) < 1, 1, 2 - var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 4
hitsound = S1000, 1
guardsound = S200, 2
guard.ctrltime = 11
ground.velocity = -1.2 * 3, -1.2 * 4
ground.cornerpush.veloff = 0
air.velocity = -1.2 * 3, -1.2 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 2122

[State 200, 6]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = fvar(25) > 13
value = 2130

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 2150

;---------------------------------------------------------------------------
;HitStop
[Statedef 2122]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 2122

[State 225, 6]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 56

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 2123

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2124

;---------------------------------------------------------------------------
;Blocked
[Statedef 2123]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -12

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2124

;---------------------------------------------------------------------------
;HitBack
[Statedef 2124]
type = S
movetype = A
physics = S
ctrl = 0

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
trigger1 = fvar(25) > 13
value = 2130

[State 200, 6]
type = ChangeState
trigger1 = time = 1 - (var(10) = 3)
value = 2150

;---------------------------------------------------------------------------
[Statedef 2130]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2130

[State 200, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 2140

;---------------------------------------------------------------------------
[Statedef 2140]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2140

[State 200, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 2150

;---------------------------------------------------------------------------
[Statedef 2150]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2150

[State 221]
type = RemoveExplod
trigger1 = AnimElemTime(2) = 0
ID = 2180

[State 221]
type = Explod
trigger1 = AnimElemTime(2) = 0
anim= 2190
ID = 2190
bindtime = -1
RemoveTime = -1
pos = 0, 0
postype = p1
sprpriority = 3

[State 1200, 4]
type = VarAdd
trigger1 = MoveHit
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = VarSet
trigger1 = MoveHit
var(5) = 11
persistent = 0
ignorehitpause = 1

[State 221]
type = VarSet
trigger1 = MoveHit
var(18) = 0
persistent = 0
ignorehitpause = 1

[State 1202, 8]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 225, 6]
type = VarSet
trigger1 = MoveContact
fvar(16) = 1.7 * ifelse(EnemyNear,StateType != A, -3, -3)

[State 1200, 5]
type = HitDef
trigger1 = (var(3) = [0, 35]) || var(11) > 0
attr = S, HA
damage = ifelse(20 - 5 * var(29) < 10, 10, 20 - 5 * var(29)), 1
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 0, 4
hitsound = S1000, 1
guardsound = S200, 2
guard.ctrltime = 11
ground.velocity = -1.7 * 3, -1.7 * 4
ground.cornerpush.veloff = 0
air.velocity = -1.7 * 3, -1.7 * 4
yaccel = .65
p2facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120, 120, 120, 3

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = fvar(12) >= 48 + 8 * (var(16)%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = var(16) < 5
trigger1 = fvar(12) < 48 + 8 * (var(16)%4)
value = 7020
persistent = 0
ignorehitpause = 1

[State 1200, 22]
type = ChangeState
trigger1 = MoveContact
value = 2152

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 2160

;---------------------------------------------------------------------------
;HitStop
[Statedef 2152]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0, 0
anim = 2152

[State 221]
type = RemoveExplod
trigger1 = Time = 0
ID = 2180

[State 221]
type = Explod
trigger1 = Time = 0
anim= 2190
ID = 2190
bindtime = -1
RemoveTime = -1
pos = 0, 0
postype = p1
sprpriority = 3

[State 225, 6]
type = VarAdd
trigger1 = time = 0
fvar(27) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(19) = 56

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(29) = 1

[State 225, 6]
type = VarSet
trigger1 = time = 0
var(32) = 10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(16) >= 5
trigger1 = Time <= 3
trigger1 = EnemyNear,StateNo = [3000, 3099]
value = 2153

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2154

;---------------------------------------------------------------------------
;Blocked
[Statedef 2153]
type = S
movetype = A
physics = S
ctrl = 0

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(19) = -12

[State 225, 6]
type = VarAdd
trigger1 = time = 0
var(32) = -10

[State 225, 6]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State 200, 6]
type = ChangeState
trigger1 = var(19) >= 60
value = 2154

;---------------------------------------------------------------------------
;HitBack
[Statedef 2154]
type = S
movetype = A
physics = S
ctrl = 0

[State 200, 6]
type = ChangeState
trigger1 = time = 7
value = 2160

;---------------------------------------------------------------------------
[Statedef 2160]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2160

[State 221]
type = RemoveExplod
trigger1 = Time = 0
ID = 2190

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(1) = 0
X = -22

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = -18

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = -16

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 2169

;---------------------------------------------------------------------------
[Statedef 2169]
type = S
movetype = A
physics = S
ctrl = 1
anim = 2169

[State 3200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2170]
type = S
movetype = I
physics = N
velset = -3, 0
anim = 2170
ctrl = 0

[State 3200, 22]
type = PlayerPush
trigger1 = 1
value = 1

[State 3200, 22]
type = NotHitBy
trigger1 = 1
value = SCA

[State 4001]
type = DestroySelf
trigger1 = parent,ctrl
trigger2 = parent,MoveType = H
trigger3 = ParentDist X = 0

;---------------------------------------------------------------------------
[Statedef 2171]
type = S
movetype = I
physics = N
velset = 3, 0
anim = 2170
ctrl = 0

[State 3200, 22]
type = PlayerPush
trigger1 = 1
value = 1

[State 3200, 22]
type = NotHitBy
trigger1 = 1
value = SCA

[State 4001]
type = DestroySelf
trigger1 = parent,ctrl
trigger2 = parent,MoveType = H
trigger3 = ParentDist X = 0

;---------------------------------------------------------------------------
[Statedef 2200]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [322, 323]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
trigger1 = PrevStateNo != [1002, 1004]
trigger1 = PrevStateNo != [1012, 1014]
trigger1 = PrevStateNo != [1022, 1024]
trigger1 = PrevStateNo != [1052, 1054]
trigger1 = PrevStateNo != [1062, 1064]
trigger1 = PrevStateNo != [1102, 1104]
trigger1 = PrevStateNo != [1112, 1114]
trigger1 = PrevStateNo != [1122, 1124]
trigger1 = PrevStateNo != [1212, 1213]
trigger1 = PrevStateNo != [1262, 1263]
trigger1 = PrevStateNo != 1321
trigger1 = PrevStateNo != 1331
trigger1 = PrevStateNo != 1341
trigger1 = PrevStateNo != 1392
trigger1 = PrevStateNo != [1394, 1395]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [322, 323]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
trigger1 = PrevStateNo != [1002, 1004]
trigger1 = PrevStateNo != [1012, 1014]
trigger1 = PrevStateNo != [1022, 1024]
trigger1 = PrevStateNo != [1052, 1054]
trigger1 = PrevStateNo != [1062, 1064]
trigger1 = PrevStateNo != [1102, 1104]
trigger1 = PrevStateNo != [1112, 1114]
trigger1 = PrevStateNo != [1122, 1124]
trigger1 = PrevStateNo != [1212, 1213]
trigger1 = PrevStateNo != [1262, 1263]
trigger1 = PrevStateNo != 1321
trigger1 = PrevStateNo != 1331
trigger1 = PrevStateNo != 1341
trigger1 = PrevStateNo != 1392
trigger1 = PrevStateNo != [1394, 1395]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [322, 323]
trigger18 = PrevStateNo = [402, 403]
trigger19 = PrevStateNo = [412, 413]
trigger20 = PrevStateNo = [422, 423]
trigger21 = PrevStateNo = [432, 433]
trigger22 = PrevStateNo = [442, 443]
trigger23 = PrevStateNo = [452, 453]
trigger24 = PrevStateNo = [1002, 1004]
trigger25 = PrevStateNo = [1012, 1014]
trigger26 = PrevStateNo = [1022, 1024]
trigger27 = PrevStateNo = [1052, 1054]
trigger28 = PrevStateNo = [1062, 1064]
trigger29 = PrevStateNo = [1102, 1104]
trigger30 = PrevStateNo = [1112, 1114]
trigger31 = PrevStateNo = [1122, 1124]
trigger32 = PrevStateNo = [1212, 1213]
trigger33 = PrevStateNo = [1262, 1263]
trigger34 = PrevStateNo = 1321
trigger35 = PrevStateNo = 1331
trigger36 = PrevStateNo = 1341
trigger37 = PrevStateNo = 1392
trigger38 = PrevStateNo = [1394, 1395]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 2201]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2201
poweradd = -1040

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 221]
type = RemoveExplod
trigger1 = Time = 0
ID = 1040

[State 221]
type = RemoveExplod
trigger1 = Time = 0
ID = 1045

[State 3000]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 2
FrameGap = 3
length = 20
PalPostBright = 0, 0, 255
trans = add1

[State 2001, SA Effect]
type = Explod
trigger1 = time = 0
anim = 3400
pos = ceil(32 * const(size.xscale)), ceil(-58 * const(size.yscale))
postype = p1
scale = const(size.xscale), const(size.yscale)
pausemovetime = 9999
supermovetime = 9999
ontop = 1

[State 2001, SA Effect]
type = Explod
trigger1 = Time = 32
anim = 3410
pos = ceil(155 * const(size.xscale)), ceil(133 * const(size.yscale))
postype = Left
scale = const(size.xscale), const(size.yscale)
pausemovetime = 9999
supermovetime = 9999
ontop = 1

[State 2001, SA Effect]
type = Explod
trigger1 = Time = 43
anim = 3420
pos = ceil(6 * const(size.xscale)), ceil(0 * const(size.yscale))
postype = p1
scale = const(size.xscale), const(size.yscale)
pausemovetime = 9999
supermovetime = 9999
ontop = 1

[State 3200, 21]
type = PlaySnd
trigger1 = Time = 0
value = 2000, 0

[State 2001]
type = SuperPause
trigger1 = Time = 0
anim = -1
movetime = 50
darken = 1
bindtime = -1
sprpriority = 3
Time = 50

[State 3200, 22]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3200, 23]
type = ChangeState
trigger1 = AnimTime = 0
value = 2202

;---------------------------------------------------------------------------
[Statedef 2202]
type = S
movetype = A
physics = S
anim = 2202
ctrl = 0

[State 911]
type = HitDef
triggerall = P2BodyDist X <= 71
trigger1 = var(1) != [0, 5]
attr = S, HT
hitflag = M
priority = 5, Miss
p2facing = -1
P1StateNo = 2210
P2StateNo = 2220

[State 1100, 33]
type = ChangeState
trigger1 = AnimTime = 0
value = 2209

;---------------------------------------------------------------------------
[Statedef 2209]
type = S
movetype = A
physics = S
anim = 2209
ctrl = 1

[State 1100, 33]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2210]
type = S
movetype= A
physics = S
ctrl = 0
anim = 2210

[State 912]
type = PlaySnd
trigger1 = time = 0
value = 900, 0

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(4) = 0
value = 900, 2

[State 801, 5]
type = NotHitBy
value = SCA
trigger1 = 1

[State 801, Bind 1]
type = Width
trigger1 = AnimElemTime(1) = 0
edge = 90, 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(1) = 0
pos = 90, 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(7) = 0
pos = 60, -80

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(8) = 0
pos = 15, -150

[State 7901]
type = Width
trigger1 = AnimElemTime(9) = 0
edge = 0, 45

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(9) = 0
pos = -45, -150

[State 7901]
type = Width
trigger1 = AnimElemTime(10) = 0
edge = 0, 65

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(10) = 0
pos = -65, -145

[State 7901]
type = Width
trigger1 = AnimElemTime(11) = 0
edge = 0, 70

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(11) = 0
pos = -70, -140

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(12) = 0
pos = -55, -100

[State 801, Bind 1]
type = PlaySnd
trigger1 = AnimTime = 0
value = 900, 1

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimTime = 0
pos = -60, 0

[State 801, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimTime = 0
value = -ceil(120 * 0.87)
kill = 0

[State 801, Hurt 11]
type = VarAdd
trigger1 = AnimTime = 0
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 5, 5, 48 + 8 * (var(16)%4) - fvar(12))

[State 810, Throw 11]
type = TargetState
trigger1 = AnimTime = 0
value = 2221

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 2211

;---------------------------------------------------------------------------
[Statedef 2211]
type = S
movetype= A
physics = S
ctrl = 0
anim = 2211

[State 2211]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = -80

[State 810, Throw 11]
type = TargetState
trigger1 = AnimTime = 0
value = 2222

[State 822, 1]
type = ChangeState
Trigger1 = AnimTime = 0
value = 2212

;---------------------------------------------------------------------------
[Statedef 2212]
type = S
movetype= A
physics = S
ctrl = 0
anim = 2212

[State 801, 5]
type = NotHitBy
value = SCA
trigger1 = 1

[State 2211]
type = PosAdd
trigger1 = AnimElemTime(1) = 0
X = -50

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(1) = 0
pos = 90, 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(4) = 0
pos = 60, -80

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(5) = 0
pos = 15, -150

[State 7901]
type = Width
trigger1 = AnimElemTime(6) = 0
edge = 0, 45

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(6) = 0
pos = -45, -150

[State 7901]
type = Width
trigger1 = AnimElemTime(7) = 0
edge = 0, 65

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(7) = 0
pos = -65, -145

[State 7901]
type = Width
trigger1 = AnimElemTime(8) = 0
edge = 0, 70

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(8) = 0
pos = -70, -140

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(9) = 0
pos = -55, -100

[State 801, Bind 1]
type = PlaySnd
trigger1 = AnimTime = 0
value = 900, 1

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimTime = 0
pos = -60, 0

[State 801, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimTime = 0
value = -ceil(120 * 0.87)
kill = 0

[State 801, Hurt 11]
type = VarAdd
trigger1 = AnimTime = 0
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 5, 5, 48 + 8 * (var(16)%4) - fvar(12))

[State 810, Throw 11]
type = TargetState
trigger1 = AnimTime = 0
value = 2223

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 2213

;---------------------------------------------------------------------------
[Statedef 2213]
type = S
movetype= A
physics = S
ctrl = 0
anim = 2213

[State 2211]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = -80

[State 810, Throw 11]
type = TargetState
trigger1 = AnimTime = 0
value = 2224

[State 822, 1]
type = ChangeState
Trigger1 = AnimTime = 0
value = 2214

;---------------------------------------------------------------------------
[Statedef 2214]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2214

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(11) = 0
value = 2200, 0

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(1) = 0
pos = 30, -20

[State 801, Bind 1]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
Y = -10

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(3) = 0
pos = 20, -20

[State 801, Bind 1]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = -10
Y = -10

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(5) = 0
pos = 50, -40

[State 801, Bind 1]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = -10
Y = -10

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(6) = 0
pos = 40, -30

[State 801, Bind 1]
type = PosAdd
trigger1 = AnimElemTime(7) = 0
Y = 10

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(7) = 0
pos = 40, -50

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(8) = 0
pos = 40, -60

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(9) = 0
pos = 60, -70

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(10) = 0
pos = 50, -100

[State 922]
type = Width
trigger1 = AnimElemTime(11) = 0
edge = 0, 60

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(11) = 0
pos = -60, -110

[State 922]
type = Width
trigger1 = AnimElemTime(12) = 0
edge = 0, 90

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElemTime(12) = 0
pos = -90, -50

[State 922]
type = TargetState
trigger1 = AnimElemTime(12) = 0
value = 2225

[State 801, Bind 1]
type = PosSet
trigger1 = AnimElemTime(13) = 0
Y = 0

[State 801, Hurt 11]
type = VarAdd
trigger1 = Target,Pos Y >= 0 && Target,Vel Y > 0
trigger1 = AnimElemTime(12) >= 0
fvar(12) = ifelse(48 + 8 * (var(16)%4) - fvar(12) > 8, 8, 48 + 8 * (var(16)%4) - fvar(12))
persistent = 0

[State 801, Hurt 11]
type = TargetLifeAdd
trigger1 = Target,Pos Y >= 0 && Target,Vel Y > 0
trigger1 = AnimElemTime(12) >= 0
value = -1 * ceil(240 * 0.87)
persistent = 0

[State 922]
type = PlaySnd
trigger1 = Target,Pos Y >= 0 && Target,Vel Y > 0
trigger1 = AnimElemTime(12) >= 0
value = 900, 1
persistent = 0

[State 922]
type = TargetState
trigger1 = Target,Pos Y >= 0 && Target,Vel Y > 0
trigger1 = AnimElemTime(12) >= 0
value = ifelse(fvar(12) < 48 + 8 * (var(16)%4), 2226, 2227)
persistent = 0

[State 810, Bind 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2220]
type = A
movetype = H
physics = N
velset = 0, 0
sprpriority = 1

[State 820, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 2220

[State 5000, 5]
type = VarAdd
trigger1 = AuthorName = "Umihei"
trigger1 = var(16) >= 5
trigger1 = var(28)/100 = 0
var(28) = 100
ignorehitpause = 1

[State 1953]
type = VarAdd
trigger1 = AuthorName = "Umihei"
trigger1 = Time = 41
fvar(11) = ifelse(48 + 8 * (var(16)%4) - fvar(11) > 5, 5, 48 + 8 * (var(16)%4) - fvar(11))

[State 821, 4]
type = SelfState
trigger1 = Time >= 180
value = 5100

;---------------------------------------------------------------------------
[Statedef 2221]
type = L
movetype = H
physics = N
velset = 0, 0
sprpriority = 1

[State 1953]
type = ChangeAnim
trigger1 = time = 0
value = 5080

;---------------------------------------------------------------------------
[Statedef 2222]
type = A
movetype = H
physics = N
velset = 0, 0
sprpriority = 1

[State 820, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 2222

[State 1953]
type = VarAdd
trigger1 = AuthorName = "Umihei"
trigger1 = Time = 29
fvar(11) = ifelse(48 + 8 * (var(16)%4) - fvar(11) > 5, 5, 48 + 8 * (var(16)%4) - fvar(11))

;---------------------------------------------------------------------------
[Statedef 2223]
type = L
movetype = H
physics = N
velset = 0, 0
sprpriority = 1

[State 1953]
type = ChangeAnim
trigger1 = time = 0
value = 5080

;---------------------------------------------------------------------------
[Statedef 2224]
type = A
movetype= H
physics = N
velset = 0, 0
sprpriority = 1

[State 822, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 2224

[State 1000, 0]
type = AngleSet
trigger1 = time = 0
value = 0

[State 1000, 0]
type = AngleDraw
trigger1 = time >= 0

[State 1000, 0]
type = AngleAdd
trigger1 = AnimElemTime(3) = 0
value = -90

[State 1000, 0]
type = AngleAdd
trigger1 = AnimElemTime(5) = 0
value = 90

[State 1000, 0]
type = AngleAdd
trigger1 = AnimElemTime(6) = 0
value = -90

[State 1000, 0]
type = AngleAdd
trigger1 = AnimElemTime(9) = 0
value = 90

;---------------------------------------------------------------------------
[Statedef 2225]
type = A
movetype = H
physics = N
velset = -6, 5
sprpriority = 1

[State 822, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 822, 1]
type = VelAdd
Trigger1 = Time > 0
Y = .65

[State 1953]
type = VarAdd
trigger1 = AuthorName = "Umihei"
trigger1 = Time = 9
fvar(11) = ifelse(48 + 8 * (var(16)%4) - fvar(11) > 8, 8, 48 + 8 * (var(16)%4) - fvar(11))

;---------------------------------------------------------------------------
[Statedef 2226]
type = L
movetype = H
physics = N
velset = 0, 0
sprpriority = 1

[State 1953]
type = SelfState
trigger1 = time = 0
value = 5100

;---------------------------------------------------------------------------
[Statedef 2227]
type = L
movetype = H
physics = N
velset = 0, 0
sprpriority = 1

[State 1953]
type = ChangeState
trigger1 = time = 0
value = 6100

;---------------------------------------------------------------------------
[Statedef 2400]
ctrl = 0

[State 2011]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1

[State 210, 2]
type = VarAdd
trigger1 = var(19) < 60
var(19) = 1

[State 2011]
type = VarAdd
trigger1 = var(32)%10 = 1
var(32) = -1

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 5001
trigger2 = PrevStateNo = 5011
MoveType = H

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 161
trigger3 = PrevStateNo = 5001
StateType = S
Physics = S

[State 5120, 7]
type = StateTypeSet
trigger1 = PrevStateNo = 153
trigger2 = PrevStateNo = 163
trigger3 = PrevStateNo = 5011
StateType = C
Physics = C

[State 1200]
type = Gravity
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 1
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = 0, 50
postype = left
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 1200]
type = Explod
triggerall = var(8) = 0
triggerall = NumExplod(3350) = 0
triggerall = teamside = 2
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
bindtime = -1
anim = 3350
ID = 3350
facing = 1
ontop = 1
scale = .6, 1
pos = -65, 50
postype = right
ownpal = 1
supermovetime = 9999999999999999
pausemovetime = 9999999999999999
ignorehitpause = 1

[State 2011]
type = VelSet
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [322, 323]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
trigger1 = PrevStateNo != [1002, 1004]
trigger1 = PrevStateNo != [1012, 1014]
trigger1 = PrevStateNo != [1022, 1024]
trigger1 = PrevStateNo != [1052, 1054]
trigger1 = PrevStateNo != [1062, 1064]
trigger1 = PrevStateNo != [1102, 1104]
trigger1 = PrevStateNo != [1112, 1114]
trigger1 = PrevStateNo != [1122, 1124]
trigger1 = PrevStateNo != [1212, 1213]
trigger1 = PrevStateNo != [1262, 1263]
trigger1 = PrevStateNo != 1321
trigger1 = PrevStateNo != 1331
trigger1 = PrevStateNo != 1341
trigger1 = PrevStateNo != 1392
trigger1 = PrevStateNo != [1394, 1395]
X = 0

[State 2011]
type = ChangeState
triggerall = Time = 0
trigger1 = PrevStateNo != 151
trigger1 = PrevStateNo != 153
trigger1 = PrevStateNo != 161
trigger1 = PrevStateNo != 163
trigger1 = PrevStateNo != 3002
trigger1 = PrevStateNo != 3007
trigger1 = PrevStateNo != 3022
trigger1 = PrevStateNo != 3027
trigger1 = PrevStateNo != 5001
trigger1 = PrevStateNo != 5011
trigger1 = PrevStateNo != 5040
trigger1 = PrevStateNo != [5121, 5122]
trigger1 = PrevStateNo != 5210
trigger1 = PrevStateNo != [202, 203]
trigger1 = PrevStateNo != [212, 213]
trigger1 = PrevStateNo != [222, 223]
trigger1 = PrevStateNo != [232, 233]
trigger1 = PrevStateNo != [242, 243]
trigger1 = PrevStateNo != [252, 253]
trigger1 = PrevStateNo != [262, 263]
trigger1 = PrevStateNo != [272, 273]
trigger1 = PrevStateNo != [282, 283]
trigger1 = PrevStateNo != [292, 293]
trigger1 = PrevStateNo != [302, 303]
trigger1 = PrevStateNo != [312, 313]
trigger1 = PrevStateNo != [322, 323]
trigger1 = PrevStateNo != [402, 403]
trigger1 = PrevStateNo != [412, 413]
trigger1 = PrevStateNo != [422, 423]
trigger1 = PrevStateNo != [432, 433]
trigger1 = PrevStateNo != [442, 443]
trigger1 = PrevStateNo != [452, 453]
trigger1 = PrevStateNo != [1002, 1004]
trigger1 = PrevStateNo != [1012, 1014]
trigger1 = PrevStateNo != [1022, 1024]
trigger1 = PrevStateNo != [1052, 1054]
trigger1 = PrevStateNo != [1062, 1064]
trigger1 = PrevStateNo != [1102, 1104]
trigger1 = PrevStateNo != [1112, 1114]
trigger1 = PrevStateNo != [1122, 1124]
trigger1 = PrevStateNo != [1212, 1213]
trigger1 = PrevStateNo != [1262, 1263]
trigger1 = PrevStateNo != 1321
trigger1 = PrevStateNo != 1331
trigger1 = PrevStateNo != 1341
trigger1 = PrevStateNo != 1392
trigger1 = PrevStateNo != [1394, 1395]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(19) >= 60
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027

[State 210, 2]
type = ChangeState
triggerall = var(19) >= 60
trigger1 = PrevStateNo = 3002
trigger2 = PrevStateNo = 3007
trigger3 = PrevStateNo = 3022
trigger4 = PrevStateNo = 3027
trigger5 = PrevStateNo = [202, 203]
trigger6 = PrevStateNo = [212, 213]
trigger7 = PrevStateNo = [222, 223]
trigger8 = PrevStateNo = [232, 233]
trigger9 = PrevStateNo = [242, 243]
trigger10 = PrevStateNo = [252, 253]
trigger11 = PrevStateNo = [262, 263]
trigger12 = PrevStateNo = [272, 273]
trigger13 = PrevStateNo = [282, 283]
trigger14 = PrevStateNo = [292, 293]
trigger15 = PrevStateNo = [302, 303]
trigger16 = PrevStateNo = [312, 313]
trigger17 = PrevStateNo = [322, 323]
trigger18 = PrevStateNo = [402, 403]
trigger19 = PrevStateNo = [412, 413]
trigger20 = PrevStateNo = [422, 423]
trigger21 = PrevStateNo = [432, 433]
trigger22 = PrevStateNo = [442, 443]
trigger23 = PrevStateNo = [452, 453]
trigger24 = PrevStateNo = [1002, 1004]
trigger25 = PrevStateNo = [1012, 1014]
trigger26 = PrevStateNo = [1022, 1024]
trigger27 = PrevStateNo = [1052, 1054]
trigger28 = PrevStateNo = [1062, 1064]
trigger29 = PrevStateNo = [1102, 1104]
trigger30 = PrevStateNo = [1112, 1114]
trigger31 = PrevStateNo = [1122, 1124]
trigger32 = PrevStateNo = [1212, 1213]
trigger33 = PrevStateNo = [1262, 1263]
trigger34 = PrevStateNo = 1321
trigger35 = PrevStateNo = 1331
trigger36 = PrevStateNo = 1341
trigger37 = PrevStateNo = 1392
trigger38 = PrevStateNo = [1394, 1395]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = var(8) = 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]

[State 2011]
type = ChangeState
triggerall = var(8) = 0
trigger1 = PrevStateNo = 151
trigger2 = PrevStateNo = 153
trigger3 = PrevStateNo = 161
trigger4 = PrevStateNo = 163
trigger5 = PrevStateNo = 5001
trigger6 = PrevStateNo = 5011
trigger7 = PrevStateNo = [5121, 5122]
value = StateNo + 1

[State 2011]
type = Turn
triggerall = Pos Y >= 0 && Vel Y > 0
triggerall = P2Dist X < 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210

[State 2011]
type = ChangeState
triggerall = Pos Y >= 0 && Vel Y > 0
trigger1 = PrevStateNo = 5040
trigger2 = PrevStateNo = 5210
value = StateNo + 1

;---------------------------------------------------------------------------
[Statedef 2401]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2401
poweradd = -720

[State 2011]
type = VelSet
trigger1 = time = 0
trigger1 = Vel Y != 0
X = 0
Y = 0

[State 2011]
type = PosSet
trigger1 = time = 0
trigger1 = Pos Y != 0
Y = 0

[State 221]
type = RemoveExplod
trigger1 = Time = 0
ID = 1040

[State 221]
type = RemoveExplod
trigger1 = Time = 0
ID = 1045

[State 200, 5]
type = PlaySnd
trigger1 = AnimElemTime(1) = 0
value = 2400, 0

[State 221]
type = Explod
trigger1 = Time = 0
anim= 2410
ID = 2410
bindtime = -1
pos = 0, 0
postype = p1
scale = const(size.xscale), const(size.yscale)
sprpriority = 3
pausemovetime = 50
supermovetime = 50

[State 3000]
type = PlaySnd
trigger1 = time = 0
value = 2000, 0

[State 3200, 2]
type = SuperPause
trigger1 = Time = 0
anim = -1
movetime = 50
darken = 1
bindtime = -1
sprpriority = 3
Time = 50

[State 2001, SA Effect]
type = Explod
trigger1 = time = 0
anim = 3400
pos = ceil(0 * const(size.xscale)), ceil(-80 * const(size.yscale))
postype = p1
scale = const(size.xscale), const(size.yscale)
pausemovetime = 9999
supermovetime = 9999
ontop = 1

[State 2001, SA Effect]
type = Explod
trigger1 = Time = 32
anim = 3410
pos = ceil(155 * const(size.xscale)), ceil(108 * const(size.yscale))
postype = Left
scale = const(size.xscale), const(size.yscale)
pausemovetime = 9999
supermovetime = 9999
ontop = 1

[State 2001, SA Effect]
type = Explod
trigger1 = Time = 43
anim = 3420
pos = ceil(6 * const(size.xscale)), ceil(0 * const(size.yscale))
postype = p1
scale = const(size.xscale), const(size.yscale)
pausemovetime = 9999
supermovetime = 9999
ontop = 1

[State 3200, 22]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3000]
type = AfterImage
trigger1 = time = 0
time = 999
TimeGap  = 2
FrameGap = 3
length = 20
PalPostBright = 0, 0, 255
trans = add1

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 16, ifelse(P2BodyDist X <= 16, P2BodyDist X, 16))

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(3) = 0
X = ifelse(EnemyNear,StateType = A || P2BodyDist X < 0, 18, ifelse(P2BodyDist X <= 18, P2BodyDist X, 18))

[State 2405]
type = ChangeState
trigger1 = AnimTime = 0
value = 2402

;---------------------------------------------------------------------------
[Statedef 2402]
type = S
movetype = A
physics = S
ctrl = 0
anim = 2402

[State 2011]
type = Helper
trigger1 = Time = 0
StateNo = 2420
ID = 2420
pos = 29, 0
postype = p1
ownpal = 1

[State 2011]
type = Helper
trigger1 = Time = 8
StateNo = 2420
ID = 2420
pos = 13, 0
postype = p1
ownpal = 1

[State 2011]
type = Helper
trigger1 = Time = 18
StateNo = 2421
ID = 2421
pos = -2, 0
postype = p1
ownpal = 1

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(2) = 0
X = 16

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(4) = 0
X = -32

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(5) = 0
X = -16

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(6) = 0
X = -16

[State 1200, 4]
type = PosAdd
trigger1 = AnimElemTime(10) = 0
X = 16

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 2409

;---------------------------------------------------------------------------
[Statedef 2409]
type = S
movetype = A
physics = S
ctrl = 1
anim = 2409

[State 1200, 22]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 2420]
type = C
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 8999

[State 2011]
type = VarSet
trigger1 = time = 0
var(1) = 0

[State 2011]
type = ChangeState
trigger1 = time = 2
value = 2422

[State 2011]
type = DestroySelf
trigger1 = parent,movetype = H

;---------------------------------------------------------------------------
[Statedef 2421]
type = C
movetype = A
physics = N
velset = 0, 0
ctrl = 0
anim = 8999

[State 2011]
type = VarSet
trigger1 = time = 0
var(1) = 1

[State 2011]
type = ChangeState
trigger1 = time = 2
value = 2422

[State 2011]
type = DestroySelf
trigger1 = parent,movetype = H

;---------------------------------------------------------------------------
;1st Part
[Statedef 2422]
type = C
movetype = A
physics = N
ctrl = 0
anim = 2422
sprpriority = 3

[State 2011]
type = DestroySelf
trigger1 = time = 0
trigger1 = parent,movetype = H

[State 152]
type = AttackMulSet
trigger1 = 1
value = 0.87 * (1 + 0.313 * fvar(24))

[State 2011]
type = PlaySnd
trigger1 = time = 0
value = 2400, 1

[State 1200, 4]
type = ParentVarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateType = A
trigger2 = var(1) = 1
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = ParentVarSet
trigger1 = MoveHit
var(5) = 11 - (EnemyNear,StateType != A) * (var(1) = 0)
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = ParentVarAdd
trigger1 = MoveHit
trigger1 = parent,var(28)%100 = 0
var(28) = 1
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = ParentVarSet
trigger1 = MoveHit
var(46) = 9

[State 2011]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 1231]
type = HitDef
trigger1 = var(1) = 0
trigger1 = parent,var(3) < 36
attr = C, HP
damage = ifelse(100 - 5 * parent,var(29) < 10, 10, 100 - 5 * parent,var(29)), ifelse(12 - parent,var(29) < 1, 1, 12 - parent,var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = L
hitflag = MAF
priority = 4, Hit
pausetime = 0, 12
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
guard.ctrltime = 11
ground.velocity = -2.5 * 5
ground.cornerpush.veloff = 0
air.velocity = -2.5 * 3, -2.5 * 4
yaccel = .65
P2Facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120,120,120,3

[State 1231]
type = HitDef
trigger1 = var(1) = 1
trigger1 = parent,var(3) < 36
attr = C, HP
damage = ifelse(100 - 5 * parent,var(29) < 10, 10, 100 - 5 * parent,var(29)), ifelse(12 - parent,var(29) < 1, 1, 12 - parent,var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = L
hitflag = MAF
priority = 4, Hit
pausetime = 0, 12
guard.ctrltime = 11
ground.velocity = -2.5 * 3, -2.5 * 4
ground.cornerpush.veloff = 0
air.velocity = -2.5 * 3, -2.5 * 4
yaccel = .65
P2Facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120,120,120,3

[State 225, 1]
type = ParentVarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * ((parent,var(16)%4)) - parent,fvar(12) > 9, 9, 48 + 8 * ((parent,var(16)%4)) - parent,fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = parent,fvar(12) >= 48 + 8 * ((parent,var(16))%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = MoveHit
triggerall = parent,var(16) < 5
triggerall = parent,fvar(12) < 48 + 8 * ((parent,var(16)%4))
trigger1 = EnemyNear,StateType = A
trigger2 = var(1) = 1
value = 7020
persistent = 0
ignorehitpause = 1

[State 2011]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP

[State 2011]
type = HitOverride
trigger1 = 1
attr = SCA, NP, SP, HP
slot = 0
StateNo = 2428

[State 2011]
type = ChangeState
trigger1 = MoveGuarded
value = 2428

[State 2011]
type = ChangeState
trigger1 = MoveHit
value = 2425

[State 2011]
type = ChangeState
trigger1 = AnimTime = 0
value = 2430

;---------------------------------------------------------------------------
;HitStop
[Statedef 2425]
type = C
movetype = A
physics = N
ctrl = 0
velset = 0, 0
sprpriority = 3

[State 2011]
type = PlaySnd
trigger1 = time = 0
value = 2400, 1

[State 221]
type = Explod
trigger1 = Time = 0
anim= 2425
ID = 2425
pos = 0, 0
postype = p2
facing = -1
scale = const(size.xscale), const(size.yscale)
sprpriority = 4


[State 625, 4]
type = DestroySelf
trigger1 = time = 0

;---------------------------------------------------------------------------
;GuardStop
[Statedef 2428]
type = C
movetype = A
physics = N
ctrl = 0
velset = 0, 0
sprpriority = 3

[State 2011]
type = PlaySnd
trigger1 = time = 0
value = 200, 2

[State 221]
type = Explod
trigger1 = Time = 0
anim= 2425
ID = 2425
pos = 0, 0
postype = p2
facing = -1
scale = const(size.xscale), const(size.yscale)
sprpriority = 4


[State 625, 4]
type = DestroySelf
trigger1 = time = 0

;---------------------------------------------------------------------------
[Statedef 2430]
type = C
movetype = A
physics = N
ctrl = 0
anim = 2430
sprpriority = 3

[State 152]
type = AttackMulSet
trigger1 = 1
value = 0.87 * (1 + 0.313 * fvar(24))

[State 221]
type = PosAdd
trigger1 = Time = 0
X = 92

[State 221]
type = Explod
trigger1 = Time = 0
anim= 2450
ID = 2450
pos = -46, 0
postype = p1
scale = const(size.xscale), const(size.yscale)
sprpriority = 4


[State 1200, 4]
type = ParentVarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateType = A
trigger2 = var(1) = 1
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = ParentVarSet
trigger1 = MoveHit
var(5) = 11 - (EnemyNear,StateType != A) * (var(1) = 0)
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = ParentVarAdd
trigger1 = MoveHit
trigger1 = parent,var(28)%100 = 0
var(28) = 1
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = ParentVarSet
trigger1 = MoveHit
var(46) = 9

[State 2011]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 1231]
type = HitDef
trigger1 = var(1) = 0
trigger1 = parent,var(3) < 36
attr = C, HP
damage = ifelse(100 - 5 * parent,var(29) < 10, 10, 100 - 5 * parent,var(29)), ifelse(12 - parent,var(29) < 1, 1, 12 - parent,var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = L
hitflag = MAF
priority = 4, Hit
pausetime = 0, 12
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
guard.ctrltime = 11
ground.velocity = -2.5 * 5
ground.cornerpush.veloff = 0
air.velocity = -2.5 * 3, -2.5 * 4
yaccel = .65
P2Facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120,120,120,3

[State 1231]
type = HitDef
trigger1 = var(1) = 1
trigger1 = parent,var(3) < 36
attr = C, HP
damage = ifelse(100 - 5 * parent,var(29) < 10, 10, 100 - 5 * parent,var(29)), ifelse(12 - parent,var(29) < 1, 1, 12 - parent,var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = L
hitflag = MAF
priority = 4, Hit
pausetime = 0, 12
guard.ctrltime = 11
ground.velocity = -2.5 * 3, -2.5 * 4
ground.cornerpush.veloff = 0
air.velocity = -2.5 * 3, -2.5 * 4
yaccel = .65
P2Facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120,120,120,3

[State 225, 1]
type = ParentVarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * ((parent,var(16)%4)) - parent,fvar(12) > 9, 9, 48 + 8 * ((parent,var(16)%4)) - parent,fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = parent,fvar(12) >= 48 + 8 * ((parent,var(16))%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = MoveHit
triggerall = parent,var(16) < 5
triggerall = parent,fvar(12) < 48 + 8 * ((parent,var(16)%4))
trigger1 = EnemyNear,StateType = A
trigger2 = var(1) = 1
value = 7020
persistent = 0
ignorehitpause = 1

[State 2011]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP

[State 2011]
type = HitOverride
trigger1 = 1
attr = SCA, NP, SP, HP
slot = 0
StateNo = 2428

[State 2011]
type = ChangeState
trigger1 = MoveGuarded
value = 2428

[State 2011]
type = ChangeState
trigger1 = MoveHit
value = 2425

[State 4110]
type = DestroySelf
trigger1 = FrontEdgeDist <= -40

[State 2011]
type = ChangeState
trigger1 = AnimTime = 0
value = 2440

;---------------------------------------------------------------------------
[Statedef 2440]
type = C
movetype = A
physics = N
ctrl = 0
anim = 2440
sprpriority = 3

[State 152]
type = AttackMulSet
trigger1 = 1
value = 0.87 * (1 + 0.313 * fvar(24))

[State 221]
type = PosAdd
trigger1 = Time = 0
X = 92

[State 221]
type = Explod
trigger1 = Time = 0
anim= 2450
ID = 2450
pos = -46, 0
postype = p1
scale = const(size.xscale), const(size.yscale)
sprpriority = 4


[State 1200, 4]
type = ParentVarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateType = A
trigger2 = var(1) = 1
var(3) = 6
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = ParentVarSet
trigger1 = MoveHit
var(5) = 11 - (EnemyNear,StateType != A) * (var(1) = 0)
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = ParentVarAdd
trigger1 = MoveHit
trigger1 = parent,var(28)%100 = 0
var(28) = 1
persistent = 0
ignorehitpause = 1

[State 225, 1]
type = ParentVarSet
trigger1 = MoveHit
var(46) = 9

[State 2011]
type = VarSet
trigger1 = time > 0
fvar(13) = Vel X

[State 1231]
type = HitDef
trigger1 = var(1) = 0
trigger1 = parent,var(3) < 36
attr = C, HP
damage = ifelse(100 - 5 * parent,var(29) < 10, 10, 100 - 5 * parent,var(29)), ifelse(12 - parent,var(29) < 1, 1, 12 - parent,var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = L
hitflag = MAF
priority = 4, Hit
pausetime = 0, 12
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
guard.ctrltime = 11
ground.velocity = -2.5 * 5
ground.cornerpush.veloff = 0
air.velocity = -2.5 * 3, -2.5 * 4
yaccel = .65
P2Facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120,120,120,3

[State 1231]
type = HitDef
trigger1 = var(1) = 1
trigger1 = parent,var(3) < 36
attr = C, HP
damage = ifelse(100 - 5 * parent,var(29) < 10, 10, 100 - 5 * parent,var(29)), ifelse(12 - parent,var(29) < 1, 1, 12 - parent,var(29))
getpower = 0, 0
givepower = 0, 0
animtype = H
guardflag = L
hitflag = MAF
priority = 4, Hit
pausetime = 0, 12
guard.ctrltime = 11
ground.velocity = -2.5 * 3, -2.5 * 4
ground.cornerpush.veloff = 0
air.velocity = -2.5 * 3, -2.5 * 4
yaccel = .65
P2Facing = 1
palfx.color = 60
palfx.time = 18
palfx.sinadd = 120,120,120,3

[State 225, 1]
type = ParentVarAdd
triggerall = MoveHit
trigger1 = EnemyNear,StateNo = 5000
trigger2 = EnemyNear,StateNo = 5010
trigger3 = EnemyNear,StateNo = 5020
fvar(12) = ifelse(48 + 8 * ((parent,var(16)%4)) - parent,fvar(12) > 9, 9, 48 + 8 * ((parent,var(16)%4)) - parent,fvar(12))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
trigger1 = MoveHit
trigger1 = parent,fvar(12) >= 48 + 8 * ((parent,var(16))%4)
value = ifelse(EnemyNear,StateType = S, 6000, ifelse(EnemyNear,StateType = C, 6010, 6020))
persistent = 0
ignorehitpause = 1

[State 221]
type = TargetState
triggerall = MoveHit
triggerall = parent,var(16) < 5
triggerall = parent,fvar(12) < 48 + 8 * ((parent,var(16)%4))
trigger1 = EnemyNear,StateType = A
trigger2 = var(1) = 1
value = 7020
persistent = 0
ignorehitpause = 1

[State 2011]
type = HitBy
trigger1 = 1
value = SCA, NP, SP, HP

[State 2011]
type = HitOverride
trigger1 = 1
attr = SCA, NP, SP, HP
slot = 0
StateNo = 2428

[State 2011]
type = ChangeState
trigger1 = MoveGuarded
value = 2428

[State 2011]
type = ChangeState
trigger1 = MoveHit
value = 2425

[State 4110]
type = DestroySelf
trigger1 = FrontEdgeDist <= -40

[State 2011]
type = ChangeState
trigger1 = AnimTime = 0
value = 2430

;---------------------------------------------------------------------------
[Statedef 2600]
ctrl = 0
anim = 8999

[State 1200, 22]
type = ChangeState
trigger1 = Time = 0
value = 2601 + Random%3

;---------------------------------------------------------------------------
;Super Arts Select (SA1)
[Statedef 2601]
ctrl = 0
anim = 8999

[State -2, 3]
type = ParentVarSet
trigger1 = Time = 0
var(17) = 1

[State 200, 3]
type = Playsnd
triggerall = time > 10
trigger1 = parent,command = "Down"
value = 2600, 0
channel = 10

[State 190, 1]
type = ChangeState
triggerall = time > 10
trigger1 = parent,command = "Down"
value = 2602

[State 200, 3]
type = Playsnd
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
;trigger3 = parent,StateNo = 0
value = 2600, 1
channel = 10

[STate 1115,1]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
;trigger3 = parent,StateNo = 0

;---------------------------------------------------------------------------
;Super Arts Select (SA2)
[Statedef 2602]
ctrl = 0
anim = 8999

[State -2, 3]
type = ParentVarSet
trigger1 = Time = 0
var(17) = 2

[State 200, 3]
type = Playsnd
triggerall = time > 10
trigger1 = parent,command = "Up"
value = 2600, 0
channel = 10

[State 200, 3]
type = Playsnd
triggerall = time > 10
trigger1 = parent,command = "Down"
value = 2600, 0
channel = 10

[State 190, 1]
type = ChangeState
triggerall = time > 10
trigger1 = parent,command = "Up"
value = 2601

[State 190, 1]
type = ChangeState
triggerall = time > 10
trigger1 = parent,command = "Down"
value = 2603

[State 200, 3]
type = Playsnd
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
;trigger3 = parent,StateNo = 0
value = 2600, 1
channel = 10

[STate 1115,1]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
;trigger3 = parent,StateNo = 0

;---------------------------------------------------------------------------
;Super Arts Select(SA3)
[Statedef 2603]
ctrl = 0
anim = 8999

[State -2, 3]
type = ParentVarSet
trigger1 = Time = 0
var(17) = 3

[State 200, 3]
type = Playsnd
triggerall = time > 10
trigger1 = parent,command = "Up"
value = 2600, 0

[State 200, 3]
type = Playsnd
triggerall = time > 10
trigger1 = parent,command = "Down"
trigger1 = parent,var(15) = 0
value = 2600, 0

[State 190, 1]
type = ChangeState
triggerall = time > 10
trigger1 = parent,command = "Up"
value = 2602

[State 190, 1]
type = ChangeState
triggerall = time > 10
trigger1 = parent,command = "Down"
trigger1 = parent,var(15) = 0
value = 2604

[State 200, 3]
type = Playsnd
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
;trigger3 = parent,StateNo = 0
value = 2600, 1

[STate 1115,1]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
;trigger3 = parent,StateNo = 0

;---------------------------------------------------------------------------
;Super Arts Select(Auto Blocking)
[Statedef 2604]
ctrl = 0
anim = 8999

[State -2, 3]
type = ParentVarSet
trigger1 = Time = 0
var(17) = 4

[State 200, 3]
type = Playsnd
triggerall = time > 10
trigger1 = parent,command = "Up"
value = 2600, 0

[State 200, 3]
type = Playsnd
triggerall = time > 10
trigger1 = parent,command = "Down"
value = 2600, 0

[State 190, 1]
type = ChangeState
triggerall = time > 10
trigger1 = parent,command = "Up"
value = 2603

[State 190, 1]
type = ChangeState
triggerall = time > 10
trigger1 = parent,command = "Down"
value = 2605

[State 200, 3]
type = Playsnd
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
;trigger3 = parent,StateNo = 0
value = 2600, 1

[STate 1115,1]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
;trigger3 = parent,StateNo = 0

;---------------------------------------------------------------------------
;Super Arts Select(Auto Guard Blocking)
[Statedef 2605]
ctrl = 0
anim = 8999

[State -2, 3]
type = ParentVarSet
trigger1 = Time = 0
var(17) = 5

[State 200, 3]
type = Playsnd
triggerall = time > 10
trigger1 = parent,command = "Up"
value = 2600, 0

[State 190, 1]
type = ChangeState
triggerall = time > 10
trigger1 = parent,command = "Up"
value = 2604

[State 200, 3]
type = Playsnd
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
;trigger3 = parent,StateNo = 0
value = 2600, 1

[STate 1115,1]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
;trigger3 = parent,StateNo = 0

;---------------------------------------------------------------------------
[Statedef 2700]
ctrl = 0
anim = 8999

[State 1200, 22]
type = ChangeState
trigger1 = Time = 0
value = 2701 + Random%3

;---------------------------------------------------------------------------
;Super Arts Select (SA1)
[Statedef 2701]
ctrl = 0
anim = 8999

[State -2, 3]
type = ParentVarSet
trigger1 = Time = 0
var(17) = 1

[State 200, 3]
type = Playsnd
triggerall = time > 10
trigger1 = parent,command = "Up"
trigger2 = parent,command = "Down"
value = 2600, 0
channel = 10

[State 190, 1]
type = ChangeState
triggerall = time > 10
trigger1 = parent,command = "Up"
value = 2703

[State 190, 1]
type = ChangeState
triggerall = time > 10
trigger1 = parent,command = "Down"
value = 2702

[State 200, 3]
type = Playsnd
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
;trigger3 = parent,StateNo = 0
value = 2600, 1
channel = 10

[STate 1115,1]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
;trigger3 = parent,StateNo = 0

;---------------------------------------------------------------------------
;Super Arts Select (SA2)
[Statedef 2702]
ctrl = 0
anim = 8999

[State -2, 3]
type = ParentVarSet
trigger1 = Time = 0
var(17) = 2

[State 200, 3]
type = Playsnd
triggerall = time > 10
trigger1 = parent,command = "Up"
trigger2 = parent,command = "Down"
value = 2600, 0
channel = 10

[State 190, 1]
type = ChangeState
triggerall = time > 10
trigger1 = parent,command = "Up"
value = 2701

[State 190, 1]
type = ChangeState
triggerall = time > 10
trigger1 = parent,command = "Down"
value = 2703

[State 200, 3]
type = Playsnd
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
;trigger3 = parent,StateNo = 0
value = 2600, 1
channel = 10

[STate 1115,1]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
;trigger3 = parent,StateNo = 0

;---------------------------------------------------------------------------
;Super Arts Select(SA3)
[Statedef 2703]
ctrl = 0
anim = 8999

[State -2, 3]
type = ParentVarSet
trigger1 = Time = 0
var(17) = 3

[State 200, 3]
type = Playsnd
triggerall = time > 10
trigger1 = parent,command = "Up"
trigger2 = parent,command = "Down"
value = 2600, 0
channel = 10

[State 190, 1]
type = ChangeState
triggerall = time > 10
trigger1 = parent,command = "Up"
value = 2702

[State 190, 1]
type = ChangeState
triggerall = time > 10
trigger1 = parent,command = "Down"
value = 2701

[State 200, 3]
type = Playsnd
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
;trigger3 = parent,StateNo = 0
value = 2600, 1

[STate 1115,1]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "a" || parent,command = "b" || parent,command = "c" || parent,command = "x" || parent,command = "y" || parent,command = "z"
;trigger3 = parent,StateNo = 0

;---------------------------------------------------------------------------
Stun Mode Dicider
[Statedef 2800]
anim = 8999

[State 2651]
type = ChangeState
trigger1 = EnemyNear,Authorname = "Umihei"
value = ifelse(parent,var(16) < 1000, 2820, 2830)

[State 2651]
type = ChangeState
trigger1 = parent,var(16) > 3
value = 2810

[State 2651]
type = ChangeState
trigger1 = parent,var(16) <= 3
value = 2810 + parent,var(16)

;---------------------------------------------------------------------------
;Stun Gauge (Players do not Stun)
[Statedef 2810]
anim = 8999

[State 2651]
type = ParentVarSet
trigger1 = time = 0
var(16) = 0

[State 2651]
type = PlaySnd
triggerall = roundstate = 1
triggerall = time > 10
trigger1 = parent,command = "Back"
trigger2 = parent,command = "Fwd"
value = 2600, 0

[State 2651]
type = ChangeState
triggerall = roundstate = 1
triggerall = time > 10
trigger1 = parent,command = "Back"
trigger1 = teamside = 1
trigger2 = parent,command = "Fwd"
trigger2 = teamside = 2
value = 2813

[State 2651]
type = ChangeState
triggerall = roundstate = 1
triggerall = time > 10
trigger1 = parent,command = "Fwd"
trigger1 = teamside = 1
trigger2 = parent,command = "Back"
trigger2 = teamside = 2
value = 2811

[State 2651]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "x"
trigger3 = parent,command = "y"
trigger4 = parent,command = "z"
trigger5 = parent,command = "a"
trigger6 = parent,command = "b"
trigger7 = parent,command = "c"
;trigger8 = parent,StateNo = 0

;---------------------------------------------------------------------------
;Stun Gauge (56 dot)
[Statedef 2811]
anim = 8999

[State 2652]
type = ParentVarSet
trigger1 = time = 0
var(16) = 1

[State 2652]
type = PlaySnd
triggerall = roundstate = 1
triggerall = time > 10
trigger1 = parent,command = "Back"
trigger2 = parent,command = "Fwd"
value = 2600, 0

[State 2652]
type = ChangeState
triggerall = roundstate = 1
triggerall = time > 10
trigger1 = parent,command = "Back"
trigger1 = teamside = 1
trigger2 = parent,command = "Fwd"
trigger2 = teamside = 2
value = 2810

[State 2652]
type = ChangeState
triggerall = roundstate = 1
triggerall = time > 10
trigger1 = parent,command = "Fwd"
trigger1 = teamside = 1
trigger2 = parent,command = "Back"
trigger2 = teamside = 2
value = 2812

[State 2652]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "x"
trigger3 = parent,command = "y"
trigger4 = parent,command = "z"
trigger5 = parent,command = "a"
trigger6 = parent,command = "b"
trigger7 = parent,command = "c"
;trigger8 = parent,StateNo = 0

;---------------------------------------------------------------------------
;Stun Gauge (64 dot)
[Statedef 2812]
anim = 8999

[State 2653]
type = ParentVarSet
trigger1 = time = 0
var(16) = 2

[State 2653]
type = PlaySnd
triggerall = roundstate = 1
triggerall = time > 10
trigger1 = parent,command = "Back"
trigger2 = parent,command = "Fwd"
value = 2600, 0

[State 2653]
type = ChangeState
triggerall = roundstate = 1
triggerall = time > 10
trigger1 = parent,command = "Back"
trigger1 = teamside = 1
trigger2 = parent,command = "Fwd"
trigger2 = teamside = 2
value = 2811

[State 2653]
type = ChangeState
triggerall = roundstate = 1
triggerall = time > 10
trigger1 = parent,command = "Fwd"
trigger1 = teamside = 1
trigger2 = parent,command = "Back"
trigger2 = teamside = 2
value = 2813

[State 2653]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "x"
trigger3 = parent,command = "y"
trigger4 = parent,command = "z"
trigger5 = parent,command = "a"
trigger6 = parent,command = "b"
trigger7 = parent,command = "c"
;trigger8 = parent,StateNo = 0

;---------------------------------------------------------------------------
;Stun Gauge (72 dot)
[Statedef 2813]
anim = 8999

[State 2654]
type = ParentVarSet
trigger1 = time = 0
var(16) = 3

[State 2654]
type = PlaySnd
triggerall = roundstate = 1
triggerall = time > 10
trigger1 = parent,command = "Back"
trigger2 = parent,command = "Fwd"
value = 2600, 0

[State 2654]
type = ChangeState
triggerall = roundstate = 1
triggerall = time > 10
trigger1 = parent,command = "Back"
trigger1 = teamside = 1
trigger2 = parent,command = "Fwd"
trigger2 = teamside = 2
value = 2812

[State 2654]
type = ChangeState
triggerall = roundstate = 1
triggerall = time > 10
trigger1 = parent,command = "Fwd"
trigger1 = teamside = 1
trigger2 = parent,command = "Back"
trigger2 = teamside = 2
value = 2810

[State 2654]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "x"
trigger3 = parent,command = "y"
trigger4 = parent,command = "z"
trigger5 = parent,command = "a"
trigger6 = parent,command = "b"
trigger7 = parent,command = "c"
;trigger8 = parent,StateNo = 0

;---------------------------------------------------------------------------
[Statedef 2820]
anim = 8999

[State 2654]
type = ParentVarSet
trigger1 = time = 0
var(16) = 6

[State 2654]
type = PlaySnd
triggerall = roundstate = 1
triggerall = time > 10
trigger1 = parent,command = "Fwd"
trigger2 = parent,command = "Back"
value = 2600, 0

[State 2654]
type = ChangeState
triggerall = roundstate = 1
triggerall = time > 10
trigger1 = parent,command = "Fwd"
trigger2 = parent,command = "Back"
value = 2830

[State 2654]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "x"
trigger3 = parent,command = "y"
trigger4 = parent,command = "z"
trigger5 = parent,command = "a"
trigger6 = parent,command = "b"
trigger7 = parent,command = "c"
;trigger8 = parent,StateNo = 0

;---------------------------------------------------------------------------
[Statedef 2830]
anim = 8999

[State 2654]
type = ParentVarSet
trigger1 = time = 0
var(16) = 1006

[State 2654]
type = PlaySnd
triggerall = roundstate = 1
triggerall = time > 10
trigger1 = parent,command = "Fwd"
trigger2 = parent,command = "Back"
value = 2600, 0

[State 2654]
type = ChangeState
triggerall = roundstate = 1
triggerall = time > 10
trigger1 = parent,command = "Fwd"
trigger2 = parent,command = "Back"
value = 2820

[State 2654]
type = DestroySelf
trigger1 = roundstate > 1
trigger2 = parent,command = "x"
trigger3 = parent,command = "y"
trigger4 = parent,command = "z"
trigger5 = parent,command = "a"
trigger6 = parent,command = "b"
trigger7 = parent,command = "c"
;trigger8 = parent,StateNo = 0

;---------------------------------------------------------------------------
[Statedef 3000]
type = S
movetype = I
physics = S
velset = 0, 0
anim = 3000
ctrl = 0
poweradd = 40

[State 5000, 5]
type = VarSet
trigger1 = Time = 0
var(7) = GetHitVar(HitShakeTime)

[State 3000]
type = palFX
trigger1 = time = 0
time = 10
add = 0, 0, 150

[State 1300, 4]
type = PlaySnd
trigger1 = Time = 0
value = 3000, 0
pausemovetime = 9999
ignorehitpause = 1

[State 1300, 2]
type = Pause
trigger1 = time = 0
trigger1 = var(16) < 5
time = ifelse(var(7) < 20, 20 - var(7), 0)
movetime = ifelse(var(7) < 20, 20 - var(7), 0)
ignorehitpause = 1

[State 1300, Change]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3001

;---------------------------------------------------------------------------
[Statedef 3001]
type = S
movetype = I
physics = S
velset = 0, 0
anim = 3001
ctrl = 0

[State 1300, Change]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3002

;---------------------------------------------------------------------------
[Statedef 3002]
type = S
movetype = I
physics = S
velset = 0, 0
anim = 3002
ctrl = 0

[State -2, Blocking-1]
type = VarSet
trigger1 = time = 0
var(19) = 46

[State -2, Blocking-1]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State -2, Blocking-2]
type = VarSet
trigger1 = time = 0
var(33) = 0

[State -2, Blocking-1]
type = VarSet
trigger1 = time = 0
var(34) = 0

[State 130, Stop Guarding]
type = ChangeState
trigger1 = InGuardDist
trigger1 = var(19) >= 60
trigger1 = command = "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
value = 130

[State 130, Stop Guarding]
type = ChangeState
trigger1 = InGuardDist
trigger1 = var(19) >= 60
trigger1 = command = "holdback"
trigger1 = command = "holddown"
value = 131

[State 1300, Change]
type = ChangeState
trigger1 = var(19) >= 60
value = 3003

;---------------------------------------------------------------------------
[Statedef 3003]
type = S
movetype = I
physics = S
velset = 0, 0
anim = 3003

[State 1300, Change]
type = CtrlSet
Trigger1 = Time = 0
value = 1 - var(59)

[State 1300, Change]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3005]
type = S
movetype = I
physics = S
velset = 0, 0
anim = 3000
ctrl = 0
poweradd = 40

[State 5000, 5]
type = VarSet
trigger1 = Time = 0
var(7) = GetHitVar(HitShakeTime)

[State 3000]
type = palFX
trigger1 = time = 0
time = 10
add = 150, 0, 0

[State 1300, 4]
type = PlaySnd
trigger1 = Time = 0
value = 3000, 0
pausemovetime = 9999
ignorehitpause = 1

[State 1300, 2]
type = Pause
trigger1 = time = 0
trigger1 = var(16) < 5
time = ifelse(var(7) < 20, 20 - var(7), 0)
movetime = ifelse(var(7) < 20, 20 - var(7), 0)
ignorehitpause = 1

[State 1300, Change]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3006

;---------------------------------------------------------------------------
[Statedef 3006]
type = S
movetype = I
physics = S
velset = 0, 0
anim = 3001
ctrl = 0

[State 1300, Change]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3007

;---------------------------------------------------------------------------
[Statedef 3007]
type = S
movetype = I
physics = S
velset = 0, 0
anim = 3002
ctrl = 0

[State -2, Blocking-1]
type = VarSet
trigger1 = time = 0
var(19) = 46

[State -2, Blocking-1]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State -2, Blocking-2]
type = VarSet
trigger1 = time = 0
var(33) = 0

[State -2, Blocking-1]
type = VarSet
trigger1 = time = 0
var(34) = 0

[State 130, Stop Guarding]
type = ChangeState
trigger1 = InGuardDist
trigger1 = var(19) >= 60
trigger1 = command = "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
value = 130

[State 130, Stop Guarding]
type = ChangeState
trigger1 = InGuardDist
trigger1 = var(19) >= 60
trigger1 = command = "holdback"
trigger1 = command = "holddown"
value = 131

[State 1300, Change]
type = ChangeState
trigger1 = var(19) >= 60
value = 3008

;---------------------------------------------------------------------------
[Statedef 3008]
type = S
movetype = I
physics = S
velset = 0, 0
anim = 3003

[State 1300, Change]
type = CtrlSet
Trigger1 = Time = 0
value = 1 - var(59)

[State 1300, Change]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3020]
type = C
movetype = I
physics = C
velset = 0, 0
anim = 3020
ctrl = 0
poweradd = 40

[State 5000, 5]
type = VarSet
trigger1 = Time = 0
var(7) = GetHitVar(HitShakeTime)

[State 3000]
type = palFX
trigger1 = time = 0
time = 10
add = 0, 0, 150

[State 1300, 4]
type = PlaySnd
trigger1 = Time = 0
value = 3000, 0
pausemovetime = 9999
ignorehitpause = 1

[State 1300, 2]
type = Pause
trigger1 = time = 0
trigger1 = var(16) < 5
time = ifelse(var(7) < 20, 20 - var(7), 0)
movetime = ifelse(var(7) < 20, 20 - var(7), 0)
IgnoreHitPause = 1

[State 1300, Change]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3021

;---------------------------------------------------------------------------
[Statedef 3021]
type = C
movetype = I
physics = C
velset = 0, 0
anim = 3021
ctrl = 0

[State 1300, Change]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3022

;---------------------------------------------------------------------------
[Statedef 3022]
type = C
movetype = I
physics = C
velset = 0, 0
anim = 3022
ctrl = 0

[State -2, Blocking-1]
type = VarSet
trigger1 = time = 0
var(19) = 46

[State -2, Blocking-1]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State -2, Blocking-2]
type = VarSet
trigger1 = time = 0
var(35) = 0

[State -2, Blocking-1]
type = VarSet
trigger1 = time = 0
var(36) = 0

[State 130, Stop Guarding]
type = ChangeState
trigger1 = InGuardDist
trigger1 = var(19) >= 60
trigger1 = command = "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
value = 130

[State 130, Stop Guarding]
type = ChangeState
trigger1 = InGuardDist
trigger1 = var(19) >= 60
trigger1 = command = "holdback"
trigger1 = command = "holddown"
value = 131

[State 1300, Change]
type = ChangeState
trigger1 = var(19) >= 60
value = 3023

;---------------------------------------------------------------------------
[Statedef 3023]
type = C
movetype = I
physics = C
velset = 0, 0
anim = 3023

[State 1300, Change]
type = CtrlSet
Trigger1 = Time = 0
value = 1 - var(59)

[State 1300, Change]
type = ChangeState
Trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3025]
type = C
movetype = I
physics = C
velset = 0, 0
anim = 3020
ctrl = 0
poweradd = 40

[State 5000, 5]
type = VarSet
trigger1 = Time = 0
var(7) = GetHitVar(HitShakeTime)

[State 3000]
type = palFX
trigger1 = time = 0
time = 10
add = 150, 0, 0

[State 1300, 4]
type = PlaySnd
trigger1 = Time = 0
value = 3000, 0
pausemovetime = 9999
ignorehitpause = 1

[State 1300, 2]
type = Pause
trigger1 = time = 0
trigger1 = var(16) < 5
time = ifelse(var(7) < 20, 20 - var(7), 0)
movetime = ifelse(var(7) < 20, 20 - var(7), 0)
IgnoreHitPause = 1

[State 1300, Change]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3026

;---------------------------------------------------------------------------
[Statedef 3026]
type = C
movetype = I
physics = C
velset = 0, 0
anim = 3021
ctrl = 0

[State 1300, Change]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3027

;---------------------------------------------------------------------------
[Statedef 3027]
type = C
movetype = I
physics = C
velset = 0, 0
anim = 3022
ctrl = 0

[State -2, Blocking-1]
type = VarSet
trigger1 = time = 0
var(19) = 46

[State -2, Blocking-1]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State -2, Blocking-2]
type = VarSet
trigger1 = time = 0
var(35) = 0

[State -2, Blocking-1]
type = VarSet
trigger1 = time = 0
var(36) = 0

[State 130, Stop Guarding]
type = ChangeState
trigger1 = InGuardDist
trigger1 = var(19) >= 60
trigger1 = command = "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"
value = 130

[State 130, Stop Guarding]
type = ChangeState
trigger1 = InGuardDist
trigger1 = var(19) >= 60
trigger1 = command = "holdback"
trigger1 = command = "holddown"
value = 131

[State 1300, Change]
type = ChangeState
trigger1 = var(19) >= 60
value = 3028

;---------------------------------------------------------------------------
[Statedef 3028]
type = C
movetype = I
physics = C
velset = 0, 0
anim = 3023

[State 1300, Change]
type = CtrlSet
Trigger1 = Time = 0
value = 1 - var(59)

[State 1300, Change]
type = ChangeState
Trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3040]
type = A
movetype = I
physics = N
velset = 0, 0
anim = 3040
ctrl = 0
poweradd = 40

[State 5000, 5]
type = VarSet
trigger1 = Time = 0
var(7) = GetHitVar(HitShakeTime)

[State 3000]
type = palFX
trigger1 = time = 0
time = 10
add = 0, 0, 150

[State 1300, 4]
type = PlaySnd
trigger1 = Time = 0
value = 3000, 0
pausemovetime = 9999
ignorehitpause = 1

[State 1300, 2]
type = Pause
trigger1 = time = 0
trigger1 = var(16) < 5
time = ifelse(var(7) < 20, 20 - var(7), 0)
movetime = ifelse(var(7) < 20, 20 - var(7), 0)
IgnoreHitPause = 1

[State 1300, Change]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3041

;---------------------------------------------------------------------------
[Statedef 3041]
type = A
movetype = I
physics = N
velset = 0, 0
anim = 3041
ctrl = 0

[State 1300, Change]
type = ChangeState
Trigger1 = AnimTime = 0
value = 3042

;---------------------------------------------------------------------------
[Statedef 3042]
type = A
movetype = I
physics = N
velset = 0, 0
anim = 3042
ctrl = 0

[State -2, Blocking-1]
type = VarSet
trigger1 = time = 0
var(19) = 46

[State -2, Blocking-1]
type = VarAdd
trigger1 = time > 0
var(19) = 1

[State -2, Blocking-2]
type = VarSet
trigger1 = time = 0
var(33) = 0

[State -2, Blocking-1]
type = VarSet
trigger1 = time = 0
var(34) = 0

[State 1300, Change]
type = ChangeState
trigger1 = var(19) >= 60
value = 3060

;---------------------------------------------------------------------------
;Air State after Air Blocking
[Statedef 3060]
type = A
movetype = I
physics = N
anim = 3060

[State 1300, Change]
type = CtrlSet
Trigger1 = Time = 0
value = 1 - var(59)

[State 3060]
type = VelAdd
trigger1 = Time = 0
trigger1 = fvar(14) <= 0
X = fvar(13)
Y = fvar(14)

[State 3060]
type = VelAdd
trigger1 = Time = 0
trigger1 = fvar(14) > 0
X = fvar(13)
Y = - 3

[State 1300, widt]
type = VelAdd
trigger1 = time > 0
Y = 0.5

[State 1300, Change]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
trigger1 = var(14) = 0
value = 52
ctrl = 1

[State 1300, Change]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
trigger1 = var(14) = 1
value = 72

;---------------------------------------------------------------------------
;Quick Standing
[Statedef 3100]
type = L
movetype = I
physics = N
velset = 0, 0
ctrl = 0

[State 3200, 22]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5110, 11]
type = ChangeState
trigger1 = Anim = 5078
trigger1 = AnimElemTime(8) = 0
value = 3101

[State 5110, 11]
type = ChangeState
trigger1 = Anim = 5109
trigger1 = AnimElemTime(10) = 0
value = 3101

[State 5110, 11]
type = ChangeState
trigger1 = Time = 0
trigger1 = var(16) < 5
value = 3101

;---------------------------------------------------------------------------
[Statedef 3101]
type = S
movetype = I
physics = N
velset = 0, 0
anim = 3101
ctrl = 0

[State 3200, 22]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5110, 11]
type = Turn
trigger1 = Time = 0
trigger1 = P2Dist X < 0

[State 5110, 11]
type = ChangeState
trigger1 = AnimTime = 0
value = 3102

;---------------------------------------------------------------------------
[Statedef 3102]
type = S
movetype = I
physics = N
velset = -4, 0
anim = 3102
ctrl = 0

[State 3200, 22]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5110, 11]
type = ChangeState
trigger1 = AnimTime = 0
value = 3103

;---------------------------------------------------------------------------
[Statedef 3103]
type = S
movetype = I
physics = S
velset = 0, 0
anim = 3103
ctrl = 0

[State 3200, 22]
type = NotHitBy
trigger1 = 1
value = SCA

[State 5110, 11]
type = ChangeState
trigger1 = AnimTime = 0
value = 3104

;---------------------------------------------------------------------------
[Statedef 3104]
type = S
movetype = I
physics = S
anim = 3104
ctrl = 1

[State 5110, 11]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
